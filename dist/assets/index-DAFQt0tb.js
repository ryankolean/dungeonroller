function xC(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function Cc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function wC(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var Md={exports:{}},To={},$d={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty;function bC(){if(Ty)return Ne;Ty=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function v(L){return L===null||typeof L!="object"?null:(L=y&&L[y]||L["@@iterator"],typeof L=="function"?L:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,S={};function _(L,z,de){this.props=L,this.context=z,this.refs=S,this.updater=de||b}_.prototype.isReactComponent={},_.prototype.setState=function(L,z){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,z,"setState")},_.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function j(){}j.prototype=_.prototype;function N(L,z,de){this.props=L,this.context=z,this.refs=S,this.updater=de||b}var E=N.prototype=new j;E.constructor=N,k(E,_.prototype),E.isPureReactComponent=!0;var P=Array.isArray,R=Object.prototype.hasOwnProperty,M={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function $(L,z,de){var he,je={},ke=null,X=null;if(z!=null)for(he in z.ref!==void 0&&(X=z.ref),z.key!==void 0&&(ke=""+z.key),z)R.call(z,he)&&!I.hasOwnProperty(he)&&(je[he]=z[he]);var me=arguments.length-2;if(me===1)je.children=de;else if(1<me){for(var be=Array(me),_e=0;_e<me;_e++)be[_e]=arguments[_e+2];je.children=be}if(L&&L.defaultProps)for(he in me=L.defaultProps,me)je[he]===void 0&&(je[he]=me[he]);return{$$typeof:e,type:L,key:ke,ref:X,props:je,_owner:M.current}}function B(L,z){return{$$typeof:e,type:L.type,key:z,ref:L.ref,props:L.props,_owner:L._owner}}function H(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function ee(L){var z={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(de){return z[de]})}var te=/\/+/g;function ue(L,z){return typeof L=="object"&&L!==null&&L.key!=null?ee(""+L.key):z.toString(36)}function le(L,z,de,he,je){var ke=typeof L;(ke==="undefined"||ke==="boolean")&&(L=null);var X=!1;if(L===null)X=!0;else switch(ke){case"string":case"number":X=!0;break;case"object":switch(L.$$typeof){case e:case t:X=!0}}if(X)return X=L,je=je(X),L=he===""?"."+ue(X,0):he,P(je)?(de="",L!=null&&(de=L.replace(te,"$&/")+"/"),le(je,z,de,"",function(_e){return _e})):je!=null&&(H(je)&&(je=B(je,de+(!je.key||X&&X.key===je.key?"":(""+je.key).replace(te,"$&/")+"/")+L)),z.push(je)),1;if(X=0,he=he===""?".":he+":",P(L))for(var me=0;me<L.length;me++){ke=L[me];var be=he+ue(ke,me);X+=le(ke,z,de,be,je)}else if(be=v(L),typeof be=="function")for(L=be.call(L),me=0;!(ke=L.next()).done;)ke=ke.value,be=he+ue(ke,me++),X+=le(ke,z,de,be,je);else if(ke==="object")throw z=String(L),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return X}function ve(L,z,de){if(L==null)return L;var he=[],je=0;return le(L,he,"","",function(ke){return z.call(de,ke,je++)}),he}function re(L){if(L._status===-1){var z=L._result;z=z(),z.then(function(de){(L._status===0||L._status===-1)&&(L._status=1,L._result=de)},function(de){(L._status===0||L._status===-1)&&(L._status=2,L._result=de)}),L._status===-1&&(L._status=0,L._result=z)}if(L._status===1)return L._result.default;throw L._result}var Z={current:null},D={transition:null},J={ReactCurrentDispatcher:Z,ReactCurrentBatchConfig:D,ReactCurrentOwner:M};function Y(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:ve,forEach:function(L,z,de){ve(L,function(){z.apply(this,arguments)},de)},count:function(L){var z=0;return ve(L,function(){z++}),z},toArray:function(L){return ve(L,function(z){return z})||[]},only:function(L){if(!H(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ne.Component=_,Ne.Fragment=n,Ne.Profiler=o,Ne.PureComponent=N,Ne.StrictMode=r,Ne.Suspense=h,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,Ne.act=Y,Ne.cloneElement=function(L,z,de){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var he=k({},L.props),je=L.key,ke=L.ref,X=L._owner;if(z!=null){if(z.ref!==void 0&&(ke=z.ref,X=M.current),z.key!==void 0&&(je=""+z.key),L.type&&L.type.defaultProps)var me=L.type.defaultProps;for(be in z)R.call(z,be)&&!I.hasOwnProperty(be)&&(he[be]=z[be]===void 0&&me!==void 0?me[be]:z[be])}var be=arguments.length-2;if(be===1)he.children=de;else if(1<be){me=Array(be);for(var _e=0;_e<be;_e++)me[_e]=arguments[_e+2];he.children=me}return{$$typeof:e,type:L.type,key:je,ref:ke,props:he,_owner:X}},Ne.createContext=function(L){return L={$$typeof:l,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:a,_context:L},L.Consumer=L},Ne.createElement=$,Ne.createFactory=function(L){var z=$.bind(null,L);return z.type=L,z},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(L){return{$$typeof:d,render:L}},Ne.isValidElement=H,Ne.lazy=function(L){return{$$typeof:p,_payload:{_status:-1,_result:L},_init:re}},Ne.memo=function(L,z){return{$$typeof:m,type:L,compare:z===void 0?null:z}},Ne.startTransition=function(L){var z=D.transition;D.transition={};try{L()}finally{D.transition=z}},Ne.unstable_act=Y,Ne.useCallback=function(L,z){return Z.current.useCallback(L,z)},Ne.useContext=function(L){return Z.current.useContext(L)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(L){return Z.current.useDeferredValue(L)},Ne.useEffect=function(L,z){return Z.current.useEffect(L,z)},Ne.useId=function(){return Z.current.useId()},Ne.useImperativeHandle=function(L,z,de){return Z.current.useImperativeHandle(L,z,de)},Ne.useInsertionEffect=function(L,z){return Z.current.useInsertionEffect(L,z)},Ne.useLayoutEffect=function(L,z){return Z.current.useLayoutEffect(L,z)},Ne.useMemo=function(L,z){return Z.current.useMemo(L,z)},Ne.useReducer=function(L,z,de){return Z.current.useReducer(L,z,de)},Ne.useRef=function(L){return Z.current.useRef(L)},Ne.useState=function(L){return Z.current.useState(L)},Ne.useSyncExternalStore=function(L,z,de){return Z.current.useSyncExternalStore(L,z,de)},Ne.useTransition=function(){return Z.current.useTransition()},Ne.version="18.3.1",Ne}var Py;function Nf(){return Py||(Py=1,$d.exports=bC()),$d.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function SC(){if(Ry)return To;Ry=1;var e=Nf(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(d,h,m){var p,y={},v=null,b=null;m!==void 0&&(v=""+m),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(b=h.ref);for(p in h)r.call(h,p)&&!a.hasOwnProperty(p)&&(y[p]=h[p]);if(d&&d.defaultProps)for(p in h=d.defaultProps,h)y[p]===void 0&&(y[p]=h[p]);return{$$typeof:t,type:d,key:v,ref:b,props:y,_owner:o.current}}return To.Fragment=n,To.jsx=l,To.jsxs=l,To}var Ay;function _C(){return Ay||(Ay=1,Md.exports=SC()),Md.exports}var u=_C(),w=Nf();const Nr=Cc(w),vx=xC({__proto__:null,default:Nr},[w]);var Tl={},Fd={exports:{}},It={},Ud={exports:{}},Vd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oy;function jC(){return Oy||(Oy=1,(function(e){function t(D,J){var Y=D.length;D.push(J);e:for(;0<Y;){var L=Y-1>>>1,z=D[L];if(0<o(z,J))D[L]=J,D[Y]=z,Y=L;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var J=D[0],Y=D.pop();if(Y!==J){D[0]=Y;e:for(var L=0,z=D.length,de=z>>>1;L<de;){var he=2*(L+1)-1,je=D[he],ke=he+1,X=D[ke];if(0>o(je,Y))ke<z&&0>o(X,je)?(D[L]=X,D[ke]=Y,L=ke):(D[L]=je,D[he]=Y,L=he);else if(ke<z&&0>o(X,Y))D[L]=X,D[ke]=Y,L=ke;else break e}}return J}function o(D,J){var Y=D.sortIndex-J.sortIndex;return Y!==0?Y:D.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,d=l.now();e.unstable_now=function(){return l.now()-d}}var h=[],m=[],p=1,y=null,v=3,b=!1,k=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(D){for(var J=n(m);J!==null;){if(J.callback===null)r(m);else if(J.startTime<=D)r(m),J.sortIndex=J.expirationTime,t(h,J);else break;J=n(m)}}function P(D){if(S=!1,E(D),!k)if(n(h)!==null)k=!0,re(R);else{var J=n(m);J!==null&&Z(P,J.startTime-D)}}function R(D,J){k=!1,S&&(S=!1,j($),$=-1),b=!0;var Y=v;try{for(E(J),y=n(h);y!==null&&(!(y.expirationTime>J)||D&&!ee());){var L=y.callback;if(typeof L=="function"){y.callback=null,v=y.priorityLevel;var z=L(y.expirationTime<=J);J=e.unstable_now(),typeof z=="function"?y.callback=z:y===n(h)&&r(h),E(J)}else r(h);y=n(h)}if(y!==null)var de=!0;else{var he=n(m);he!==null&&Z(P,he.startTime-J),de=!1}return de}finally{y=null,v=Y,b=!1}}var M=!1,I=null,$=-1,B=5,H=-1;function ee(){return!(e.unstable_now()-H<B)}function te(){if(I!==null){var D=e.unstable_now();H=D;var J=!0;try{J=I(!0,D)}finally{J?ue():(M=!1,I=null)}}else M=!1}var ue;if(typeof N=="function")ue=function(){N(te)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,ve=le.port2;le.port1.onmessage=te,ue=function(){ve.postMessage(null)}}else ue=function(){_(te,0)};function re(D){I=D,M||(M=!0,ue())}function Z(D,J){$=_(function(){D(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){k||b||(k=!0,re(R))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(h)},e.unstable_next=function(D){switch(v){case 1:case 2:case 3:var J=3;break;default:J=v}var Y=v;v=J;try{return D()}finally{v=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,J){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var Y=v;v=D;try{return J()}finally{v=Y}},e.unstable_scheduleCallback=function(D,J,Y){var L=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?L+Y:L):Y=L,D){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=Y+z,D={id:p++,callback:J,priorityLevel:D,startTime:Y,expirationTime:z,sortIndex:-1},Y>L?(D.sortIndex=Y,t(m,D),n(h)===null&&D===n(m)&&(S?(j($),$=-1):S=!0,Z(P,Y-L))):(D.sortIndex=z,t(h,D),k||b||(k=!0,re(R))),D},e.unstable_shouldYield=ee,e.unstable_wrapCallback=function(D){var J=v;return function(){var Y=v;v=J;try{return D.apply(this,arguments)}finally{v=Y}}}})(Vd)),Vd}var Iy;function CC(){return Iy||(Iy=1,Ud.exports=jC()),Ud.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dy;function kC(){if(Dy)return It;Dy=1;var e=Nf(),t=CC();function n(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(s,i){l(s,i),l(s+"Capture",i)}function l(s,i){for(o[s]=i,s=0;s<i.length;s++)r.add(i[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},y={};function v(s){return h.call(y,s)?!0:h.call(p,s)?!1:m.test(s)?y[s]=!0:(p[s]=!0,!1)}function b(s,i,c,f){if(c!==null&&c.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function k(s,i,c,f){if(i===null||typeof i>"u"||b(s,i,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function S(s,i,c,f,g,x,C){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=s,this.type=i,this.sanitizeURL=x,this.removeEmptyString=C}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){_[s]=new S(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];_[i]=new S(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){_[s]=new S(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){_[s]=new S(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){_[s]=new S(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){_[s]=new S(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){_[s]=new S(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){_[s]=new S(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){_[s]=new S(s,5,!1,s.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function N(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(j,N);_[i]=new S(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(j,N);_[i]=new S(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(j,N);_[i]=new S(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){_[s]=new S(s,1,!1,s.toLowerCase(),null,!1,!1)}),_.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){_[s]=new S(s,1,!1,s.toLowerCase(),null,!0,!0)});function E(s,i,c,f){var g=_.hasOwnProperty(i)?_[i]:null;(g!==null?g.type!==0:f||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(k(i,c,g,f)&&(c=null),f||g===null?v(i)&&(c===null?s.removeAttribute(i):s.setAttribute(i,""+c)):g.mustUseProperty?s[g.propertyName]=c===null?g.type===3?!1:"":c:(i=g.attributeName,f=g.attributeNamespace,c===null?s.removeAttribute(i):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,f?s.setAttributeNS(f,i,c):s.setAttribute(i,c))))}var P=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),M=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),ee=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),ve=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),D=Symbol.iterator;function J(s){return s===null||typeof s!="object"?null:(s=D&&s[D]||s["@@iterator"],typeof s=="function"?s:null)}var Y=Object.assign,L;function z(s){if(L===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);L=i&&i[1]||""}return`
`+L+s}var de=!1;function he(s,i){if(!s||de)return"";de=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(V){var f=V}Reflect.construct(s,[],i)}else{try{i.call()}catch(V){f=V}s.call(i.prototype)}else{try{throw Error()}catch(V){f=V}s()}}catch(V){if(V&&f&&typeof V.stack=="string"){for(var g=V.stack.split(`
`),x=f.stack.split(`
`),C=g.length-1,T=x.length-1;1<=C&&0<=T&&g[C]!==x[T];)T--;for(;1<=C&&0<=T;C--,T--)if(g[C]!==x[T]){if(C!==1||T!==1)do if(C--,T--,0>T||g[C]!==x[T]){var A=`
`+g[C].replace(" at new "," at ");return s.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",s.displayName)),A}while(1<=C&&0<=T);break}}}finally{de=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?z(s):""}function je(s){switch(s.tag){case 5:return z(s.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return s=he(s.type,!1),s;case 11:return s=he(s.type.render,!1),s;case 1:return s=he(s.type,!0),s;default:return""}}function ke(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case I:return"Fragment";case M:return"Portal";case B:return"Profiler";case $:return"StrictMode";case ue:return"Suspense";case le:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case ee:return(s.displayName||"Context")+".Consumer";case H:return(s._context.displayName||"Context")+".Provider";case te:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ve:return i=s.displayName||null,i!==null?i:ke(s.type)||"Memo";case re:i=s._payload,s=s._init;try{return ke(s(i))}catch{}}return null}function X(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(i);case 8:return i===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function me(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function be(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function _e(s){var i=be(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),f=""+s[i];if(!s.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,x=c.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return g.call(this)},set:function(C){f=""+C,x.call(this,C)}}),Object.defineProperty(s,i,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(C){f=""+C},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function Te(s){s._valueTracker||(s._valueTracker=_e(s))}function Pe(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var c=i.getValue(),f="";return s&&(f=be(s)?s.checked?"true":"false":s.value),s=f,s!==c?(i.setValue(s),!0):!1}function ut(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Nt(s,i){var c=i.checked;return Y({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function rr(s,i){var c=i.defaultValue==null?"":i.defaultValue,f=i.checked!=null?i.checked:i.defaultChecked;c=me(i.value!=null?i.value:c),s._wrapperState={initialChecked:f,initialValue:c,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function sr(s,i){i=i.checked,i!=null&&E(s,"checked",i,!1)}function $n(s,i){sr(s,i);var c=me(i.value),f=i.type;if(c!=null)f==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?ir(s,i.type,c):i.hasOwnProperty("defaultValue")&&ir(s,i.type,me(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function wa(s,i,c){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var f=i.type;if(!(f!=="submit"&&f!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,c||i===s.value||(s.value=i),s.defaultValue=i}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function ir(s,i,c){(i!=="number"||ut(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var zi=Array.isArray;function Cs(s,i,c,f){if(s=s.options,i){i={};for(var g=0;g<c.length;g++)i["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=i.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&f&&(s[c].defaultSelected=!0)}else{for(c=""+me(c),i=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,f&&(s[g].defaultSelected=!0);return}i!==null||s[g].disabled||(i=s[g])}i!==null&&(i.selected=!0)}}function Kc(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return Y({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Fm(s,i){var c=i.value;if(c==null){if(c=i.children,i=i.defaultValue,c!=null){if(i!=null)throw Error(n(92));if(zi(c)){if(1<c.length)throw Error(n(93));c=c[0]}i=c}i==null&&(i=""),c=i}s._wrapperState={initialValue:me(c)}}function Um(s,i){var c=me(i.value),f=me(i.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),i.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),f!=null&&(s.defaultValue=""+f)}function Vm(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function Bm(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gc(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?Bm(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ba,zm=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,c,f,g){MSApp.execUnsafeLocalFunction(function(){return s(i,c,f,g)})}:s})(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(ba=ba||document.createElement("div"),ba.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=ba.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function Wi(s,i){if(i){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=i;return}}s.textContent=i}var Hi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},__=["Webkit","ms","Moz","O"];Object.keys(Hi).forEach(function(s){__.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),Hi[i]=Hi[s]})});function Wm(s,i,c){return i==null||typeof i=="boolean"||i===""?"":c||typeof i!="number"||i===0||Hi.hasOwnProperty(s)&&Hi[s]?(""+i).trim():i+"px"}function Hm(s,i){s=s.style;for(var c in i)if(i.hasOwnProperty(c)){var f=c.indexOf("--")===0,g=Wm(c,i[c],f);c==="float"&&(c="cssFloat"),f?s.setProperty(c,g):s[c]=g}}var j_=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yc(s,i){if(i){if(j_[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function Xc(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jc=null;function Qc(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Zc=null,ks=null,Es=null;function qm(s){if(s=mo(s)){if(typeof Zc!="function")throw Error(n(280));var i=s.stateNode;i&&(i=Wa(i),Zc(s.stateNode,s.type,i))}}function Km(s){ks?Es?Es.push(s):Es=[s]:ks=s}function Gm(){if(ks){var s=ks,i=Es;if(Es=ks=null,qm(s),i)for(s=0;s<i.length;s++)qm(i[s])}}function Ym(s,i){return s(i)}function Xm(){}var eu=!1;function Jm(s,i,c){if(eu)return s(i,c);eu=!0;try{return Ym(s,i,c)}finally{eu=!1,(ks!==null||Es!==null)&&(Xm(),Gm())}}function qi(s,i){var c=s.stateNode;if(c===null)return null;var f=Wa(c);if(f===null)return null;c=f[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(n(231,i,typeof c));return c}var tu=!1;if(d)try{var Ki={};Object.defineProperty(Ki,"passive",{get:function(){tu=!0}}),window.addEventListener("test",Ki,Ki),window.removeEventListener("test",Ki,Ki)}catch{tu=!1}function C_(s,i,c,f,g,x,C,T,A){var V=Array.prototype.slice.call(arguments,3);try{i.apply(c,V)}catch(q){this.onError(q)}}var Gi=!1,Sa=null,_a=!1,nu=null,k_={onError:function(s){Gi=!0,Sa=s}};function E_(s,i,c,f,g,x,C,T,A){Gi=!1,Sa=null,C_.apply(k_,arguments)}function N_(s,i,c,f,g,x,C,T,A){if(E_.apply(this,arguments),Gi){if(Gi){var V=Sa;Gi=!1,Sa=null}else throw Error(n(198));_a||(_a=!0,nu=V)}}function Hr(s){var i=s,c=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(c=i.return),s=i.return;while(s)}return i.tag===3?c:null}function Qm(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function Zm(s){if(Hr(s)!==s)throw Error(n(188))}function T_(s){var i=s.alternate;if(!i){if(i=Hr(s),i===null)throw Error(n(188));return i!==s?null:s}for(var c=s,f=i;;){var g=c.return;if(g===null)break;var x=g.alternate;if(x===null){if(f=g.return,f!==null){c=f;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===c)return Zm(g),s;if(x===f)return Zm(g),i;x=x.sibling}throw Error(n(188))}if(c.return!==f.return)c=g,f=x;else{for(var C=!1,T=g.child;T;){if(T===c){C=!0,c=g,f=x;break}if(T===f){C=!0,f=g,c=x;break}T=T.sibling}if(!C){for(T=x.child;T;){if(T===c){C=!0,c=x,f=g;break}if(T===f){C=!0,f=x,c=g;break}T=T.sibling}if(!C)throw Error(n(189))}}if(c.alternate!==f)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?s:i}function ep(s){return s=T_(s),s!==null?tp(s):null}function tp(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=tp(s);if(i!==null)return i;s=s.sibling}return null}var np=t.unstable_scheduleCallback,rp=t.unstable_cancelCallback,P_=t.unstable_shouldYield,R_=t.unstable_requestPaint,Qe=t.unstable_now,A_=t.unstable_getCurrentPriorityLevel,ru=t.unstable_ImmediatePriority,sp=t.unstable_UserBlockingPriority,ja=t.unstable_NormalPriority,O_=t.unstable_LowPriority,ip=t.unstable_IdlePriority,Ca=null,bn=null;function I_(s){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(Ca,s,void 0,(s.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:M_,D_=Math.log,L_=Math.LN2;function M_(s){return s>>>=0,s===0?32:31-(D_(s)/L_|0)|0}var ka=64,Ea=4194304;function Yi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Na(s,i){var c=s.pendingLanes;if(c===0)return 0;var f=0,g=s.suspendedLanes,x=s.pingedLanes,C=c&268435455;if(C!==0){var T=C&~g;T!==0?f=Yi(T):(x&=C,x!==0&&(f=Yi(x)))}else C=c&~g,C!==0?f=Yi(C):x!==0&&(f=Yi(x));if(f===0)return 0;if(i!==0&&i!==f&&(i&g)===0&&(g=f&-f,x=i&-i,g>=x||g===16&&(x&4194240)!==0))return i;if((f&4)!==0&&(f|=c&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=f;0<i;)c=31-on(i),g=1<<c,f|=s[c],i&=~g;return f}function $_(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function F_(s,i){for(var c=s.suspendedLanes,f=s.pingedLanes,g=s.expirationTimes,x=s.pendingLanes;0<x;){var C=31-on(x),T=1<<C,A=g[C];A===-1?((T&c)===0||(T&f)!==0)&&(g[C]=$_(T,i)):A<=i&&(s.expiredLanes|=T),x&=~T}}function su(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function op(){var s=ka;return ka<<=1,(ka&4194240)===0&&(ka=64),s}function iu(s){for(var i=[],c=0;31>c;c++)i.push(s);return i}function Xi(s,i,c){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-on(i),s[i]=c}function U_(s,i){var c=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<c;){var g=31-on(c),x=1<<g;i[g]=0,f[g]=-1,s[g]=-1,c&=~x}}function ou(s,i){var c=s.entangledLanes|=i;for(s=s.entanglements;c;){var f=31-on(c),g=1<<f;g&i|s[f]&i&&(s[f]|=i),c&=~g}}var Le=0;function ap(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var lp,au,cp,up,dp,lu=!1,Ta=[],or=null,ar=null,lr=null,Ji=new Map,Qi=new Map,cr=[],V_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hp(s,i){switch(s){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":Ji.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qi.delete(i.pointerId)}}function Zi(s,i,c,f,g,x){return s===null||s.nativeEvent!==x?(s={blockedOn:i,domEventName:c,eventSystemFlags:f,nativeEvent:x,targetContainers:[g]},i!==null&&(i=mo(i),i!==null&&au(i)),s):(s.eventSystemFlags|=f,i=s.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),s)}function B_(s,i,c,f,g){switch(i){case"focusin":return or=Zi(or,s,i,c,f,g),!0;case"dragenter":return ar=Zi(ar,s,i,c,f,g),!0;case"mouseover":return lr=Zi(lr,s,i,c,f,g),!0;case"pointerover":var x=g.pointerId;return Ji.set(x,Zi(Ji.get(x)||null,s,i,c,f,g)),!0;case"gotpointercapture":return x=g.pointerId,Qi.set(x,Zi(Qi.get(x)||null,s,i,c,f,g)),!0}return!1}function fp(s){var i=qr(s.target);if(i!==null){var c=Hr(i);if(c!==null){if(i=c.tag,i===13){if(i=Qm(c),i!==null){s.blockedOn=i,dp(s.priority,function(){cp(c)});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Pa(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var c=uu(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var f=new c.constructor(c.type,c);Jc=f,c.target.dispatchEvent(f),Jc=null}else return i=mo(c),i!==null&&au(i),s.blockedOn=c,!1;i.shift()}return!0}function mp(s,i,c){Pa(s)&&c.delete(i)}function z_(){lu=!1,or!==null&&Pa(or)&&(or=null),ar!==null&&Pa(ar)&&(ar=null),lr!==null&&Pa(lr)&&(lr=null),Ji.forEach(mp),Qi.forEach(mp)}function eo(s,i){s.blockedOn===i&&(s.blockedOn=null,lu||(lu=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,z_)))}function to(s){function i(g){return eo(g,s)}if(0<Ta.length){eo(Ta[0],s);for(var c=1;c<Ta.length;c++){var f=Ta[c];f.blockedOn===s&&(f.blockedOn=null)}}for(or!==null&&eo(or,s),ar!==null&&eo(ar,s),lr!==null&&eo(lr,s),Ji.forEach(i),Qi.forEach(i),c=0;c<cr.length;c++)f=cr[c],f.blockedOn===s&&(f.blockedOn=null);for(;0<cr.length&&(c=cr[0],c.blockedOn===null);)fp(c),c.blockedOn===null&&cr.shift()}var Ns=P.ReactCurrentBatchConfig,Ra=!0;function W_(s,i,c,f){var g=Le,x=Ns.transition;Ns.transition=null;try{Le=1,cu(s,i,c,f)}finally{Le=g,Ns.transition=x}}function H_(s,i,c,f){var g=Le,x=Ns.transition;Ns.transition=null;try{Le=4,cu(s,i,c,f)}finally{Le=g,Ns.transition=x}}function cu(s,i,c,f){if(Ra){var g=uu(s,i,c,f);if(g===null)Eu(s,i,f,Aa,c),hp(s,f);else if(B_(g,s,i,c,f))f.stopPropagation();else if(hp(s,f),i&4&&-1<V_.indexOf(s)){for(;g!==null;){var x=mo(g);if(x!==null&&lp(x),x=uu(s,i,c,f),x===null&&Eu(s,i,f,Aa,c),x===g)break;g=x}g!==null&&f.stopPropagation()}else Eu(s,i,f,null,c)}}var Aa=null;function uu(s,i,c,f){if(Aa=null,s=Qc(f),s=qr(s),s!==null)if(i=Hr(s),i===null)s=null;else if(c=i.tag,c===13){if(s=Qm(i),s!==null)return s;s=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return Aa=s,null}function pp(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(A_()){case ru:return 1;case sp:return 4;case ja:case O_:return 16;case ip:return 536870912;default:return 16}default:return 16}}var ur=null,du=null,Oa=null;function gp(){if(Oa)return Oa;var s,i=du,c=i.length,f,g="value"in ur?ur.value:ur.textContent,x=g.length;for(s=0;s<c&&i[s]===g[s];s++);var C=c-s;for(f=1;f<=C&&i[c-f]===g[x-f];f++);return Oa=g.slice(s,1<f?1-f:void 0)}function Ia(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Da(){return!0}function yp(){return!1}function Ft(s){function i(c,f,g,x,C){this._reactName=c,this._targetInst=g,this.type=f,this.nativeEvent=x,this.target=C,this.currentTarget=null;for(var T in s)s.hasOwnProperty(T)&&(c=s[T],this[T]=c?c(x):x[T]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Da:yp,this.isPropagationStopped=yp,this}return Y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Da)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Da)},persist:function(){},isPersistent:Da}),i}var Ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hu=Ft(Ts),no=Y({},Ts,{view:0,detail:0}),q_=Ft(no),fu,mu,ro,La=Y({},no,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gu,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ro&&(ro&&s.type==="mousemove"?(fu=s.screenX-ro.screenX,mu=s.screenY-ro.screenY):mu=fu=0,ro=s),fu)},movementY:function(s){return"movementY"in s?s.movementY:mu}}),vp=Ft(La),K_=Y({},La,{dataTransfer:0}),G_=Ft(K_),Y_=Y({},no,{relatedTarget:0}),pu=Ft(Y_),X_=Y({},Ts,{animationName:0,elapsedTime:0,pseudoElement:0}),J_=Ft(X_),Q_=Y({},Ts,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Z_=Ft(Q_),ej=Y({},Ts,{data:0}),xp=Ft(ej),tj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sj(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=rj[s])?!!i[s]:!1}function gu(){return sj}var ij=Y({},no,{key:function(s){if(s.key){var i=tj[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Ia(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?nj[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gu,charCode:function(s){return s.type==="keypress"?Ia(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ia(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),oj=Ft(ij),aj=Y({},La,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wp=Ft(aj),lj=Y({},no,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gu}),cj=Ft(lj),uj=Y({},Ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),dj=Ft(uj),hj=Y({},La,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),fj=Ft(hj),mj=[9,13,27,32],yu=d&&"CompositionEvent"in window,so=null;d&&"documentMode"in document&&(so=document.documentMode);var pj=d&&"TextEvent"in window&&!so,bp=d&&(!yu||so&&8<so&&11>=so),Sp=" ",_p=!1;function jp(s,i){switch(s){case"keyup":return mj.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cp(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ps=!1;function gj(s,i){switch(s){case"compositionend":return Cp(i);case"keypress":return i.which!==32?null:(_p=!0,Sp);case"textInput":return s=i.data,s===Sp&&_p?null:s;default:return null}}function yj(s,i){if(Ps)return s==="compositionend"||!yu&&jp(s,i)?(s=gp(),Oa=du=ur=null,Ps=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return bp&&i.locale!=="ko"?null:i.data;default:return null}}var vj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kp(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!vj[s.type]:i==="textarea"}function Ep(s,i,c,f){Km(f),i=Va(i,"onChange"),0<i.length&&(c=new hu("onChange","change",null,c,f),s.push({event:c,listeners:i}))}var io=null,oo=null;function xj(s){Hp(s,0)}function Ma(s){var i=Ds(s);if(Pe(i))return s}function wj(s,i){if(s==="change")return i}var Np=!1;if(d){var vu;if(d){var xu="oninput"in document;if(!xu){var Tp=document.createElement("div");Tp.setAttribute("oninput","return;"),xu=typeof Tp.oninput=="function"}vu=xu}else vu=!1;Np=vu&&(!document.documentMode||9<document.documentMode)}function Pp(){io&&(io.detachEvent("onpropertychange",Rp),oo=io=null)}function Rp(s){if(s.propertyName==="value"&&Ma(oo)){var i=[];Ep(i,oo,s,Qc(s)),Jm(xj,i)}}function bj(s,i,c){s==="focusin"?(Pp(),io=i,oo=c,io.attachEvent("onpropertychange",Rp)):s==="focusout"&&Pp()}function Sj(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ma(oo)}function _j(s,i){if(s==="click")return Ma(i)}function jj(s,i){if(s==="input"||s==="change")return Ma(i)}function Cj(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var an=typeof Object.is=="function"?Object.is:Cj;function ao(s,i){if(an(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var c=Object.keys(s),f=Object.keys(i);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var g=c[f];if(!h.call(i,g)||!an(s[g],i[g]))return!1}return!0}function Ap(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Op(s,i){var c=Ap(s);s=0;for(var f;c;){if(c.nodeType===3){if(f=s+c.textContent.length,s<=i&&f>=i)return{node:c,offset:i-s};s=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Ap(c)}}function Ip(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?Ip(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function Dp(){for(var s=window,i=ut();i instanceof s.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)s=i.contentWindow;else break;i=ut(s.document)}return i}function wu(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function kj(s){var i=Dp(),c=s.focusedElem,f=s.selectionRange;if(i!==c&&c&&c.ownerDocument&&Ip(c.ownerDocument.documentElement,c)){if(f!==null&&wu(c)){if(i=f.start,s=f.end,s===void 0&&(s=i),"selectionStart"in c)c.selectionStart=i,c.selectionEnd=Math.min(s,c.value.length);else if(s=(i=c.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var g=c.textContent.length,x=Math.min(f.start,g);f=f.end===void 0?x:Math.min(f.end,g),!s.extend&&x>f&&(g=f,f=x,x=g),g=Op(c,x);var C=Op(c,f);g&&C&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==C.node||s.focusOffset!==C.offset)&&(i=i.createRange(),i.setStart(g.node,g.offset),s.removeAllRanges(),x>f?(s.addRange(i),s.extend(C.node,C.offset)):(i.setEnd(C.node,C.offset),s.addRange(i)))}}for(i=[],s=c;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<i.length;c++)s=i[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Ej=d&&"documentMode"in document&&11>=document.documentMode,Rs=null,bu=null,lo=null,Su=!1;function Lp(s,i,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Su||Rs==null||Rs!==ut(f)||(f=Rs,"selectionStart"in f&&wu(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),lo&&ao(lo,f)||(lo=f,f=Va(bu,"onSelect"),0<f.length&&(i=new hu("onSelect","select",null,i,c),s.push({event:i,listeners:f}),i.target=Rs)))}function $a(s,i){var c={};return c[s.toLowerCase()]=i.toLowerCase(),c["Webkit"+s]="webkit"+i,c["Moz"+s]="moz"+i,c}var As={animationend:$a("Animation","AnimationEnd"),animationiteration:$a("Animation","AnimationIteration"),animationstart:$a("Animation","AnimationStart"),transitionend:$a("Transition","TransitionEnd")},_u={},Mp={};d&&(Mp=document.createElement("div").style,"AnimationEvent"in window||(delete As.animationend.animation,delete As.animationiteration.animation,delete As.animationstart.animation),"TransitionEvent"in window||delete As.transitionend.transition);function Fa(s){if(_u[s])return _u[s];if(!As[s])return s;var i=As[s],c;for(c in i)if(i.hasOwnProperty(c)&&c in Mp)return _u[s]=i[c];return s}var $p=Fa("animationend"),Fp=Fa("animationiteration"),Up=Fa("animationstart"),Vp=Fa("transitionend"),Bp=new Map,zp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dr(s,i){Bp.set(s,i),a(i,[s])}for(var ju=0;ju<zp.length;ju++){var Cu=zp[ju],Nj=Cu.toLowerCase(),Tj=Cu[0].toUpperCase()+Cu.slice(1);dr(Nj,"on"+Tj)}dr($p,"onAnimationEnd"),dr(Fp,"onAnimationIteration"),dr(Up,"onAnimationStart"),dr("dblclick","onDoubleClick"),dr("focusin","onFocus"),dr("focusout","onBlur"),dr(Vp,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pj=new Set("cancel close invalid load scroll toggle".split(" ").concat(co));function Wp(s,i,c){var f=s.type||"unknown-event";s.currentTarget=c,N_(f,i,void 0,s),s.currentTarget=null}function Hp(s,i){i=(i&4)!==0;for(var c=0;c<s.length;c++){var f=s[c],g=f.event;f=f.listeners;e:{var x=void 0;if(i)for(var C=f.length-1;0<=C;C--){var T=f[C],A=T.instance,V=T.currentTarget;if(T=T.listener,A!==x&&g.isPropagationStopped())break e;Wp(g,T,V),x=A}else for(C=0;C<f.length;C++){if(T=f[C],A=T.instance,V=T.currentTarget,T=T.listener,A!==x&&g.isPropagationStopped())break e;Wp(g,T,V),x=A}}}if(_a)throw s=nu,_a=!1,nu=null,s}function ze(s,i){var c=i[Ou];c===void 0&&(c=i[Ou]=new Set);var f=s+"__bubble";c.has(f)||(qp(i,s,2,!1),c.add(f))}function ku(s,i,c){var f=0;i&&(f|=4),qp(c,s,f,i)}var Ua="_reactListening"+Math.random().toString(36).slice(2);function uo(s){if(!s[Ua]){s[Ua]=!0,r.forEach(function(c){c!=="selectionchange"&&(Pj.has(c)||ku(c,!1,s),ku(c,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[Ua]||(i[Ua]=!0,ku("selectionchange",!1,i))}}function qp(s,i,c,f){switch(pp(i)){case 1:var g=W_;break;case 4:g=H_;break;default:g=cu}c=g.bind(null,i,c,s),g=void 0,!tu||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),f?g!==void 0?s.addEventListener(i,c,{capture:!0,passive:g}):s.addEventListener(i,c,!0):g!==void 0?s.addEventListener(i,c,{passive:g}):s.addEventListener(i,c,!1)}function Eu(s,i,c,f,g){var x=f;if((i&1)===0&&(i&2)===0&&f!==null)e:for(;;){if(f===null)return;var C=f.tag;if(C===3||C===4){var T=f.stateNode.containerInfo;if(T===g||T.nodeType===8&&T.parentNode===g)break;if(C===4)for(C=f.return;C!==null;){var A=C.tag;if((A===3||A===4)&&(A=C.stateNode.containerInfo,A===g||A.nodeType===8&&A.parentNode===g))return;C=C.return}for(;T!==null;){if(C=qr(T),C===null)return;if(A=C.tag,A===5||A===6){f=x=C;continue e}T=T.parentNode}}f=f.return}Jm(function(){var V=x,q=Qc(c),G=[];e:{var W=Bp.get(s);if(W!==void 0){var ne=hu,ie=s;switch(s){case"keypress":if(Ia(c)===0)break e;case"keydown":case"keyup":ne=oj;break;case"focusin":ie="focus",ne=pu;break;case"focusout":ie="blur",ne=pu;break;case"beforeblur":case"afterblur":ne=pu;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=vp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=G_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=cj;break;case $p:case Fp:case Up:ne=J_;break;case Vp:ne=dj;break;case"scroll":ne=q_;break;case"wheel":ne=fj;break;case"copy":case"cut":case"paste":ne=Z_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=wp}var ce=(i&4)!==0,Ze=!ce&&s==="scroll",F=ce?W!==null?W+"Capture":null:W;ce=[];for(var O=V,U;O!==null;){U=O;var Q=U.stateNode;if(U.tag===5&&Q!==null&&(U=Q,F!==null&&(Q=qi(O,F),Q!=null&&ce.push(ho(O,Q,U)))),Ze)break;O=O.return}0<ce.length&&(W=new ne(W,ie,null,c,q),G.push({event:W,listeners:ce}))}}if((i&7)===0){e:{if(W=s==="mouseover"||s==="pointerover",ne=s==="mouseout"||s==="pointerout",W&&c!==Jc&&(ie=c.relatedTarget||c.fromElement)&&(qr(ie)||ie[Fn]))break e;if((ne||W)&&(W=q.window===q?q:(W=q.ownerDocument)?W.defaultView||W.parentWindow:window,ne?(ie=c.relatedTarget||c.toElement,ne=V,ie=ie?qr(ie):null,ie!==null&&(Ze=Hr(ie),ie!==Ze||ie.tag!==5&&ie.tag!==6)&&(ie=null)):(ne=null,ie=V),ne!==ie)){if(ce=vp,Q="onMouseLeave",F="onMouseEnter",O="mouse",(s==="pointerout"||s==="pointerover")&&(ce=wp,Q="onPointerLeave",F="onPointerEnter",O="pointer"),Ze=ne==null?W:Ds(ne),U=ie==null?W:Ds(ie),W=new ce(Q,O+"leave",ne,c,q),W.target=Ze,W.relatedTarget=U,Q=null,qr(q)===V&&(ce=new ce(F,O+"enter",ie,c,q),ce.target=U,ce.relatedTarget=Ze,Q=ce),Ze=Q,ne&&ie)t:{for(ce=ne,F=ie,O=0,U=ce;U;U=Os(U))O++;for(U=0,Q=F;Q;Q=Os(Q))U++;for(;0<O-U;)ce=Os(ce),O--;for(;0<U-O;)F=Os(F),U--;for(;O--;){if(ce===F||F!==null&&ce===F.alternate)break t;ce=Os(ce),F=Os(F)}ce=null}else ce=null;ne!==null&&Kp(G,W,ne,ce,!1),ie!==null&&Ze!==null&&Kp(G,Ze,ie,ce,!0)}}e:{if(W=V?Ds(V):window,ne=W.nodeName&&W.nodeName.toLowerCase(),ne==="select"||ne==="input"&&W.type==="file")var fe=wj;else if(kp(W))if(Np)fe=jj;else{fe=Sj;var pe=bj}else(ne=W.nodeName)&&ne.toLowerCase()==="input"&&(W.type==="checkbox"||W.type==="radio")&&(fe=_j);if(fe&&(fe=fe(s,V))){Ep(G,fe,c,q);break e}pe&&pe(s,W,V),s==="focusout"&&(pe=W._wrapperState)&&pe.controlled&&W.type==="number"&&ir(W,"number",W.value)}switch(pe=V?Ds(V):window,s){case"focusin":(kp(pe)||pe.contentEditable==="true")&&(Rs=pe,bu=V,lo=null);break;case"focusout":lo=bu=Rs=null;break;case"mousedown":Su=!0;break;case"contextmenu":case"mouseup":case"dragend":Su=!1,Lp(G,c,q);break;case"selectionchange":if(Ej)break;case"keydown":case"keyup":Lp(G,c,q)}var ge;if(yu)e:{switch(s){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Ps?jp(s,c)&&(we="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(we="onCompositionStart");we&&(bp&&c.locale!=="ko"&&(Ps||we!=="onCompositionStart"?we==="onCompositionEnd"&&Ps&&(ge=gp()):(ur=q,du="value"in ur?ur.value:ur.textContent,Ps=!0)),pe=Va(V,we),0<pe.length&&(we=new xp(we,s,null,c,q),G.push({event:we,listeners:pe}),ge?we.data=ge:(ge=Cp(c),ge!==null&&(we.data=ge)))),(ge=pj?gj(s,c):yj(s,c))&&(V=Va(V,"onBeforeInput"),0<V.length&&(q=new xp("onBeforeInput","beforeinput",null,c,q),G.push({event:q,listeners:V}),q.data=ge))}Hp(G,i)})}function ho(s,i,c){return{instance:s,listener:i,currentTarget:c}}function Va(s,i){for(var c=i+"Capture",f=[];s!==null;){var g=s,x=g.stateNode;g.tag===5&&x!==null&&(g=x,x=qi(s,c),x!=null&&f.unshift(ho(s,x,g)),x=qi(s,i),x!=null&&f.push(ho(s,x,g))),s=s.return}return f}function Os(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Kp(s,i,c,f,g){for(var x=i._reactName,C=[];c!==null&&c!==f;){var T=c,A=T.alternate,V=T.stateNode;if(A!==null&&A===f)break;T.tag===5&&V!==null&&(T=V,g?(A=qi(c,x),A!=null&&C.unshift(ho(c,A,T))):g||(A=qi(c,x),A!=null&&C.push(ho(c,A,T)))),c=c.return}C.length!==0&&s.push({event:i,listeners:C})}var Rj=/\r\n?/g,Aj=/\u0000|\uFFFD/g;function Gp(s){return(typeof s=="string"?s:""+s).replace(Rj,`
`).replace(Aj,"")}function Ba(s,i,c){if(i=Gp(i),Gp(s)!==i&&c)throw Error(n(425))}function za(){}var Nu=null,Tu=null;function Pu(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ru=typeof setTimeout=="function"?setTimeout:void 0,Oj=typeof clearTimeout=="function"?clearTimeout:void 0,Yp=typeof Promise=="function"?Promise:void 0,Ij=typeof queueMicrotask=="function"?queueMicrotask:typeof Yp<"u"?function(s){return Yp.resolve(null).then(s).catch(Dj)}:Ru;function Dj(s){setTimeout(function(){throw s})}function Au(s,i){var c=i,f=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(f===0){s.removeChild(g),to(i);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=g}while(c);to(i)}function hr(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function Xp(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return s;i--}else c==="/$"&&i++}s=s.previousSibling}return null}var Is=Math.random().toString(36).slice(2),Sn="__reactFiber$"+Is,fo="__reactProps$"+Is,Fn="__reactContainer$"+Is,Ou="__reactEvents$"+Is,Lj="__reactListeners$"+Is,Mj="__reactHandles$"+Is;function qr(s){var i=s[Sn];if(i)return i;for(var c=s.parentNode;c;){if(i=c[Fn]||c[Sn]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(s=Xp(s);s!==null;){if(c=s[Sn])return c;s=Xp(s)}return i}s=c,c=s.parentNode}return null}function mo(s){return s=s[Sn]||s[Fn],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ds(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Wa(s){return s[fo]||null}var Iu=[],Ls=-1;function fr(s){return{current:s}}function We(s){0>Ls||(s.current=Iu[Ls],Iu[Ls]=null,Ls--)}function Ve(s,i){Ls++,Iu[Ls]=s.current,s.current=i}var mr={},xt=fr(mr),Tt=fr(!1),Kr=mr;function Ms(s,i){var c=s.type.contextTypes;if(!c)return mr;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===i)return f.__reactInternalMemoizedMaskedChildContext;var g={},x;for(x in c)g[x]=i[x];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=g),g}function Pt(s){return s=s.childContextTypes,s!=null}function Ha(){We(Tt),We(xt)}function Jp(s,i,c){if(xt.current!==mr)throw Error(n(168));Ve(xt,i),Ve(Tt,c)}function Qp(s,i,c){var f=s.stateNode;if(i=i.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var g in f)if(!(g in i))throw Error(n(108,X(s)||"Unknown",g));return Y({},c,f)}function qa(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||mr,Kr=xt.current,Ve(xt,s),Ve(Tt,Tt.current),!0}function Zp(s,i,c){var f=s.stateNode;if(!f)throw Error(n(169));c?(s=Qp(s,i,Kr),f.__reactInternalMemoizedMergedChildContext=s,We(Tt),We(xt),Ve(xt,s)):We(Tt),Ve(Tt,c)}var Un=null,Ka=!1,Du=!1;function eg(s){Un===null?Un=[s]:Un.push(s)}function $j(s){Ka=!0,eg(s)}function pr(){if(!Du&&Un!==null){Du=!0;var s=0,i=Le;try{var c=Un;for(Le=1;s<c.length;s++){var f=c[s];do f=f(!0);while(f!==null)}Un=null,Ka=!1}catch(g){throw Un!==null&&(Un=Un.slice(s+1)),np(ru,pr),g}finally{Le=i,Du=!1}}return null}var $s=[],Fs=0,Ga=null,Ya=0,qt=[],Kt=0,Gr=null,Vn=1,Bn="";function Yr(s,i){$s[Fs++]=Ya,$s[Fs++]=Ga,Ga=s,Ya=i}function tg(s,i,c){qt[Kt++]=Vn,qt[Kt++]=Bn,qt[Kt++]=Gr,Gr=s;var f=Vn;s=Bn;var g=32-on(f)-1;f&=~(1<<g),c+=1;var x=32-on(i)+g;if(30<x){var C=g-g%5;x=(f&(1<<C)-1).toString(32),f>>=C,g-=C,Vn=1<<32-on(i)+g|c<<g|f,Bn=x+s}else Vn=1<<x|c<<g|f,Bn=s}function Lu(s){s.return!==null&&(Yr(s,1),tg(s,1,0))}function Mu(s){for(;s===Ga;)Ga=$s[--Fs],$s[Fs]=null,Ya=$s[--Fs],$s[Fs]=null;for(;s===Gr;)Gr=qt[--Kt],qt[Kt]=null,Bn=qt[--Kt],qt[Kt]=null,Vn=qt[--Kt],qt[Kt]=null}var Ut=null,Vt=null,He=!1,ln=null;function ng(s,i){var c=Jt(5,null,null,0);c.elementType="DELETED",c.stateNode=i,c.return=s,i=s.deletions,i===null?(s.deletions=[c],s.flags|=16):i.push(c)}function rg(s,i){switch(s.tag){case 5:var c=s.type;return i=i.nodeType!==1||c.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,Ut=s,Vt=hr(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,Ut=s,Vt=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(c=Gr!==null?{id:Vn,overflow:Bn}:null,s.memoizedState={dehydrated:i,treeContext:c,retryLane:1073741824},c=Jt(18,null,null,0),c.stateNode=i,c.return=s,s.child=c,Ut=s,Vt=null,!0):!1;default:return!1}}function $u(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Fu(s){if(He){var i=Vt;if(i){var c=i;if(!rg(s,i)){if($u(s))throw Error(n(418));i=hr(c.nextSibling);var f=Ut;i&&rg(s,i)?ng(f,c):(s.flags=s.flags&-4097|2,He=!1,Ut=s)}}else{if($u(s))throw Error(n(418));s.flags=s.flags&-4097|2,He=!1,Ut=s}}}function sg(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Ut=s}function Xa(s){if(s!==Ut)return!1;if(!He)return sg(s),He=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!Pu(s.type,s.memoizedProps)),i&&(i=Vt)){if($u(s))throw ig(),Error(n(418));for(;i;)ng(s,i),i=hr(i.nextSibling)}if(sg(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(i===0){Vt=hr(s.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++}s=s.nextSibling}Vt=null}}else Vt=Ut?hr(s.stateNode.nextSibling):null;return!0}function ig(){for(var s=Vt;s;)s=hr(s.nextSibling)}function Us(){Vt=Ut=null,He=!1}function Uu(s){ln===null?ln=[s]:ln.push(s)}var Fj=P.ReactCurrentBatchConfig;function po(s,i,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var f=c.stateNode}if(!f)throw Error(n(147,s));var g=f,x=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===x?i.ref:(i=function(C){var T=g.refs;C===null?delete T[x]:T[x]=C},i._stringRef=x,i)}if(typeof s!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,s))}return s}function Ja(s,i){throw s=Object.prototype.toString.call(i),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function og(s){var i=s._init;return i(s._payload)}function ag(s){function i(F,O){if(s){var U=F.deletions;U===null?(F.deletions=[O],F.flags|=16):U.push(O)}}function c(F,O){if(!s)return null;for(;O!==null;)i(F,O),O=O.sibling;return null}function f(F,O){for(F=new Map;O!==null;)O.key!==null?F.set(O.key,O):F.set(O.index,O),O=O.sibling;return F}function g(F,O){return F=_r(F,O),F.index=0,F.sibling=null,F}function x(F,O,U){return F.index=U,s?(U=F.alternate,U!==null?(U=U.index,U<O?(F.flags|=2,O):U):(F.flags|=2,O)):(F.flags|=1048576,O)}function C(F){return s&&F.alternate===null&&(F.flags|=2),F}function T(F,O,U,Q){return O===null||O.tag!==6?(O=Rd(U,F.mode,Q),O.return=F,O):(O=g(O,U),O.return=F,O)}function A(F,O,U,Q){var fe=U.type;return fe===I?q(F,O,U.props.children,Q,U.key):O!==null&&(O.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===re&&og(fe)===O.type)?(Q=g(O,U.props),Q.ref=po(F,O,U),Q.return=F,Q):(Q=bl(U.type,U.key,U.props,null,F.mode,Q),Q.ref=po(F,O,U),Q.return=F,Q)}function V(F,O,U,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==U.containerInfo||O.stateNode.implementation!==U.implementation?(O=Ad(U,F.mode,Q),O.return=F,O):(O=g(O,U.children||[]),O.return=F,O)}function q(F,O,U,Q,fe){return O===null||O.tag!==7?(O=rs(U,F.mode,Q,fe),O.return=F,O):(O=g(O,U),O.return=F,O)}function G(F,O,U){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Rd(""+O,F.mode,U),O.return=F,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case R:return U=bl(O.type,O.key,O.props,null,F.mode,U),U.ref=po(F,null,O),U.return=F,U;case M:return O=Ad(O,F.mode,U),O.return=F,O;case re:var Q=O._init;return G(F,Q(O._payload),U)}if(zi(O)||J(O))return O=rs(O,F.mode,U,null),O.return=F,O;Ja(F,O)}return null}function W(F,O,U,Q){var fe=O!==null?O.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return fe!==null?null:T(F,O,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case R:return U.key===fe?A(F,O,U,Q):null;case M:return U.key===fe?V(F,O,U,Q):null;case re:return fe=U._init,W(F,O,fe(U._payload),Q)}if(zi(U)||J(U))return fe!==null?null:q(F,O,U,Q,null);Ja(F,U)}return null}function ne(F,O,U,Q,fe){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return F=F.get(U)||null,T(O,F,""+Q,fe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case R:return F=F.get(Q.key===null?U:Q.key)||null,A(O,F,Q,fe);case M:return F=F.get(Q.key===null?U:Q.key)||null,V(O,F,Q,fe);case re:var pe=Q._init;return ne(F,O,U,pe(Q._payload),fe)}if(zi(Q)||J(Q))return F=F.get(U)||null,q(O,F,Q,fe,null);Ja(O,Q)}return null}function ie(F,O,U,Q){for(var fe=null,pe=null,ge=O,we=O=0,ft=null;ge!==null&&we<U.length;we++){ge.index>we?(ft=ge,ge=null):ft=ge.sibling;var Oe=W(F,ge,U[we],Q);if(Oe===null){ge===null&&(ge=ft);break}s&&ge&&Oe.alternate===null&&i(F,ge),O=x(Oe,O,we),pe===null?fe=Oe:pe.sibling=Oe,pe=Oe,ge=ft}if(we===U.length)return c(F,ge),He&&Yr(F,we),fe;if(ge===null){for(;we<U.length;we++)ge=G(F,U[we],Q),ge!==null&&(O=x(ge,O,we),pe===null?fe=ge:pe.sibling=ge,pe=ge);return He&&Yr(F,we),fe}for(ge=f(F,ge);we<U.length;we++)ft=ne(ge,F,we,U[we],Q),ft!==null&&(s&&ft.alternate!==null&&ge.delete(ft.key===null?we:ft.key),O=x(ft,O,we),pe===null?fe=ft:pe.sibling=ft,pe=ft);return s&&ge.forEach(function(jr){return i(F,jr)}),He&&Yr(F,we),fe}function ce(F,O,U,Q){var fe=J(U);if(typeof fe!="function")throw Error(n(150));if(U=fe.call(U),U==null)throw Error(n(151));for(var pe=fe=null,ge=O,we=O=0,ft=null,Oe=U.next();ge!==null&&!Oe.done;we++,Oe=U.next()){ge.index>we?(ft=ge,ge=null):ft=ge.sibling;var jr=W(F,ge,Oe.value,Q);if(jr===null){ge===null&&(ge=ft);break}s&&ge&&jr.alternate===null&&i(F,ge),O=x(jr,O,we),pe===null?fe=jr:pe.sibling=jr,pe=jr,ge=ft}if(Oe.done)return c(F,ge),He&&Yr(F,we),fe;if(ge===null){for(;!Oe.done;we++,Oe=U.next())Oe=G(F,Oe.value,Q),Oe!==null&&(O=x(Oe,O,we),pe===null?fe=Oe:pe.sibling=Oe,pe=Oe);return He&&Yr(F,we),fe}for(ge=f(F,ge);!Oe.done;we++,Oe=U.next())Oe=ne(ge,F,we,Oe.value,Q),Oe!==null&&(s&&Oe.alternate!==null&&ge.delete(Oe.key===null?we:Oe.key),O=x(Oe,O,we),pe===null?fe=Oe:pe.sibling=Oe,pe=Oe);return s&&ge.forEach(function(vC){return i(F,vC)}),He&&Yr(F,we),fe}function Ze(F,O,U,Q){if(typeof U=="object"&&U!==null&&U.type===I&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case R:e:{for(var fe=U.key,pe=O;pe!==null;){if(pe.key===fe){if(fe=U.type,fe===I){if(pe.tag===7){c(F,pe.sibling),O=g(pe,U.props.children),O.return=F,F=O;break e}}else if(pe.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===re&&og(fe)===pe.type){c(F,pe.sibling),O=g(pe,U.props),O.ref=po(F,pe,U),O.return=F,F=O;break e}c(F,pe);break}else i(F,pe);pe=pe.sibling}U.type===I?(O=rs(U.props.children,F.mode,Q,U.key),O.return=F,F=O):(Q=bl(U.type,U.key,U.props,null,F.mode,Q),Q.ref=po(F,O,U),Q.return=F,F=Q)}return C(F);case M:e:{for(pe=U.key;O!==null;){if(O.key===pe)if(O.tag===4&&O.stateNode.containerInfo===U.containerInfo&&O.stateNode.implementation===U.implementation){c(F,O.sibling),O=g(O,U.children||[]),O.return=F,F=O;break e}else{c(F,O);break}else i(F,O);O=O.sibling}O=Ad(U,F.mode,Q),O.return=F,F=O}return C(F);case re:return pe=U._init,Ze(F,O,pe(U._payload),Q)}if(zi(U))return ie(F,O,U,Q);if(J(U))return ce(F,O,U,Q);Ja(F,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,O!==null&&O.tag===6?(c(F,O.sibling),O=g(O,U),O.return=F,F=O):(c(F,O),O=Rd(U,F.mode,Q),O.return=F,F=O),C(F)):c(F,O)}return Ze}var Vs=ag(!0),lg=ag(!1),Qa=fr(null),Za=null,Bs=null,Vu=null;function Bu(){Vu=Bs=Za=null}function zu(s){var i=Qa.current;We(Qa),s._currentValue=i}function Wu(s,i,c){for(;s!==null;){var f=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,f!==null&&(f.childLanes|=i)):f!==null&&(f.childLanes&i)!==i&&(f.childLanes|=i),s===c)break;s=s.return}}function zs(s,i){Za=s,Vu=Bs=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(Rt=!0),s.firstContext=null)}function Gt(s){var i=s._currentValue;if(Vu!==s)if(s={context:s,memoizedValue:i,next:null},Bs===null){if(Za===null)throw Error(n(308));Bs=s,Za.dependencies={lanes:0,firstContext:s}}else Bs=Bs.next=s;return i}var Xr=null;function Hu(s){Xr===null?Xr=[s]:Xr.push(s)}function cg(s,i,c,f){var g=i.interleaved;return g===null?(c.next=c,Hu(i)):(c.next=g.next,g.next=c),i.interleaved=c,zn(s,f)}function zn(s,i){s.lanes|=i;var c=s.alternate;for(c!==null&&(c.lanes|=i),c=s,s=s.return;s!==null;)s.childLanes|=i,c=s.alternate,c!==null&&(c.childLanes|=i),c=s,s=s.return;return c.tag===3?c.stateNode:null}var gr=!1;function qu(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ug(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Wn(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function yr(s,i,c){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(Re&2)!==0){var g=f.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),f.pending=i,zn(s,c)}return g=f.interleaved,g===null?(i.next=i,Hu(f)):(i.next=g.next,g.next=i),f.interleaved=i,zn(s,c)}function el(s,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194240)!==0)){var f=i.lanes;f&=s.pendingLanes,c|=f,i.lanes=c,ou(s,c)}}function dg(s,i){var c=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var g=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var C={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};x===null?g=x=C:x=x.next=C,c=c.next}while(c!==null);x===null?g=x=i:x=x.next=i}else g=x=i;c={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:f.shared,effects:f.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=i:s.next=i,c.lastBaseUpdate=i}function tl(s,i,c,f){var g=s.updateQueue;gr=!1;var x=g.firstBaseUpdate,C=g.lastBaseUpdate,T=g.shared.pending;if(T!==null){g.shared.pending=null;var A=T,V=A.next;A.next=null,C===null?x=V:C.next=V,C=A;var q=s.alternate;q!==null&&(q=q.updateQueue,T=q.lastBaseUpdate,T!==C&&(T===null?q.firstBaseUpdate=V:T.next=V,q.lastBaseUpdate=A))}if(x!==null){var G=g.baseState;C=0,q=V=A=null,T=x;do{var W=T.lane,ne=T.eventTime;if((f&W)===W){q!==null&&(q=q.next={eventTime:ne,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var ie=s,ce=T;switch(W=i,ne=c,ce.tag){case 1:if(ie=ce.payload,typeof ie=="function"){G=ie.call(ne,G,W);break e}G=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=ce.payload,W=typeof ie=="function"?ie.call(ne,G,W):ie,W==null)break e;G=Y({},G,W);break e;case 2:gr=!0}}T.callback!==null&&T.lane!==0&&(s.flags|=64,W=g.effects,W===null?g.effects=[T]:W.push(T))}else ne={eventTime:ne,lane:W,tag:T.tag,payload:T.payload,callback:T.callback,next:null},q===null?(V=q=ne,A=G):q=q.next=ne,C|=W;if(T=T.next,T===null){if(T=g.shared.pending,T===null)break;W=T,T=W.next,W.next=null,g.lastBaseUpdate=W,g.shared.pending=null}}while(!0);if(q===null&&(A=G),g.baseState=A,g.firstBaseUpdate=V,g.lastBaseUpdate=q,i=g.shared.interleaved,i!==null){g=i;do C|=g.lane,g=g.next;while(g!==i)}else x===null&&(g.shared.lanes=0);Zr|=C,s.lanes=C,s.memoizedState=G}}function hg(s,i,c){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var f=s[i],g=f.callback;if(g!==null){if(f.callback=null,f=c,typeof g!="function")throw Error(n(191,g));g.call(f)}}}var go={},_n=fr(go),yo=fr(go),vo=fr(go);function Jr(s){if(s===go)throw Error(n(174));return s}function Ku(s,i){switch(Ve(vo,i),Ve(yo,s),Ve(_n,go),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Gc(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=Gc(i,s)}We(_n),Ve(_n,i)}function Ws(){We(_n),We(yo),We(vo)}function fg(s){Jr(vo.current);var i=Jr(_n.current),c=Gc(i,s.type);i!==c&&(Ve(yo,s),Ve(_n,c))}function Gu(s){yo.current===s&&(We(_n),We(yo))}var qe=fr(0);function nl(s){for(var i=s;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Yu=[];function Xu(){for(var s=0;s<Yu.length;s++)Yu[s]._workInProgressVersionPrimary=null;Yu.length=0}var rl=P.ReactCurrentDispatcher,Ju=P.ReactCurrentBatchConfig,Qr=0,Ke=null,ot=null,dt=null,sl=!1,xo=!1,wo=0,Uj=0;function wt(){throw Error(n(321))}function Qu(s,i){if(i===null)return!1;for(var c=0;c<i.length&&c<s.length;c++)if(!an(s[c],i[c]))return!1;return!0}function Zu(s,i,c,f,g,x){if(Qr=x,Ke=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,rl.current=s===null||s.memoizedState===null?Wj:Hj,s=c(f,g),xo){x=0;do{if(xo=!1,wo=0,25<=x)throw Error(n(301));x+=1,dt=ot=null,i.updateQueue=null,rl.current=qj,s=c(f,g)}while(xo)}if(rl.current=al,i=ot!==null&&ot.next!==null,Qr=0,dt=ot=Ke=null,sl=!1,i)throw Error(n(300));return s}function ed(){var s=wo!==0;return wo=0,s}function jn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Ke.memoizedState=dt=s:dt=dt.next=s,dt}function Yt(){if(ot===null){var s=Ke.alternate;s=s!==null?s.memoizedState:null}else s=ot.next;var i=dt===null?Ke.memoizedState:dt.next;if(i!==null)dt=i,ot=s;else{if(s===null)throw Error(n(310));ot=s,s={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},dt===null?Ke.memoizedState=dt=s:dt=dt.next=s}return dt}function bo(s,i){return typeof i=="function"?i(s):i}function td(s){var i=Yt(),c=i.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var f=ot,g=f.baseQueue,x=c.pending;if(x!==null){if(g!==null){var C=g.next;g.next=x.next,x.next=C}f.baseQueue=g=x,c.pending=null}if(g!==null){x=g.next,f=f.baseState;var T=C=null,A=null,V=x;do{var q=V.lane;if((Qr&q)===q)A!==null&&(A=A.next={lane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),f=V.hasEagerState?V.eagerState:s(f,V.action);else{var G={lane:q,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null};A===null?(T=A=G,C=f):A=A.next=G,Ke.lanes|=q,Zr|=q}V=V.next}while(V!==null&&V!==x);A===null?C=f:A.next=T,an(f,i.memoizedState)||(Rt=!0),i.memoizedState=f,i.baseState=C,i.baseQueue=A,c.lastRenderedState=f}if(s=c.interleaved,s!==null){g=s;do x=g.lane,Ke.lanes|=x,Zr|=x,g=g.next;while(g!==s)}else g===null&&(c.lanes=0);return[i.memoizedState,c.dispatch]}function nd(s){var i=Yt(),c=i.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var f=c.dispatch,g=c.pending,x=i.memoizedState;if(g!==null){c.pending=null;var C=g=g.next;do x=s(x,C.action),C=C.next;while(C!==g);an(x,i.memoizedState)||(Rt=!0),i.memoizedState=x,i.baseQueue===null&&(i.baseState=x),c.lastRenderedState=x}return[x,f]}function mg(){}function pg(s,i){var c=Ke,f=Yt(),g=i(),x=!an(f.memoizedState,g);if(x&&(f.memoizedState=g,Rt=!0),f=f.queue,rd(vg.bind(null,c,f,s),[s]),f.getSnapshot!==i||x||dt!==null&&dt.memoizedState.tag&1){if(c.flags|=2048,So(9,yg.bind(null,c,f,g,i),void 0,null),ht===null)throw Error(n(349));(Qr&30)!==0||gg(c,i,g)}return g}function gg(s,i,c){s.flags|=16384,s={getSnapshot:i,value:c},i=Ke.updateQueue,i===null?(i={lastEffect:null,stores:null},Ke.updateQueue=i,i.stores=[s]):(c=i.stores,c===null?i.stores=[s]:c.push(s))}function yg(s,i,c,f){i.value=c,i.getSnapshot=f,xg(i)&&wg(s)}function vg(s,i,c){return c(function(){xg(i)&&wg(s)})}function xg(s){var i=s.getSnapshot;s=s.value;try{var c=i();return!an(s,c)}catch{return!0}}function wg(s){var i=zn(s,1);i!==null&&hn(i,s,1,-1)}function bg(s){var i=jn();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:s},i.queue=s,s=s.dispatch=zj.bind(null,Ke,s),[i.memoizedState,s]}function So(s,i,c,f){return s={tag:s,create:i,destroy:c,deps:f,next:null},i=Ke.updateQueue,i===null?(i={lastEffect:null,stores:null},Ke.updateQueue=i,i.lastEffect=s.next=s):(c=i.lastEffect,c===null?i.lastEffect=s.next=s:(f=c.next,c.next=s,s.next=f,i.lastEffect=s)),s}function Sg(){return Yt().memoizedState}function il(s,i,c,f){var g=jn();Ke.flags|=s,g.memoizedState=So(1|i,c,void 0,f===void 0?null:f)}function ol(s,i,c,f){var g=Yt();f=f===void 0?null:f;var x=void 0;if(ot!==null){var C=ot.memoizedState;if(x=C.destroy,f!==null&&Qu(f,C.deps)){g.memoizedState=So(i,c,x,f);return}}Ke.flags|=s,g.memoizedState=So(1|i,c,x,f)}function _g(s,i){return il(8390656,8,s,i)}function rd(s,i){return ol(2048,8,s,i)}function jg(s,i){return ol(4,2,s,i)}function Cg(s,i){return ol(4,4,s,i)}function kg(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function Eg(s,i,c){return c=c!=null?c.concat([s]):null,ol(4,4,kg.bind(null,i,s),c)}function sd(){}function Ng(s,i){var c=Yt();i=i===void 0?null:i;var f=c.memoizedState;return f!==null&&i!==null&&Qu(i,f[1])?f[0]:(c.memoizedState=[s,i],s)}function Tg(s,i){var c=Yt();i=i===void 0?null:i;var f=c.memoizedState;return f!==null&&i!==null&&Qu(i,f[1])?f[0]:(s=s(),c.memoizedState=[s,i],s)}function Pg(s,i,c){return(Qr&21)===0?(s.baseState&&(s.baseState=!1,Rt=!0),s.memoizedState=c):(an(c,i)||(c=op(),Ke.lanes|=c,Zr|=c,s.baseState=!0),i)}function Vj(s,i){var c=Le;Le=c!==0&&4>c?c:4,s(!0);var f=Ju.transition;Ju.transition={};try{s(!1),i()}finally{Le=c,Ju.transition=f}}function Rg(){return Yt().memoizedState}function Bj(s,i,c){var f=br(s);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},Ag(s))Og(i,c);else if(c=cg(s,i,c,f),c!==null){var g=Ct();hn(c,s,f,g),Ig(c,i,f)}}function zj(s,i,c){var f=br(s),g={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(Ag(s))Og(i,g);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=i.lastRenderedReducer,x!==null))try{var C=i.lastRenderedState,T=x(C,c);if(g.hasEagerState=!0,g.eagerState=T,an(T,C)){var A=i.interleaved;A===null?(g.next=g,Hu(i)):(g.next=A.next,A.next=g),i.interleaved=g;return}}catch{}finally{}c=cg(s,i,g,f),c!==null&&(g=Ct(),hn(c,s,f,g),Ig(c,i,f))}}function Ag(s){var i=s.alternate;return s===Ke||i!==null&&i===Ke}function Og(s,i){xo=sl=!0;var c=s.pending;c===null?i.next=i:(i.next=c.next,c.next=i),s.pending=i}function Ig(s,i,c){if((c&4194240)!==0){var f=i.lanes;f&=s.pendingLanes,c|=f,i.lanes=c,ou(s,c)}}var al={readContext:Gt,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useInsertionEffect:wt,useLayoutEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useMutableSource:wt,useSyncExternalStore:wt,useId:wt,unstable_isNewReconciler:!1},Wj={readContext:Gt,useCallback:function(s,i){return jn().memoizedState=[s,i===void 0?null:i],s},useContext:Gt,useEffect:_g,useImperativeHandle:function(s,i,c){return c=c!=null?c.concat([s]):null,il(4194308,4,kg.bind(null,i,s),c)},useLayoutEffect:function(s,i){return il(4194308,4,s,i)},useInsertionEffect:function(s,i){return il(4,2,s,i)},useMemo:function(s,i){var c=jn();return i=i===void 0?null:i,s=s(),c.memoizedState=[s,i],s},useReducer:function(s,i,c){var f=jn();return i=c!==void 0?c(i):i,f.memoizedState=f.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},f.queue=s,s=s.dispatch=Bj.bind(null,Ke,s),[f.memoizedState,s]},useRef:function(s){var i=jn();return s={current:s},i.memoizedState=s},useState:bg,useDebugValue:sd,useDeferredValue:function(s){return jn().memoizedState=s},useTransition:function(){var s=bg(!1),i=s[0];return s=Vj.bind(null,s[1]),jn().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,c){var f=Ke,g=jn();if(He){if(c===void 0)throw Error(n(407));c=c()}else{if(c=i(),ht===null)throw Error(n(349));(Qr&30)!==0||gg(f,i,c)}g.memoizedState=c;var x={value:c,getSnapshot:i};return g.queue=x,_g(vg.bind(null,f,x,s),[s]),f.flags|=2048,So(9,yg.bind(null,f,x,c,i),void 0,null),c},useId:function(){var s=jn(),i=ht.identifierPrefix;if(He){var c=Bn,f=Vn;c=(f&~(1<<32-on(f)-1)).toString(32)+c,i=":"+i+"R"+c,c=wo++,0<c&&(i+="H"+c.toString(32)),i+=":"}else c=Uj++,i=":"+i+"r"+c.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},Hj={readContext:Gt,useCallback:Ng,useContext:Gt,useEffect:rd,useImperativeHandle:Eg,useInsertionEffect:jg,useLayoutEffect:Cg,useMemo:Tg,useReducer:td,useRef:Sg,useState:function(){return td(bo)},useDebugValue:sd,useDeferredValue:function(s){var i=Yt();return Pg(i,ot.memoizedState,s)},useTransition:function(){var s=td(bo)[0],i=Yt().memoizedState;return[s,i]},useMutableSource:mg,useSyncExternalStore:pg,useId:Rg,unstable_isNewReconciler:!1},qj={readContext:Gt,useCallback:Ng,useContext:Gt,useEffect:rd,useImperativeHandle:Eg,useInsertionEffect:jg,useLayoutEffect:Cg,useMemo:Tg,useReducer:nd,useRef:Sg,useState:function(){return nd(bo)},useDebugValue:sd,useDeferredValue:function(s){var i=Yt();return ot===null?i.memoizedState=s:Pg(i,ot.memoizedState,s)},useTransition:function(){var s=nd(bo)[0],i=Yt().memoizedState;return[s,i]},useMutableSource:mg,useSyncExternalStore:pg,useId:Rg,unstable_isNewReconciler:!1};function cn(s,i){if(s&&s.defaultProps){i=Y({},i),s=s.defaultProps;for(var c in s)i[c]===void 0&&(i[c]=s[c]);return i}return i}function id(s,i,c,f){i=s.memoizedState,c=c(f,i),c=c==null?i:Y({},i,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var ll={isMounted:function(s){return(s=s._reactInternals)?Hr(s)===s:!1},enqueueSetState:function(s,i,c){s=s._reactInternals;var f=Ct(),g=br(s),x=Wn(f,g);x.payload=i,c!=null&&(x.callback=c),i=yr(s,x,g),i!==null&&(hn(i,s,g,f),el(i,s,g))},enqueueReplaceState:function(s,i,c){s=s._reactInternals;var f=Ct(),g=br(s),x=Wn(f,g);x.tag=1,x.payload=i,c!=null&&(x.callback=c),i=yr(s,x,g),i!==null&&(hn(i,s,g,f),el(i,s,g))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var c=Ct(),f=br(s),g=Wn(c,f);g.tag=2,i!=null&&(g.callback=i),i=yr(s,g,f),i!==null&&(hn(i,s,f,c),el(i,s,f))}};function Dg(s,i,c,f,g,x,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,x,C):i.prototype&&i.prototype.isPureReactComponent?!ao(c,f)||!ao(g,x):!0}function Lg(s,i,c){var f=!1,g=mr,x=i.contextType;return typeof x=="object"&&x!==null?x=Gt(x):(g=Pt(i)?Kr:xt.current,f=i.contextTypes,x=(f=f!=null)?Ms(s,g):mr),i=new i(c,x),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=ll,s.stateNode=i,i._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=x),i}function Mg(s,i,c,f){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,f),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,f),i.state!==s&&ll.enqueueReplaceState(i,i.state,null)}function od(s,i,c,f){var g=s.stateNode;g.props=c,g.state=s.memoizedState,g.refs={},qu(s);var x=i.contextType;typeof x=="object"&&x!==null?g.context=Gt(x):(x=Pt(i)?Kr:xt.current,g.context=Ms(s,x)),g.state=s.memoizedState,x=i.getDerivedStateFromProps,typeof x=="function"&&(id(s,i,x,c),g.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(i=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),i!==g.state&&ll.enqueueReplaceState(g,g.state,null),tl(s,c,g,f),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function Hs(s,i){try{var c="",f=i;do c+=je(f),f=f.return;while(f);var g=c}catch(x){g=`
Error generating stack: `+x.message+`
`+x.stack}return{value:s,source:i,stack:g,digest:null}}function ad(s,i,c){return{value:s,source:null,stack:c??null,digest:i??null}}function ld(s,i){try{console.error(i.value)}catch(c){setTimeout(function(){throw c})}}var Kj=typeof WeakMap=="function"?WeakMap:Map;function $g(s,i,c){c=Wn(-1,c),c.tag=3,c.payload={element:null};var f=i.value;return c.callback=function(){pl||(pl=!0,_d=f),ld(s,i)},c}function Fg(s,i,c){c=Wn(-1,c),c.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var g=i.value;c.payload=function(){return f(g)},c.callback=function(){ld(s,i)}}var x=s.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(c.callback=function(){ld(s,i),typeof f!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var C=i.stack;this.componentDidCatch(i.value,{componentStack:C!==null?C:""})}),c}function Ug(s,i,c){var f=s.pingCache;if(f===null){f=s.pingCache=new Kj;var g=new Set;f.set(i,g)}else g=f.get(i),g===void 0&&(g=new Set,f.set(i,g));g.has(c)||(g.add(c),s=aC.bind(null,s,i,c),i.then(s,s))}function Vg(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function Bg(s,i,c,f,g){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(i=Wn(-1,1),i.tag=2,yr(c,i,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var Gj=P.ReactCurrentOwner,Rt=!1;function jt(s,i,c,f){i.child=s===null?lg(i,null,c,f):Vs(i,s.child,c,f)}function zg(s,i,c,f,g){c=c.render;var x=i.ref;return zs(i,g),f=Zu(s,i,c,f,x,g),c=ed(),s!==null&&!Rt?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~g,Hn(s,i,g)):(He&&c&&Lu(i),i.flags|=1,jt(s,i,f,g),i.child)}function Wg(s,i,c,f,g){if(s===null){var x=c.type;return typeof x=="function"&&!Pd(x)&&x.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(i.tag=15,i.type=x,Hg(s,i,x,f,g)):(s=bl(c.type,null,f,i,i.mode,g),s.ref=i.ref,s.return=i,i.child=s)}if(x=s.child,(s.lanes&g)===0){var C=x.memoizedProps;if(c=c.compare,c=c!==null?c:ao,c(C,f)&&s.ref===i.ref)return Hn(s,i,g)}return i.flags|=1,s=_r(x,f),s.ref=i.ref,s.return=i,i.child=s}function Hg(s,i,c,f,g){if(s!==null){var x=s.memoizedProps;if(ao(x,f)&&s.ref===i.ref)if(Rt=!1,i.pendingProps=f=x,(s.lanes&g)!==0)(s.flags&131072)!==0&&(Rt=!0);else return i.lanes=s.lanes,Hn(s,i,g)}return cd(s,i,c,f,g)}function qg(s,i,c){var f=i.pendingProps,g=f.children,x=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(Ks,Bt),Bt|=c;else{if((c&1073741824)===0)return s=x!==null?x.baseLanes|c:c,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,Ve(Ks,Bt),Bt|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=x!==null?x.baseLanes:c,Ve(Ks,Bt),Bt|=f}else x!==null?(f=x.baseLanes|c,i.memoizedState=null):f=c,Ve(Ks,Bt),Bt|=f;return jt(s,i,g,c),i.child}function Kg(s,i){var c=i.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(i.flags|=512,i.flags|=2097152)}function cd(s,i,c,f,g){var x=Pt(c)?Kr:xt.current;return x=Ms(i,x),zs(i,g),c=Zu(s,i,c,f,x,g),f=ed(),s!==null&&!Rt?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~g,Hn(s,i,g)):(He&&f&&Lu(i),i.flags|=1,jt(s,i,c,g),i.child)}function Gg(s,i,c,f,g){if(Pt(c)){var x=!0;qa(i)}else x=!1;if(zs(i,g),i.stateNode===null)ul(s,i),Lg(i,c,f),od(i,c,f,g),f=!0;else if(s===null){var C=i.stateNode,T=i.memoizedProps;C.props=T;var A=C.context,V=c.contextType;typeof V=="object"&&V!==null?V=Gt(V):(V=Pt(c)?Kr:xt.current,V=Ms(i,V));var q=c.getDerivedStateFromProps,G=typeof q=="function"||typeof C.getSnapshotBeforeUpdate=="function";G||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(T!==f||A!==V)&&Mg(i,C,f,V),gr=!1;var W=i.memoizedState;C.state=W,tl(i,f,C,g),A=i.memoizedState,T!==f||W!==A||Tt.current||gr?(typeof q=="function"&&(id(i,c,q,f),A=i.memoizedState),(T=gr||Dg(i,c,T,f,W,A,V))?(G||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(i.flags|=4194308)):(typeof C.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=f,i.memoizedState=A),C.props=f,C.state=A,C.context=V,f=T):(typeof C.componentDidMount=="function"&&(i.flags|=4194308),f=!1)}else{C=i.stateNode,ug(s,i),T=i.memoizedProps,V=i.type===i.elementType?T:cn(i.type,T),C.props=V,G=i.pendingProps,W=C.context,A=c.contextType,typeof A=="object"&&A!==null?A=Gt(A):(A=Pt(c)?Kr:xt.current,A=Ms(i,A));var ne=c.getDerivedStateFromProps;(q=typeof ne=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(T!==G||W!==A)&&Mg(i,C,f,A),gr=!1,W=i.memoizedState,C.state=W,tl(i,f,C,g);var ie=i.memoizedState;T!==G||W!==ie||Tt.current||gr?(typeof ne=="function"&&(id(i,c,ne,f),ie=i.memoizedState),(V=gr||Dg(i,c,V,f,W,ie,A)||!1)?(q||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(f,ie,A),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(f,ie,A)),typeof C.componentDidUpdate=="function"&&(i.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof C.componentDidUpdate!="function"||T===s.memoizedProps&&W===s.memoizedState||(i.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&W===s.memoizedState||(i.flags|=1024),i.memoizedProps=f,i.memoizedState=ie),C.props=f,C.state=ie,C.context=A,f=V):(typeof C.componentDidUpdate!="function"||T===s.memoizedProps&&W===s.memoizedState||(i.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&W===s.memoizedState||(i.flags|=1024),f=!1)}return ud(s,i,c,f,x,g)}function ud(s,i,c,f,g,x){Kg(s,i);var C=(i.flags&128)!==0;if(!f&&!C)return g&&Zp(i,c,!1),Hn(s,i,x);f=i.stateNode,Gj.current=i;var T=C&&typeof c.getDerivedStateFromError!="function"?null:f.render();return i.flags|=1,s!==null&&C?(i.child=Vs(i,s.child,null,x),i.child=Vs(i,null,T,x)):jt(s,i,T,x),i.memoizedState=f.state,g&&Zp(i,c,!0),i.child}function Yg(s){var i=s.stateNode;i.pendingContext?Jp(s,i.pendingContext,i.pendingContext!==i.context):i.context&&Jp(s,i.context,!1),Ku(s,i.containerInfo)}function Xg(s,i,c,f,g){return Us(),Uu(g),i.flags|=256,jt(s,i,c,f),i.child}var dd={dehydrated:null,treeContext:null,retryLane:0};function hd(s){return{baseLanes:s,cachePool:null,transitions:null}}function Jg(s,i,c){var f=i.pendingProps,g=qe.current,x=!1,C=(i.flags&128)!==0,T;if((T=C)||(T=s!==null&&s.memoizedState===null?!1:(g&2)!==0),T?(x=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),Ve(qe,g&1),s===null)return Fu(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(C=f.children,s=f.fallback,x?(f=i.mode,x=i.child,C={mode:"hidden",children:C},(f&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=C):x=Sl(C,f,0,null),s=rs(s,f,c,null),x.return=i,s.return=i,x.sibling=s,i.child=x,i.child.memoizedState=hd(c),i.memoizedState=dd,s):fd(i,C));if(g=s.memoizedState,g!==null&&(T=g.dehydrated,T!==null))return Yj(s,i,C,f,T,g,c);if(x){x=f.fallback,C=i.mode,g=s.child,T=g.sibling;var A={mode:"hidden",children:f.children};return(C&1)===0&&i.child!==g?(f=i.child,f.childLanes=0,f.pendingProps=A,i.deletions=null):(f=_r(g,A),f.subtreeFlags=g.subtreeFlags&14680064),T!==null?x=_r(T,x):(x=rs(x,C,c,null),x.flags|=2),x.return=i,f.return=i,f.sibling=x,i.child=f,f=x,x=i.child,C=s.child.memoizedState,C=C===null?hd(c):{baseLanes:C.baseLanes|c,cachePool:null,transitions:C.transitions},x.memoizedState=C,x.childLanes=s.childLanes&~c,i.memoizedState=dd,f}return x=s.child,s=x.sibling,f=_r(x,{mode:"visible",children:f.children}),(i.mode&1)===0&&(f.lanes=c),f.return=i,f.sibling=null,s!==null&&(c=i.deletions,c===null?(i.deletions=[s],i.flags|=16):c.push(s)),i.child=f,i.memoizedState=null,f}function fd(s,i){return i=Sl({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function cl(s,i,c,f){return f!==null&&Uu(f),Vs(i,s.child,null,c),s=fd(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function Yj(s,i,c,f,g,x,C){if(c)return i.flags&256?(i.flags&=-257,f=ad(Error(n(422))),cl(s,i,C,f)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(x=f.fallback,g=i.mode,f=Sl({mode:"visible",children:f.children},g,0,null),x=rs(x,g,C,null),x.flags|=2,f.return=i,x.return=i,f.sibling=x,i.child=f,(i.mode&1)!==0&&Vs(i,s.child,null,C),i.child.memoizedState=hd(C),i.memoizedState=dd,x);if((i.mode&1)===0)return cl(s,i,C,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var T=f.dgst;return f=T,x=Error(n(419)),f=ad(x,f,void 0),cl(s,i,C,f)}if(T=(C&s.childLanes)!==0,Rt||T){if(f=ht,f!==null){switch(C&-C){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|C))!==0?0:g,g!==0&&g!==x.retryLane&&(x.retryLane=g,zn(s,g),hn(f,s,g,-1))}return Td(),f=ad(Error(n(421))),cl(s,i,C,f)}return g.data==="$?"?(i.flags|=128,i.child=s.child,i=lC.bind(null,s),g._reactRetry=i,null):(s=x.treeContext,Vt=hr(g.nextSibling),Ut=i,He=!0,ln=null,s!==null&&(qt[Kt++]=Vn,qt[Kt++]=Bn,qt[Kt++]=Gr,Vn=s.id,Bn=s.overflow,Gr=i),i=fd(i,f.children),i.flags|=4096,i)}function Qg(s,i,c){s.lanes|=i;var f=s.alternate;f!==null&&(f.lanes|=i),Wu(s.return,i,c)}function md(s,i,c,f,g){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:g}:(x.isBackwards=i,x.rendering=null,x.renderingStartTime=0,x.last=f,x.tail=c,x.tailMode=g)}function Zg(s,i,c){var f=i.pendingProps,g=f.revealOrder,x=f.tail;if(jt(s,i,f.children,c),f=qe.current,(f&2)!==0)f=f&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Qg(s,c,i);else if(s.tag===19)Qg(s,c,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(Ve(qe,f),(i.mode&1)===0)i.memoizedState=null;else switch(g){case"forwards":for(c=i.child,g=null;c!==null;)s=c.alternate,s!==null&&nl(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=i.child,i.child=null):(g=c.sibling,c.sibling=null),md(i,!1,g,c,x);break;case"backwards":for(c=null,g=i.child,i.child=null;g!==null;){if(s=g.alternate,s!==null&&nl(s)===null){i.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}md(i,!0,c,null,x);break;case"together":md(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ul(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function Hn(s,i,c){if(s!==null&&(i.dependencies=s.dependencies),Zr|=i.lanes,(c&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(n(153));if(i.child!==null){for(s=i.child,c=_r(s,s.pendingProps),i.child=c,c.return=i;s.sibling!==null;)s=s.sibling,c=c.sibling=_r(s,s.pendingProps),c.return=i;c.sibling=null}return i.child}function Xj(s,i,c){switch(i.tag){case 3:Yg(i),Us();break;case 5:fg(i);break;case 1:Pt(i.type)&&qa(i);break;case 4:Ku(i,i.stateNode.containerInfo);break;case 10:var f=i.type._context,g=i.memoizedProps.value;Ve(Qa,f._currentValue),f._currentValue=g;break;case 13:if(f=i.memoizedState,f!==null)return f.dehydrated!==null?(Ve(qe,qe.current&1),i.flags|=128,null):(c&i.child.childLanes)!==0?Jg(s,i,c):(Ve(qe,qe.current&1),s=Hn(s,i,c),s!==null?s.sibling:null);Ve(qe,qe.current&1);break;case 19:if(f=(c&i.childLanes)!==0,(s.flags&128)!==0){if(f)return Zg(s,i,c);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Ve(qe,qe.current),f)break;return null;case 22:case 23:return i.lanes=0,qg(s,i,c)}return Hn(s,i,c)}var ey,pd,ty,ny;ey=function(s,i){for(var c=i.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},pd=function(){},ty=function(s,i,c,f){var g=s.memoizedProps;if(g!==f){s=i.stateNode,Jr(_n.current);var x=null;switch(c){case"input":g=Nt(s,g),f=Nt(s,f),x=[];break;case"select":g=Y({},g,{value:void 0}),f=Y({},f,{value:void 0}),x=[];break;case"textarea":g=Kc(s,g),f=Kc(s,f),x=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=za)}Yc(c,f);var C;c=null;for(V in g)if(!f.hasOwnProperty(V)&&g.hasOwnProperty(V)&&g[V]!=null)if(V==="style"){var T=g[V];for(C in T)T.hasOwnProperty(C)&&(c||(c={}),c[C]="")}else V!=="dangerouslySetInnerHTML"&&V!=="children"&&V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&V!=="autoFocus"&&(o.hasOwnProperty(V)?x||(x=[]):(x=x||[]).push(V,null));for(V in f){var A=f[V];if(T=g!=null?g[V]:void 0,f.hasOwnProperty(V)&&A!==T&&(A!=null||T!=null))if(V==="style")if(T){for(C in T)!T.hasOwnProperty(C)||A&&A.hasOwnProperty(C)||(c||(c={}),c[C]="");for(C in A)A.hasOwnProperty(C)&&T[C]!==A[C]&&(c||(c={}),c[C]=A[C])}else c||(x||(x=[]),x.push(V,c)),c=A;else V==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,T=T?T.__html:void 0,A!=null&&T!==A&&(x=x||[]).push(V,A)):V==="children"?typeof A!="string"&&typeof A!="number"||(x=x||[]).push(V,""+A):V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&(o.hasOwnProperty(V)?(A!=null&&V==="onScroll"&&ze("scroll",s),x||T===A||(x=[])):(x=x||[]).push(V,A))}c&&(x=x||[]).push("style",c);var V=x;(i.updateQueue=V)&&(i.flags|=4)}},ny=function(s,i,c,f){c!==f&&(i.flags|=4)};function _o(s,i){if(!He)switch(s.tailMode){case"hidden":i=s.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function bt(s){var i=s.alternate!==null&&s.alternate.child===s.child,c=0,f=0;if(i)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=f,s.childLanes=c,i}function Jj(s,i,c){var f=i.pendingProps;switch(Mu(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(i),null;case 1:return Pt(i.type)&&Ha(),bt(i),null;case 3:return f=i.stateNode,Ws(),We(Tt),We(xt),Xu(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(Xa(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ln!==null&&(kd(ln),ln=null))),pd(s,i),bt(i),null;case 5:Gu(i);var g=Jr(vo.current);if(c=i.type,s!==null&&i.stateNode!=null)ty(s,i,c,f,g),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!f){if(i.stateNode===null)throw Error(n(166));return bt(i),null}if(s=Jr(_n.current),Xa(i)){f=i.stateNode,c=i.type;var x=i.memoizedProps;switch(f[Sn]=i,f[fo]=x,s=(i.mode&1)!==0,c){case"dialog":ze("cancel",f),ze("close",f);break;case"iframe":case"object":case"embed":ze("load",f);break;case"video":case"audio":for(g=0;g<co.length;g++)ze(co[g],f);break;case"source":ze("error",f);break;case"img":case"image":case"link":ze("error",f),ze("load",f);break;case"details":ze("toggle",f);break;case"input":rr(f,x),ze("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!x.multiple},ze("invalid",f);break;case"textarea":Fm(f,x),ze("invalid",f)}Yc(c,x),g=null;for(var C in x)if(x.hasOwnProperty(C)){var T=x[C];C==="children"?typeof T=="string"?f.textContent!==T&&(x.suppressHydrationWarning!==!0&&Ba(f.textContent,T,s),g=["children",T]):typeof T=="number"&&f.textContent!==""+T&&(x.suppressHydrationWarning!==!0&&Ba(f.textContent,T,s),g=["children",""+T]):o.hasOwnProperty(C)&&T!=null&&C==="onScroll"&&ze("scroll",f)}switch(c){case"input":Te(f),wa(f,x,!0);break;case"textarea":Te(f),Vm(f);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(f.onclick=za)}f=g,i.updateQueue=f,f!==null&&(i.flags|=4)}else{C=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Bm(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=C.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=C.createElement(c,{is:f.is}):(s=C.createElement(c),c==="select"&&(C=s,f.multiple?C.multiple=!0:f.size&&(C.size=f.size))):s=C.createElementNS(s,c),s[Sn]=i,s[fo]=f,ey(s,i,!1,!1),i.stateNode=s;e:{switch(C=Xc(c,f),c){case"dialog":ze("cancel",s),ze("close",s),g=f;break;case"iframe":case"object":case"embed":ze("load",s),g=f;break;case"video":case"audio":for(g=0;g<co.length;g++)ze(co[g],s);g=f;break;case"source":ze("error",s),g=f;break;case"img":case"image":case"link":ze("error",s),ze("load",s),g=f;break;case"details":ze("toggle",s),g=f;break;case"input":rr(s,f),g=Nt(s,f),ze("invalid",s);break;case"option":g=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},g=Y({},f,{value:void 0}),ze("invalid",s);break;case"textarea":Fm(s,f),g=Kc(s,f),ze("invalid",s);break;default:g=f}Yc(c,g),T=g;for(x in T)if(T.hasOwnProperty(x)){var A=T[x];x==="style"?Hm(s,A):x==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&zm(s,A)):x==="children"?typeof A=="string"?(c!=="textarea"||A!=="")&&Wi(s,A):typeof A=="number"&&Wi(s,""+A):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(o.hasOwnProperty(x)?A!=null&&x==="onScroll"&&ze("scroll",s):A!=null&&E(s,x,A,C))}switch(c){case"input":Te(s),wa(s,f,!1);break;case"textarea":Te(s),Vm(s);break;case"option":f.value!=null&&s.setAttribute("value",""+me(f.value));break;case"select":s.multiple=!!f.multiple,x=f.value,x!=null?Cs(s,!!f.multiple,x,!1):f.defaultValue!=null&&Cs(s,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=za)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return bt(i),null;case 6:if(s&&i.stateNode!=null)ny(s,i,s.memoizedProps,f);else{if(typeof f!="string"&&i.stateNode===null)throw Error(n(166));if(c=Jr(vo.current),Jr(_n.current),Xa(i)){if(f=i.stateNode,c=i.memoizedProps,f[Sn]=i,(x=f.nodeValue!==c)&&(s=Ut,s!==null))switch(s.tag){case 3:Ba(f.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Ba(f.nodeValue,c,(s.mode&1)!==0)}x&&(i.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[Sn]=i,i.stateNode=f}return bt(i),null;case 13:if(We(qe),f=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(He&&Vt!==null&&(i.mode&1)!==0&&(i.flags&128)===0)ig(),Us(),i.flags|=98560,x=!1;else if(x=Xa(i),f!==null&&f.dehydrated!==null){if(s===null){if(!x)throw Error(n(318));if(x=i.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[Sn]=i}else Us(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;bt(i),x=!1}else ln!==null&&(kd(ln),ln=null),x=!0;if(!x)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=c,i):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(qe.current&1)!==0?at===0&&(at=3):Td())),i.updateQueue!==null&&(i.flags|=4),bt(i),null);case 4:return Ws(),pd(s,i),s===null&&uo(i.stateNode.containerInfo),bt(i),null;case 10:return zu(i.type._context),bt(i),null;case 17:return Pt(i.type)&&Ha(),bt(i),null;case 19:if(We(qe),x=i.memoizedState,x===null)return bt(i),null;if(f=(i.flags&128)!==0,C=x.rendering,C===null)if(f)_o(x,!1);else{if(at!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(C=nl(s),C!==null){for(i.flags|=128,_o(x,!1),f=C.updateQueue,f!==null&&(i.updateQueue=f,i.flags|=4),i.subtreeFlags=0,f=c,c=i.child;c!==null;)x=c,s=f,x.flags&=14680066,C=x.alternate,C===null?(x.childLanes=0,x.lanes=s,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=C.childLanes,x.lanes=C.lanes,x.child=C.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=C.memoizedProps,x.memoizedState=C.memoizedState,x.updateQueue=C.updateQueue,x.type=C.type,s=C.dependencies,x.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return Ve(qe,qe.current&1|2),i.child}s=s.sibling}x.tail!==null&&Qe()>Gs&&(i.flags|=128,f=!0,_o(x,!1),i.lanes=4194304)}else{if(!f)if(s=nl(C),s!==null){if(i.flags|=128,f=!0,c=s.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),_o(x,!0),x.tail===null&&x.tailMode==="hidden"&&!C.alternate&&!He)return bt(i),null}else 2*Qe()-x.renderingStartTime>Gs&&c!==1073741824&&(i.flags|=128,f=!0,_o(x,!1),i.lanes=4194304);x.isBackwards?(C.sibling=i.child,i.child=C):(c=x.last,c!==null?c.sibling=C:i.child=C,x.last=C)}return x.tail!==null?(i=x.tail,x.rendering=i,x.tail=i.sibling,x.renderingStartTime=Qe(),i.sibling=null,c=qe.current,Ve(qe,f?c&1|2:c&1),i):(bt(i),null);case 22:case 23:return Nd(),f=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(i.flags|=8192),f&&(i.mode&1)!==0?(Bt&1073741824)!==0&&(bt(i),i.subtreeFlags&6&&(i.flags|=8192)):bt(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function Qj(s,i){switch(Mu(i),i.tag){case 1:return Pt(i.type)&&Ha(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return Ws(),We(Tt),We(xt),Xu(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return Gu(i),null;case 13:if(We(qe),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Us()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return We(qe),null;case 4:return Ws(),null;case 10:return zu(i.type._context),null;case 22:case 23:return Nd(),null;case 24:return null;default:return null}}var dl=!1,St=!1,Zj=typeof WeakSet=="function"?WeakSet:Set,se=null;function qs(s,i){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){Xe(s,i,f)}else c.current=null}function gd(s,i,c){try{c()}catch(f){Xe(s,i,f)}}var ry=!1;function eC(s,i){if(Nu=Ra,s=Dp(),wu(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var g=f.anchorOffset,x=f.focusNode;f=f.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var C=0,T=-1,A=-1,V=0,q=0,G=s,W=null;t:for(;;){for(var ne;G!==c||g!==0&&G.nodeType!==3||(T=C+g),G!==x||f!==0&&G.nodeType!==3||(A=C+f),G.nodeType===3&&(C+=G.nodeValue.length),(ne=G.firstChild)!==null;)W=G,G=ne;for(;;){if(G===s)break t;if(W===c&&++V===g&&(T=C),W===x&&++q===f&&(A=C),(ne=G.nextSibling)!==null)break;G=W,W=G.parentNode}G=ne}c=T===-1||A===-1?null:{start:T,end:A}}else c=null}c=c||{start:0,end:0}}else c=null;for(Tu={focusedElem:s,selectionRange:c},Ra=!1,se=i;se!==null;)if(i=se,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,se=s;else for(;se!==null;){i=se;try{var ie=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ie!==null){var ce=ie.memoizedProps,Ze=ie.memoizedState,F=i.stateNode,O=F.getSnapshotBeforeUpdate(i.elementType===i.type?ce:cn(i.type,ce),Ze);F.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var U=i.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Q){Xe(i,i.return,Q)}if(s=i.sibling,s!==null){s.return=i.return,se=s;break}se=i.return}return ie=ry,ry=!1,ie}function jo(s,i,c){var f=i.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&s)===s){var x=g.destroy;g.destroy=void 0,x!==void 0&&gd(i,c,x)}g=g.next}while(g!==f)}}function hl(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&s)===s){var f=c.create;c.destroy=f()}c=c.next}while(c!==i)}}function yd(s){var i=s.ref;if(i!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof i=="function"?i(s):i.current=s}}function sy(s){var i=s.alternate;i!==null&&(s.alternate=null,sy(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[Sn],delete i[fo],delete i[Ou],delete i[Lj],delete i[Mj])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function iy(s){return s.tag===5||s.tag===3||s.tag===4}function oy(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||iy(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function vd(s,i,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,i?c.nodeType===8?c.parentNode.insertBefore(s,i):c.insertBefore(s,i):(c.nodeType===8?(i=c.parentNode,i.insertBefore(s,c)):(i=c,i.appendChild(s)),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=za));else if(f!==4&&(s=s.child,s!==null))for(vd(s,i,c),s=s.sibling;s!==null;)vd(s,i,c),s=s.sibling}function xd(s,i,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,i?c.insertBefore(s,i):c.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(xd(s,i,c),s=s.sibling;s!==null;)xd(s,i,c),s=s.sibling}var gt=null,un=!1;function vr(s,i,c){for(c=c.child;c!==null;)ay(s,i,c),c=c.sibling}function ay(s,i,c){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(Ca,c)}catch{}switch(c.tag){case 5:St||qs(c,i);case 6:var f=gt,g=un;gt=null,vr(s,i,c),gt=f,un=g,gt!==null&&(un?(s=gt,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):gt.removeChild(c.stateNode));break;case 18:gt!==null&&(un?(s=gt,c=c.stateNode,s.nodeType===8?Au(s.parentNode,c):s.nodeType===1&&Au(s,c),to(s)):Au(gt,c.stateNode));break;case 4:f=gt,g=un,gt=c.stateNode.containerInfo,un=!0,vr(s,i,c),gt=f,un=g;break;case 0:case 11:case 14:case 15:if(!St&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var x=g,C=x.destroy;x=x.tag,C!==void 0&&((x&2)!==0||(x&4)!==0)&&gd(c,i,C),g=g.next}while(g!==f)}vr(s,i,c);break;case 1:if(!St&&(qs(c,i),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(T){Xe(c,i,T)}vr(s,i,c);break;case 21:vr(s,i,c);break;case 22:c.mode&1?(St=(f=St)||c.memoizedState!==null,vr(s,i,c),St=f):vr(s,i,c);break;default:vr(s,i,c)}}function ly(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new Zj),i.forEach(function(f){var g=cC.bind(null,s,f);c.has(f)||(c.add(f),f.then(g,g))})}}function dn(s,i){var c=i.deletions;if(c!==null)for(var f=0;f<c.length;f++){var g=c[f];try{var x=s,C=i,T=C;e:for(;T!==null;){switch(T.tag){case 5:gt=T.stateNode,un=!1;break e;case 3:gt=T.stateNode.containerInfo,un=!0;break e;case 4:gt=T.stateNode.containerInfo,un=!0;break e}T=T.return}if(gt===null)throw Error(n(160));ay(x,C,g),gt=null,un=!1;var A=g.alternate;A!==null&&(A.return=null),g.return=null}catch(V){Xe(g,i,V)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)cy(i,s),i=i.sibling}function cy(s,i){var c=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(dn(i,s),Cn(s),f&4){try{jo(3,s,s.return),hl(3,s)}catch(ce){Xe(s,s.return,ce)}try{jo(5,s,s.return)}catch(ce){Xe(s,s.return,ce)}}break;case 1:dn(i,s),Cn(s),f&512&&c!==null&&qs(c,c.return);break;case 5:if(dn(i,s),Cn(s),f&512&&c!==null&&qs(c,c.return),s.flags&32){var g=s.stateNode;try{Wi(g,"")}catch(ce){Xe(s,s.return,ce)}}if(f&4&&(g=s.stateNode,g!=null)){var x=s.memoizedProps,C=c!==null?c.memoizedProps:x,T=s.type,A=s.updateQueue;if(s.updateQueue=null,A!==null)try{T==="input"&&x.type==="radio"&&x.name!=null&&sr(g,x),Xc(T,C);var V=Xc(T,x);for(C=0;C<A.length;C+=2){var q=A[C],G=A[C+1];q==="style"?Hm(g,G):q==="dangerouslySetInnerHTML"?zm(g,G):q==="children"?Wi(g,G):E(g,q,G,V)}switch(T){case"input":$n(g,x);break;case"textarea":Um(g,x);break;case"select":var W=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!x.multiple;var ne=x.value;ne!=null?Cs(g,!!x.multiple,ne,!1):W!==!!x.multiple&&(x.defaultValue!=null?Cs(g,!!x.multiple,x.defaultValue,!0):Cs(g,!!x.multiple,x.multiple?[]:"",!1))}g[fo]=x}catch(ce){Xe(s,s.return,ce)}}break;case 6:if(dn(i,s),Cn(s),f&4){if(s.stateNode===null)throw Error(n(162));g=s.stateNode,x=s.memoizedProps;try{g.nodeValue=x}catch(ce){Xe(s,s.return,ce)}}break;case 3:if(dn(i,s),Cn(s),f&4&&c!==null&&c.memoizedState.isDehydrated)try{to(i.containerInfo)}catch(ce){Xe(s,s.return,ce)}break;case 4:dn(i,s),Cn(s);break;case 13:dn(i,s),Cn(s),g=s.child,g.flags&8192&&(x=g.memoizedState!==null,g.stateNode.isHidden=x,!x||g.alternate!==null&&g.alternate.memoizedState!==null||(Sd=Qe())),f&4&&ly(s);break;case 22:if(q=c!==null&&c.memoizedState!==null,s.mode&1?(St=(V=St)||q,dn(i,s),St=V):dn(i,s),Cn(s),f&8192){if(V=s.memoizedState!==null,(s.stateNode.isHidden=V)&&!q&&(s.mode&1)!==0)for(se=s,q=s.child;q!==null;){for(G=se=q;se!==null;){switch(W=se,ne=W.child,W.tag){case 0:case 11:case 14:case 15:jo(4,W,W.return);break;case 1:qs(W,W.return);var ie=W.stateNode;if(typeof ie.componentWillUnmount=="function"){f=W,c=W.return;try{i=f,ie.props=i.memoizedProps,ie.state=i.memoizedState,ie.componentWillUnmount()}catch(ce){Xe(f,c,ce)}}break;case 5:qs(W,W.return);break;case 22:if(W.memoizedState!==null){hy(G);continue}}ne!==null?(ne.return=W,se=ne):hy(G)}q=q.sibling}e:for(q=null,G=s;;){if(G.tag===5){if(q===null){q=G;try{g=G.stateNode,V?(x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(T=G.stateNode,A=G.memoizedProps.style,C=A!=null&&A.hasOwnProperty("display")?A.display:null,T.style.display=Wm("display",C))}catch(ce){Xe(s,s.return,ce)}}}else if(G.tag===6){if(q===null)try{G.stateNode.nodeValue=V?"":G.memoizedProps}catch(ce){Xe(s,s.return,ce)}}else if((G.tag!==22&&G.tag!==23||G.memoizedState===null||G===s)&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===s)break e;for(;G.sibling===null;){if(G.return===null||G.return===s)break e;q===G&&(q=null),G=G.return}q===G&&(q=null),G.sibling.return=G.return,G=G.sibling}}break;case 19:dn(i,s),Cn(s),f&4&&ly(s);break;case 21:break;default:dn(i,s),Cn(s)}}function Cn(s){var i=s.flags;if(i&2){try{e:{for(var c=s.return;c!==null;){if(iy(c)){var f=c;break e}c=c.return}throw Error(n(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(Wi(g,""),f.flags&=-33);var x=oy(s);xd(s,x,g);break;case 3:case 4:var C=f.stateNode.containerInfo,T=oy(s);vd(s,T,C);break;default:throw Error(n(161))}}catch(A){Xe(s,s.return,A)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function tC(s,i,c){se=s,uy(s)}function uy(s,i,c){for(var f=(s.mode&1)!==0;se!==null;){var g=se,x=g.child;if(g.tag===22&&f){var C=g.memoizedState!==null||dl;if(!C){var T=g.alternate,A=T!==null&&T.memoizedState!==null||St;T=dl;var V=St;if(dl=C,(St=A)&&!V)for(se=g;se!==null;)C=se,A=C.child,C.tag===22&&C.memoizedState!==null?fy(g):A!==null?(A.return=C,se=A):fy(g);for(;x!==null;)se=x,uy(x),x=x.sibling;se=g,dl=T,St=V}dy(s)}else(g.subtreeFlags&8772)!==0&&x!==null?(x.return=g,se=x):dy(s)}}function dy(s){for(;se!==null;){var i=se;if((i.flags&8772)!==0){var c=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:St||hl(5,i);break;case 1:var f=i.stateNode;if(i.flags&4&&!St)if(c===null)f.componentDidMount();else{var g=i.elementType===i.type?c.memoizedProps:cn(i.type,c.memoizedProps);f.componentDidUpdate(g,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var x=i.updateQueue;x!==null&&hg(i,x,f);break;case 3:var C=i.updateQueue;if(C!==null){if(c=null,i.child!==null)switch(i.child.tag){case 5:c=i.child.stateNode;break;case 1:c=i.child.stateNode}hg(i,C,c)}break;case 5:var T=i.stateNode;if(c===null&&i.flags&4){c=T;var A=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&c.focus();break;case"img":A.src&&(c.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var V=i.alternate;if(V!==null){var q=V.memoizedState;if(q!==null){var G=q.dehydrated;G!==null&&to(G)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}St||i.flags&512&&yd(i)}catch(W){Xe(i,i.return,W)}}if(i===s){se=null;break}if(c=i.sibling,c!==null){c.return=i.return,se=c;break}se=i.return}}function hy(s){for(;se!==null;){var i=se;if(i===s){se=null;break}var c=i.sibling;if(c!==null){c.return=i.return,se=c;break}se=i.return}}function fy(s){for(;se!==null;){var i=se;try{switch(i.tag){case 0:case 11:case 15:var c=i.return;try{hl(4,i)}catch(A){Xe(i,c,A)}break;case 1:var f=i.stateNode;if(typeof f.componentDidMount=="function"){var g=i.return;try{f.componentDidMount()}catch(A){Xe(i,g,A)}}var x=i.return;try{yd(i)}catch(A){Xe(i,x,A)}break;case 5:var C=i.return;try{yd(i)}catch(A){Xe(i,C,A)}}}catch(A){Xe(i,i.return,A)}if(i===s){se=null;break}var T=i.sibling;if(T!==null){T.return=i.return,se=T;break}se=i.return}}var nC=Math.ceil,fl=P.ReactCurrentDispatcher,wd=P.ReactCurrentOwner,Xt=P.ReactCurrentBatchConfig,Re=0,ht=null,nt=null,yt=0,Bt=0,Ks=fr(0),at=0,Co=null,Zr=0,ml=0,bd=0,ko=null,At=null,Sd=0,Gs=1/0,qn=null,pl=!1,_d=null,xr=null,gl=!1,wr=null,yl=0,Eo=0,jd=null,vl=-1,xl=0;function Ct(){return(Re&6)!==0?Qe():vl!==-1?vl:vl=Qe()}function br(s){return(s.mode&1)===0?1:(Re&2)!==0&&yt!==0?yt&-yt:Fj.transition!==null?(xl===0&&(xl=op()),xl):(s=Le,s!==0||(s=window.event,s=s===void 0?16:pp(s.type)),s)}function hn(s,i,c,f){if(50<Eo)throw Eo=0,jd=null,Error(n(185));Xi(s,c,f),((Re&2)===0||s!==ht)&&(s===ht&&((Re&2)===0&&(ml|=c),at===4&&Sr(s,yt)),Ot(s,f),c===1&&Re===0&&(i.mode&1)===0&&(Gs=Qe()+500,Ka&&pr()))}function Ot(s,i){var c=s.callbackNode;F_(s,i);var f=Na(s,s===ht?yt:0);if(f===0)c!==null&&rp(c),s.callbackNode=null,s.callbackPriority=0;else if(i=f&-f,s.callbackPriority!==i){if(c!=null&&rp(c),i===1)s.tag===0?$j(py.bind(null,s)):eg(py.bind(null,s)),Ij(function(){(Re&6)===0&&pr()}),c=null;else{switch(ap(f)){case 1:c=ru;break;case 4:c=sp;break;case 16:c=ja;break;case 536870912:c=ip;break;default:c=ja}c=_y(c,my.bind(null,s))}s.callbackPriority=i,s.callbackNode=c}}function my(s,i){if(vl=-1,xl=0,(Re&6)!==0)throw Error(n(327));var c=s.callbackNode;if(Ys()&&s.callbackNode!==c)return null;var f=Na(s,s===ht?yt:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||i)i=wl(s,f);else{i=f;var g=Re;Re|=2;var x=yy();(ht!==s||yt!==i)&&(qn=null,Gs=Qe()+500,ts(s,i));do try{iC();break}catch(T){gy(s,T)}while(!0);Bu(),fl.current=x,Re=g,nt!==null?i=0:(ht=null,yt=0,i=at)}if(i!==0){if(i===2&&(g=su(s),g!==0&&(f=g,i=Cd(s,g))),i===1)throw c=Co,ts(s,0),Sr(s,f),Ot(s,Qe()),c;if(i===6)Sr(s,f);else{if(g=s.current.alternate,(f&30)===0&&!rC(g)&&(i=wl(s,f),i===2&&(x=su(s),x!==0&&(f=x,i=Cd(s,x))),i===1))throw c=Co,ts(s,0),Sr(s,f),Ot(s,Qe()),c;switch(s.finishedWork=g,s.finishedLanes=f,i){case 0:case 1:throw Error(n(345));case 2:ns(s,At,qn);break;case 3:if(Sr(s,f),(f&130023424)===f&&(i=Sd+500-Qe(),10<i)){if(Na(s,0)!==0)break;if(g=s.suspendedLanes,(g&f)!==f){Ct(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=Ru(ns.bind(null,s,At,qn),i);break}ns(s,At,qn);break;case 4:if(Sr(s,f),(f&4194240)===f)break;for(i=s.eventTimes,g=-1;0<f;){var C=31-on(f);x=1<<C,C=i[C],C>g&&(g=C),f&=~x}if(f=g,f=Qe()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*nC(f/1960))-f,10<f){s.timeoutHandle=Ru(ns.bind(null,s,At,qn),f);break}ns(s,At,qn);break;case 5:ns(s,At,qn);break;default:throw Error(n(329))}}}return Ot(s,Qe()),s.callbackNode===c?my.bind(null,s):null}function Cd(s,i){var c=ko;return s.current.memoizedState.isDehydrated&&(ts(s,i).flags|=256),s=wl(s,i),s!==2&&(i=At,At=c,i!==null&&kd(i)),s}function kd(s){At===null?At=s:At.push.apply(At,s)}function rC(s){for(var i=s;;){if(i.flags&16384){var c=i.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var g=c[f],x=g.getSnapshot;g=g.value;try{if(!an(x(),g))return!1}catch{return!1}}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Sr(s,i){for(i&=~bd,i&=~ml,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var c=31-on(i),f=1<<c;s[c]=-1,i&=~f}}function py(s){if((Re&6)!==0)throw Error(n(327));Ys();var i=Na(s,0);if((i&1)===0)return Ot(s,Qe()),null;var c=wl(s,i);if(s.tag!==0&&c===2){var f=su(s);f!==0&&(i=f,c=Cd(s,f))}if(c===1)throw c=Co,ts(s,0),Sr(s,i),Ot(s,Qe()),c;if(c===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,ns(s,At,qn),Ot(s,Qe()),null}function Ed(s,i){var c=Re;Re|=1;try{return s(i)}finally{Re=c,Re===0&&(Gs=Qe()+500,Ka&&pr())}}function es(s){wr!==null&&wr.tag===0&&(Re&6)===0&&Ys();var i=Re;Re|=1;var c=Xt.transition,f=Le;try{if(Xt.transition=null,Le=1,s)return s()}finally{Le=f,Xt.transition=c,Re=i,(Re&6)===0&&pr()}}function Nd(){Bt=Ks.current,We(Ks)}function ts(s,i){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,Oj(c)),nt!==null)for(c=nt.return;c!==null;){var f=c;switch(Mu(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Ha();break;case 3:Ws(),We(Tt),We(xt),Xu();break;case 5:Gu(f);break;case 4:Ws();break;case 13:We(qe);break;case 19:We(qe);break;case 10:zu(f.type._context);break;case 22:case 23:Nd()}c=c.return}if(ht=s,nt=s=_r(s.current,null),yt=Bt=i,at=0,Co=null,bd=ml=Zr=0,At=ko=null,Xr!==null){for(i=0;i<Xr.length;i++)if(c=Xr[i],f=c.interleaved,f!==null){c.interleaved=null;var g=f.next,x=c.pending;if(x!==null){var C=x.next;x.next=g,f.next=C}c.pending=f}Xr=null}return s}function gy(s,i){do{var c=nt;try{if(Bu(),rl.current=al,sl){for(var f=Ke.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}sl=!1}if(Qr=0,dt=ot=Ke=null,xo=!1,wo=0,wd.current=null,c===null||c.return===null){at=1,Co=i,nt=null;break}e:{var x=s,C=c.return,T=c,A=i;if(i=yt,T.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var V=A,q=T,G=q.tag;if((q.mode&1)===0&&(G===0||G===11||G===15)){var W=q.alternate;W?(q.updateQueue=W.updateQueue,q.memoizedState=W.memoizedState,q.lanes=W.lanes):(q.updateQueue=null,q.memoizedState=null)}var ne=Vg(C);if(ne!==null){ne.flags&=-257,Bg(ne,C,T,x,i),ne.mode&1&&Ug(x,V,i),i=ne,A=V;var ie=i.updateQueue;if(ie===null){var ce=new Set;ce.add(A),i.updateQueue=ce}else ie.add(A);break e}else{if((i&1)===0){Ug(x,V,i),Td();break e}A=Error(n(426))}}else if(He&&T.mode&1){var Ze=Vg(C);if(Ze!==null){(Ze.flags&65536)===0&&(Ze.flags|=256),Bg(Ze,C,T,x,i),Uu(Hs(A,T));break e}}x=A=Hs(A,T),at!==4&&(at=2),ko===null?ko=[x]:ko.push(x),x=C;do{switch(x.tag){case 3:x.flags|=65536,i&=-i,x.lanes|=i;var F=$g(x,A,i);dg(x,F);break e;case 1:T=A;var O=x.type,U=x.stateNode;if((x.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(xr===null||!xr.has(U)))){x.flags|=65536,i&=-i,x.lanes|=i;var Q=Fg(x,T,i);dg(x,Q);break e}}x=x.return}while(x!==null)}xy(c)}catch(fe){i=fe,nt===c&&c!==null&&(nt=c=c.return);continue}break}while(!0)}function yy(){var s=fl.current;return fl.current=al,s===null?al:s}function Td(){(at===0||at===3||at===2)&&(at=4),ht===null||(Zr&268435455)===0&&(ml&268435455)===0||Sr(ht,yt)}function wl(s,i){var c=Re;Re|=2;var f=yy();(ht!==s||yt!==i)&&(qn=null,ts(s,i));do try{sC();break}catch(g){gy(s,g)}while(!0);if(Bu(),Re=c,fl.current=f,nt!==null)throw Error(n(261));return ht=null,yt=0,at}function sC(){for(;nt!==null;)vy(nt)}function iC(){for(;nt!==null&&!P_();)vy(nt)}function vy(s){var i=Sy(s.alternate,s,Bt);s.memoizedProps=s.pendingProps,i===null?xy(s):nt=i,wd.current=null}function xy(s){var i=s;do{var c=i.alternate;if(s=i.return,(i.flags&32768)===0){if(c=Jj(c,i,Bt),c!==null){nt=c;return}}else{if(c=Qj(c,i),c!==null){c.flags&=32767,nt=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{at=6,nt=null;return}}if(i=i.sibling,i!==null){nt=i;return}nt=i=s}while(i!==null);at===0&&(at=5)}function ns(s,i,c){var f=Le,g=Xt.transition;try{Xt.transition=null,Le=1,oC(s,i,c,f)}finally{Xt.transition=g,Le=f}return null}function oC(s,i,c,f){do Ys();while(wr!==null);if((Re&6)!==0)throw Error(n(327));c=s.finishedWork;var g=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var x=c.lanes|c.childLanes;if(U_(s,x),s===ht&&(nt=ht=null,yt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||gl||(gl=!0,_y(ja,function(){return Ys(),null})),x=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||x){x=Xt.transition,Xt.transition=null;var C=Le;Le=1;var T=Re;Re|=4,wd.current=null,eC(s,c),cy(c,s),kj(Tu),Ra=!!Nu,Tu=Nu=null,s.current=c,tC(c),R_(),Re=T,Le=C,Xt.transition=x}else s.current=c;if(gl&&(gl=!1,wr=s,yl=g),x=s.pendingLanes,x===0&&(xr=null),I_(c.stateNode),Ot(s,Qe()),i!==null)for(f=s.onRecoverableError,c=0;c<i.length;c++)g=i[c],f(g.value,{componentStack:g.stack,digest:g.digest});if(pl)throw pl=!1,s=_d,_d=null,s;return(yl&1)!==0&&s.tag!==0&&Ys(),x=s.pendingLanes,(x&1)!==0?s===jd?Eo++:(Eo=0,jd=s):Eo=0,pr(),null}function Ys(){if(wr!==null){var s=ap(yl),i=Xt.transition,c=Le;try{if(Xt.transition=null,Le=16>s?16:s,wr===null)var f=!1;else{if(s=wr,wr=null,yl=0,(Re&6)!==0)throw Error(n(331));var g=Re;for(Re|=4,se=s.current;se!==null;){var x=se,C=x.child;if((se.flags&16)!==0){var T=x.deletions;if(T!==null){for(var A=0;A<T.length;A++){var V=T[A];for(se=V;se!==null;){var q=se;switch(q.tag){case 0:case 11:case 15:jo(8,q,x)}var G=q.child;if(G!==null)G.return=q,se=G;else for(;se!==null;){q=se;var W=q.sibling,ne=q.return;if(sy(q),q===V){se=null;break}if(W!==null){W.return=ne,se=W;break}se=ne}}}var ie=x.alternate;if(ie!==null){var ce=ie.child;if(ce!==null){ie.child=null;do{var Ze=ce.sibling;ce.sibling=null,ce=Ze}while(ce!==null)}}se=x}}if((x.subtreeFlags&2064)!==0&&C!==null)C.return=x,se=C;else e:for(;se!==null;){if(x=se,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:jo(9,x,x.return)}var F=x.sibling;if(F!==null){F.return=x.return,se=F;break e}se=x.return}}var O=s.current;for(se=O;se!==null;){C=se;var U=C.child;if((C.subtreeFlags&2064)!==0&&U!==null)U.return=C,se=U;else e:for(C=O;se!==null;){if(T=se,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:hl(9,T)}}catch(fe){Xe(T,T.return,fe)}if(T===C){se=null;break e}var Q=T.sibling;if(Q!==null){Q.return=T.return,se=Q;break e}se=T.return}}if(Re=g,pr(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(Ca,s)}catch{}f=!0}return f}finally{Le=c,Xt.transition=i}}return!1}function wy(s,i,c){i=Hs(c,i),i=$g(s,i,1),s=yr(s,i,1),i=Ct(),s!==null&&(Xi(s,1,i),Ot(s,i))}function Xe(s,i,c){if(s.tag===3)wy(s,s,c);else for(;i!==null;){if(i.tag===3){wy(i,s,c);break}else if(i.tag===1){var f=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(xr===null||!xr.has(f))){s=Hs(c,s),s=Fg(i,s,1),i=yr(i,s,1),s=Ct(),i!==null&&(Xi(i,1,s),Ot(i,s));break}}i=i.return}}function aC(s,i,c){var f=s.pingCache;f!==null&&f.delete(i),i=Ct(),s.pingedLanes|=s.suspendedLanes&c,ht===s&&(yt&c)===c&&(at===4||at===3&&(yt&130023424)===yt&&500>Qe()-Sd?ts(s,0):bd|=c),Ot(s,i)}function by(s,i){i===0&&((s.mode&1)===0?i=1:(i=Ea,Ea<<=1,(Ea&130023424)===0&&(Ea=4194304)));var c=Ct();s=zn(s,i),s!==null&&(Xi(s,i,c),Ot(s,c))}function lC(s){var i=s.memoizedState,c=0;i!==null&&(c=i.retryLane),by(s,c)}function cC(s,i){var c=0;switch(s.tag){case 13:var f=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(i),by(s,c)}var Sy;Sy=function(s,i,c){if(s!==null)if(s.memoizedProps!==i.pendingProps||Tt.current)Rt=!0;else{if((s.lanes&c)===0&&(i.flags&128)===0)return Rt=!1,Xj(s,i,c);Rt=(s.flags&131072)!==0}else Rt=!1,He&&(i.flags&1048576)!==0&&tg(i,Ya,i.index);switch(i.lanes=0,i.tag){case 2:var f=i.type;ul(s,i),s=i.pendingProps;var g=Ms(i,xt.current);zs(i,c),g=Zu(null,i,f,s,g,c);var x=ed();return i.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Pt(f)?(x=!0,qa(i)):x=!1,i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,qu(i),g.updater=ll,i.stateNode=g,g._reactInternals=i,od(i,f,s,c),i=ud(null,i,f,!0,x,c)):(i.tag=0,He&&x&&Lu(i),jt(null,i,g,c),i=i.child),i;case 16:f=i.elementType;e:{switch(ul(s,i),s=i.pendingProps,g=f._init,f=g(f._payload),i.type=f,g=i.tag=dC(f),s=cn(f,s),g){case 0:i=cd(null,i,f,s,c);break e;case 1:i=Gg(null,i,f,s,c);break e;case 11:i=zg(null,i,f,s,c);break e;case 14:i=Wg(null,i,f,cn(f.type,s),c);break e}throw Error(n(306,f,""))}return i;case 0:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:cn(f,g),cd(s,i,f,g,c);case 1:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:cn(f,g),Gg(s,i,f,g,c);case 3:e:{if(Yg(i),s===null)throw Error(n(387));f=i.pendingProps,x=i.memoizedState,g=x.element,ug(s,i),tl(i,f,null,c);var C=i.memoizedState;if(f=C.element,x.isDehydrated)if(x={element:f,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},i.updateQueue.baseState=x,i.memoizedState=x,i.flags&256){g=Hs(Error(n(423)),i),i=Xg(s,i,f,c,g);break e}else if(f!==g){g=Hs(Error(n(424)),i),i=Xg(s,i,f,c,g);break e}else for(Vt=hr(i.stateNode.containerInfo.firstChild),Ut=i,He=!0,ln=null,c=lg(i,null,f,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Us(),f===g){i=Hn(s,i,c);break e}jt(s,i,f,c)}i=i.child}return i;case 5:return fg(i),s===null&&Fu(i),f=i.type,g=i.pendingProps,x=s!==null?s.memoizedProps:null,C=g.children,Pu(f,g)?C=null:x!==null&&Pu(f,x)&&(i.flags|=32),Kg(s,i),jt(s,i,C,c),i.child;case 6:return s===null&&Fu(i),null;case 13:return Jg(s,i,c);case 4:return Ku(i,i.stateNode.containerInfo),f=i.pendingProps,s===null?i.child=Vs(i,null,f,c):jt(s,i,f,c),i.child;case 11:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:cn(f,g),zg(s,i,f,g,c);case 7:return jt(s,i,i.pendingProps,c),i.child;case 8:return jt(s,i,i.pendingProps.children,c),i.child;case 12:return jt(s,i,i.pendingProps.children,c),i.child;case 10:e:{if(f=i.type._context,g=i.pendingProps,x=i.memoizedProps,C=g.value,Ve(Qa,f._currentValue),f._currentValue=C,x!==null)if(an(x.value,C)){if(x.children===g.children&&!Tt.current){i=Hn(s,i,c);break e}}else for(x=i.child,x!==null&&(x.return=i);x!==null;){var T=x.dependencies;if(T!==null){C=x.child;for(var A=T.firstContext;A!==null;){if(A.context===f){if(x.tag===1){A=Wn(-1,c&-c),A.tag=2;var V=x.updateQueue;if(V!==null){V=V.shared;var q=V.pending;q===null?A.next=A:(A.next=q.next,q.next=A),V.pending=A}}x.lanes|=c,A=x.alternate,A!==null&&(A.lanes|=c),Wu(x.return,c,i),T.lanes|=c;break}A=A.next}}else if(x.tag===10)C=x.type===i.type?null:x.child;else if(x.tag===18){if(C=x.return,C===null)throw Error(n(341));C.lanes|=c,T=C.alternate,T!==null&&(T.lanes|=c),Wu(C,c,i),C=x.sibling}else C=x.child;if(C!==null)C.return=x;else for(C=x;C!==null;){if(C===i){C=null;break}if(x=C.sibling,x!==null){x.return=C.return,C=x;break}C=C.return}x=C}jt(s,i,g.children,c),i=i.child}return i;case 9:return g=i.type,f=i.pendingProps.children,zs(i,c),g=Gt(g),f=f(g),i.flags|=1,jt(s,i,f,c),i.child;case 14:return f=i.type,g=cn(f,i.pendingProps),g=cn(f.type,g),Wg(s,i,f,g,c);case 15:return Hg(s,i,i.type,i.pendingProps,c);case 17:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:cn(f,g),ul(s,i),i.tag=1,Pt(f)?(s=!0,qa(i)):s=!1,zs(i,c),Lg(i,f,g),od(i,f,g,c),ud(null,i,f,!0,s,c);case 19:return Zg(s,i,c);case 22:return qg(s,i,c)}throw Error(n(156,i.tag))};function _y(s,i){return np(s,i)}function uC(s,i,c,f){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(s,i,c,f){return new uC(s,i,c,f)}function Pd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function dC(s){if(typeof s=="function")return Pd(s)?1:0;if(s!=null){if(s=s.$$typeof,s===te)return 11;if(s===ve)return 14}return 2}function _r(s,i){var c=s.alternate;return c===null?(c=Jt(s.tag,i,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=i,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,i=s.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function bl(s,i,c,f,g,x){var C=2;if(f=s,typeof s=="function")Pd(s)&&(C=1);else if(typeof s=="string")C=5;else e:switch(s){case I:return rs(c.children,g,x,i);case $:C=8,g|=8;break;case B:return s=Jt(12,c,i,g|2),s.elementType=B,s.lanes=x,s;case ue:return s=Jt(13,c,i,g),s.elementType=ue,s.lanes=x,s;case le:return s=Jt(19,c,i,g),s.elementType=le,s.lanes=x,s;case Z:return Sl(c,g,x,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case H:C=10;break e;case ee:C=9;break e;case te:C=11;break e;case ve:C=14;break e;case re:C=16,f=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return i=Jt(C,c,i,g),i.elementType=s,i.type=f,i.lanes=x,i}function rs(s,i,c,f){return s=Jt(7,s,f,i),s.lanes=c,s}function Sl(s,i,c,f){return s=Jt(22,s,f,i),s.elementType=Z,s.lanes=c,s.stateNode={isHidden:!1},s}function Rd(s,i,c){return s=Jt(6,s,null,i),s.lanes=c,s}function Ad(s,i,c){return i=Jt(4,s.children!==null?s.children:[],s.key,i),i.lanes=c,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function hC(s,i,c,f,g){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=iu(0),this.expirationTimes=iu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=iu(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Od(s,i,c,f,g,x,C,T,A){return s=new hC(s,i,c,T,A),i===1?(i=1,x===!0&&(i|=8)):i=0,x=Jt(3,null,null,i),s.current=x,x.stateNode=s,x.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},qu(x),s}function fC(s,i,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:f==null?null:""+f,children:s,containerInfo:i,implementation:c}}function jy(s){if(!s)return mr;s=s._reactInternals;e:{if(Hr(s)!==s||s.tag!==1)throw Error(n(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Pt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(s.tag===1){var c=s.type;if(Pt(c))return Qp(s,c,i)}return i}function Cy(s,i,c,f,g,x,C,T,A){return s=Od(c,f,!0,s,g,x,C,T,A),s.context=jy(null),c=s.current,f=Ct(),g=br(c),x=Wn(f,g),x.callback=i??null,yr(c,x,g),s.current.lanes=g,Xi(s,g,f),Ot(s,f),s}function _l(s,i,c,f){var g=i.current,x=Ct(),C=br(g);return c=jy(c),i.context===null?i.context=c:i.pendingContext=c,i=Wn(x,C),i.payload={element:s},f=f===void 0?null:f,f!==null&&(i.callback=f),s=yr(g,i,C),s!==null&&(hn(s,g,C,x),el(s,g,C)),C}function jl(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function ky(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<i?c:i}}function Id(s,i){ky(s,i),(s=s.alternate)&&ky(s,i)}function mC(){return null}var Ey=typeof reportError=="function"?reportError:function(s){console.error(s)};function Dd(s){this._internalRoot=s}Cl.prototype.render=Dd.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(n(409));_l(s,i,null,null)},Cl.prototype.unmount=Dd.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;es(function(){_l(null,s,null,null)}),i[Fn]=null}};function Cl(s){this._internalRoot=s}Cl.prototype.unstable_scheduleHydration=function(s){if(s){var i=up();s={blockedOn:null,target:s,priority:i};for(var c=0;c<cr.length&&i!==0&&i<cr[c].priority;c++);cr.splice(c,0,s),c===0&&fp(s)}};function Ld(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function kl(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Ny(){}function pC(s,i,c,f,g){if(g){if(typeof f=="function"){var x=f;f=function(){var V=jl(C);x.call(V)}}var C=Cy(i,f,s,0,null,!1,!1,"",Ny);return s._reactRootContainer=C,s[Fn]=C.current,uo(s.nodeType===8?s.parentNode:s),es(),C}for(;g=s.lastChild;)s.removeChild(g);if(typeof f=="function"){var T=f;f=function(){var V=jl(A);T.call(V)}}var A=Od(s,0,!1,null,null,!1,!1,"",Ny);return s._reactRootContainer=A,s[Fn]=A.current,uo(s.nodeType===8?s.parentNode:s),es(function(){_l(i,A,c,f)}),A}function El(s,i,c,f,g){var x=c._reactRootContainer;if(x){var C=x;if(typeof g=="function"){var T=g;g=function(){var A=jl(C);T.call(A)}}_l(i,C,s,g)}else C=pC(c,i,s,g,f);return jl(C)}lp=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var c=Yi(i.pendingLanes);c!==0&&(ou(i,c|1),Ot(i,Qe()),(Re&6)===0&&(Gs=Qe()+500,pr()))}break;case 13:es(function(){var f=zn(s,1);if(f!==null){var g=Ct();hn(f,s,1,g)}}),Id(s,1)}},au=function(s){if(s.tag===13){var i=zn(s,134217728);if(i!==null){var c=Ct();hn(i,s,134217728,c)}Id(s,134217728)}},cp=function(s){if(s.tag===13){var i=br(s),c=zn(s,i);if(c!==null){var f=Ct();hn(c,s,i,f)}Id(s,i)}},up=function(){return Le},dp=function(s,i){var c=Le;try{return Le=s,i()}finally{Le=c}},Zc=function(s,i,c){switch(i){case"input":if($n(s,c),i=c.name,c.type==="radio"&&i!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<c.length;i++){var f=c[i];if(f!==s&&f.form===s.form){var g=Wa(f);if(!g)throw Error(n(90));Pe(f),$n(f,g)}}}break;case"textarea":Um(s,c);break;case"select":i=c.value,i!=null&&Cs(s,!!c.multiple,i,!1)}},Ym=Ed,Xm=es;var gC={usingClientEntryPoint:!1,Events:[mo,Ds,Wa,Km,Gm,Ed]},No={findFiberByHostInstance:qr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yC={bundleType:No.bundleType,version:No.version,rendererPackageName:No.rendererPackageName,rendererConfig:No.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=ep(s),s===null?null:s.stateNode},findFiberByHostInstance:No.findFiberByHostInstance||mC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nl.isDisabled&&Nl.supportsFiber)try{Ca=Nl.inject(yC),bn=Nl}catch{}}return It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gC,It.createPortal=function(s,i){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ld(i))throw Error(n(200));return fC(s,i,null,c)},It.createRoot=function(s,i){if(!Ld(s))throw Error(n(299));var c=!1,f="",g=Ey;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),i=Od(s,1,!1,null,null,c,!1,f,g),s[Fn]=i.current,uo(s.nodeType===8?s.parentNode:s),new Dd(i)},It.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=ep(i),s=s===null?null:s.stateNode,s},It.flushSync=function(s){return es(s)},It.hydrate=function(s,i,c){if(!kl(i))throw Error(n(200));return El(null,s,i,!0,c)},It.hydrateRoot=function(s,i,c){if(!Ld(s))throw Error(n(405));var f=c!=null&&c.hydratedSources||null,g=!1,x="",C=Ey;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(C=c.onRecoverableError)),i=Cy(i,null,s,1,c??null,g,!1,x,C),s[Fn]=i.current,uo(s),f)for(s=0;s<f.length;s++)c=f[s],g=c._getVersion,g=g(c._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[c,g]:i.mutableSourceEagerHydrationData.push(c,g);return new Cl(i)},It.render=function(s,i,c){if(!kl(i))throw Error(n(200));return El(null,s,i,!1,c)},It.unmountComponentAtNode=function(s){if(!kl(s))throw Error(n(40));return s._reactRootContainer?(es(function(){El(null,null,s,!1,function(){s._reactRootContainer=null,s[Fn]=null})}),!0):!1},It.unstable_batchedUpdates=Ed,It.unstable_renderSubtreeIntoContainer=function(s,i,c,f){if(!kl(c))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return El(s,i,c,!1,f)},It.version="18.3.1-next-f1338f8080-20240426",It}var Ly;function xx(){if(Ly)return Fd.exports;Ly=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Fd.exports=kC(),Fd.exports}var My;function EC(){if(My)return Tl;My=1;var e=xx();return Tl.createRoot=e.createRoot,Tl.hydrateRoot=e.hydrateRoot,Tl}var NC=EC();const TC=Cc(NC);/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var $y="popstate";function PC(e={}){function t(r,o){let{pathname:a,search:l,hash:d}=r.location;return Nh("",{pathname:a,search:l,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Ko(o)}return AC(t,n,null,e)}function Ye(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function An(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function RC(){return Math.random().toString(36).substring(2,10)}function Fy(e,t){return{usr:e.state,key:e.key,idx:t}}function Nh(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Pi(t):t,state:n,key:t&&t.key||r||RC()}}function Ko({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Pi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function AC(e,t,n,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,l=o.history,d="POP",h=null,m=p();m==null&&(m=0,l.replaceState({...l.state,idx:m},""));function p(){return(l.state||{idx:null}).idx}function y(){d="POP";let _=p(),j=_==null?null:_-m;m=_,h&&h({action:d,location:S.location,delta:j})}function v(_,j){d="PUSH";let N=Nh(S.location,_,j);m=p()+1;let E=Fy(N,m),P=S.createHref(N);try{l.pushState(E,"",P)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;o.location.assign(P)}a&&h&&h({action:d,location:S.location,delta:1})}function b(_,j){d="REPLACE";let N=Nh(S.location,_,j);m=p();let E=Fy(N,m),P=S.createHref(N);l.replaceState(E,"",P),a&&h&&h({action:d,location:S.location,delta:0})}function k(_){return OC(_)}let S={get action(){return d},get location(){return e(o,l)},listen(_){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener($y,y),h=_,()=>{o.removeEventListener($y,y),h=null}},createHref(_){return t(o,_)},createURL:k,encodeLocation(_){let j=k(_);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:v,replace:b,go(_){return l.go(_)}};return S}function OC(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ye(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Ko(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function wx(e,t,n="/"){return IC(e,t,n,!1)}function IC(e,t,n,r){let o=typeof t=="string"?Pi(t):t,a=Jn(o.pathname||"/",n);if(a==null)return null;let l=bx(e);DC(l);let d=null;for(let h=0;d==null&&h<l.length;++h){let m=qC(a);d=WC(l[h],m,r)}return d}function bx(e,t=[],n=[],r="",o=!1){let a=(l,d,h=o,m)=>{let p={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&h)return;Ye(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let y=Xn([r,p.relativePath]),v=n.concat(p);l.children&&l.children.length>0&&(Ye(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),bx(l.children,t,v,y,h)),!(l.path==null&&!l.index)&&t.push({path:y,score:BC(y,l.index),routesMeta:v})};return e.forEach((l,d)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))a(l,d);else for(let m of Sx(l.path))a(l,d,!0,m)}),t}function Sx(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let l=Sx(r.join("/")),d=[];return d.push(...l.map(h=>h===""?a:[a,h].join("/"))),o&&d.push(...l),d.map(h=>e.startsWith("/")&&h===""?"/":h)}function DC(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:zC(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var LC=/^:[\w-]+$/,MC=3,$C=2,FC=1,UC=10,VC=-2,Uy=e=>e==="*";function BC(e,t){let n=e.split("/"),r=n.length;return n.some(Uy)&&(r+=VC),t&&(r+=$C),n.filter(o=>!Uy(o)).reduce((o,a)=>o+(LC.test(a)?MC:a===""?FC:UC),r)}function zC(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function WC(e,t,n=!1){let{routesMeta:r}=e,o={},a="/",l=[];for(let d=0;d<r.length;++d){let h=r[d],m=d===r.length-1,p=a==="/"?t:t.slice(a.length)||"/",y=ac({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},p),v=h.route;if(!y&&m&&n&&!r[r.length-1].route.index&&(y=ac({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!y)return null;Object.assign(o,y.params),l.push({params:o,pathname:Xn([a,y.pathname]),pathnameBase:XC(Xn([a,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(a=Xn([a,y.pathnameBase]))}return l}function ac(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=HC(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let a=o[0],l=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:r.reduce((m,{paramName:p,isOptional:y},v)=>{if(p==="*"){let k=d[v]||"";l=a.slice(0,a.length-k.length).replace(/(.)\/+$/,"$1")}const b=d[v];return y&&!b?m[p]=void 0:m[p]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:l,pattern:e}}function HC(e,t=!1,n=!0){An(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function qC(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return An(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Jn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function KC(e,t="/"){let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?Pi(e):e;return{pathname:n?n.startsWith("/")?n:GC(n,t):t,search:JC(r),hash:QC(o)}}function GC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Bd(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function YC(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function _x(e){let t=YC(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function jx(e,t,n,r=!1){let o;typeof e=="string"?o=Pi(e):(o={...e},Ye(!o.pathname||!o.pathname.includes("?"),Bd("?","pathname","search",o)),Ye(!o.pathname||!o.pathname.includes("#"),Bd("#","pathname","hash",o)),Ye(!o.search||!o.search.includes("#"),Bd("#","search","hash",o)));let a=e===""||o.pathname==="",l=a?"/":o.pathname,d;if(l==null)d=n;else{let y=t.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),y-=1;o.pathname=v.join("/")}d=y>=0?t[y]:"/"}let h=KC(o,d),m=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(m||p)&&(h.pathname+="/"),h}var Xn=e=>e.join("/").replace(/\/\/+/g,"/"),XC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),JC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,QC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ZC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Cx=["POST","PUT","PATCH","DELETE"];new Set(Cx);var ek=["GET",...Cx];new Set(ek);var Ri=w.createContext(null);Ri.displayName="DataRouter";var kc=w.createContext(null);kc.displayName="DataRouterState";w.createContext(!1);var kx=w.createContext({isTransitioning:!1});kx.displayName="ViewTransition";var tk=w.createContext(new Map);tk.displayName="Fetchers";var nk=w.createContext(null);nk.displayName="Await";var Dn=w.createContext(null);Dn.displayName="Navigation";var aa=w.createContext(null);aa.displayName="Location";var nr=w.createContext({outlet:null,matches:[],isDataRoute:!1});nr.displayName="Route";var Tf=w.createContext(null);Tf.displayName="RouteError";function rk(e,{relative:t}={}){Ye(la(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=w.useContext(Dn),{hash:o,pathname:a,search:l}=ca(e,{relative:t}),d=a;return n!=="/"&&(d=a==="/"?n:Xn([n,a])),r.createHref({pathname:d,search:l,hash:o})}function la(){return w.useContext(aa)!=null}function nn(){return Ye(la(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(aa).location}var Ex="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Nx(e){w.useContext(Dn).static||w.useLayoutEffect(e)}function Ss(){let{isDataRoute:e}=w.useContext(nr);return e?gk():sk()}function sk(){Ye(la(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext(Ri),{basename:t,navigator:n}=w.useContext(Dn),{matches:r}=w.useContext(nr),{pathname:o}=nn(),a=JSON.stringify(_x(r)),l=w.useRef(!1);return Nx(()=>{l.current=!0}),w.useCallback((h,m={})=>{if(An(l.current,Ex),!l.current)return;if(typeof h=="number"){n.go(h);return}let p=jx(h,JSON.parse(a),o,m.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Xn([t,p.pathname])),(m.replace?n.replace:n.push)(p,m.state,m)},[t,n,a,o,e])}w.createContext(null);function ca(e,{relative:t}={}){let{matches:n}=w.useContext(nr),{pathname:r}=nn(),o=JSON.stringify(_x(n));return w.useMemo(()=>jx(e,JSON.parse(o),r,t==="path"),[e,o,r,t])}function ik(e,t){return Tx(e,t)}function Tx(e,t,n,r,o){var N;Ye(la(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=w.useContext(Dn),{matches:l}=w.useContext(nr),d=l[l.length-1],h=d?d.params:{},m=d?d.pathname:"/",p=d?d.pathnameBase:"/",y=d&&d.route;{let E=y&&y.path||"";Px(m,!y||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let v=nn(),b;if(t){let E=typeof t=="string"?Pi(t):t;Ye(p==="/"||((N=E.pathname)==null?void 0:N.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${E.pathname}" was given in the \`location\` prop.`),b=E}else b=v;let k=b.pathname||"/",S=k;if(p!=="/"){let E=p.replace(/^\//,"").split("/");S="/"+k.replace(/^\//,"").split("/").slice(E.length).join("/")}let _=wx(e,{pathname:S});An(y||_!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),An(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=uk(_&&_.map(E=>Object.assign({},E,{params:Object.assign({},h,E.params),pathname:Xn([p,a.encodeLocation?a.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?p:Xn([p,a.encodeLocation?a.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),l,n,r,o);return t&&j?w.createElement(aa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},j):j}function ok(){let e=pk(),t=ZC(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=w.createElement(w.Fragment,null,w.createElement("p",null,"💿 Hey developer 👋"),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:a},"ErrorBoundary")," or"," ",w.createElement("code",{style:a},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:o},n):null,l)}var ak=w.createElement(ok,null),lk=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?w.createElement(nr.Provider,{value:this.props.routeContext},w.createElement(Tf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ck({routeContext:e,match:t,children:n}){let r=w.useContext(Ri);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(nr.Provider,{value:e},n)}function uk(e,t=[],n=null,r=null,o=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=n==null?void 0:n.errors;if(l!=null){let m=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);Ye(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let d=!1,h=-1;if(n)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=m),p.route.id){let{loaderData:y,errors:v}=n,b=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||b){d=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((m,p,y)=>{let v,b=!1,k=null,S=null;n&&(v=l&&p.route.id?l[p.route.id]:void 0,k=p.route.errorElement||ak,d&&(h<0&&y===0?(Px("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,S=null):h===y&&(b=!0,S=p.route.hydrateFallbackElement||null)));let _=t.concat(a.slice(0,y+1)),j=()=>{let N;return v?N=k:b?N=S:p.route.Component?N=w.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=m,w.createElement(ck,{match:p,routeContext:{outlet:m,matches:_,isDataRoute:n!=null},children:N})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?w.createElement(lk,{location:n.location,revalidation:n.revalidation,component:k,error:v,children:j(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:r}):j()},null)}function Pf(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dk(e){let t=w.useContext(Ri);return Ye(t,Pf(e)),t}function hk(e){let t=w.useContext(kc);return Ye(t,Pf(e)),t}function fk(e){let t=w.useContext(nr);return Ye(t,Pf(e)),t}function Rf(e){let t=fk(e),n=t.matches[t.matches.length-1];return Ye(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function mk(){return Rf("useRouteId")}function pk(){var r;let e=w.useContext(Tf),t=hk("useRouteError"),n=Rf("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function gk(){let{router:e}=dk("useNavigate"),t=Rf("useNavigate"),n=w.useRef(!1);return Nx(()=>{n.current=!0}),w.useCallback(async(o,a={})=>{An(n.current,Ex),n.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...a}))},[e,t])}var Vy={};function Px(e,t,n){!t&&!Vy[e]&&(Vy[e]=!0,An(!1,n))}w.memo(yk);function yk({routes:e,future:t,state:n,unstable_onError:r}){return Tx(e,void 0,n,r,t)}function kt(e){Ye(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vk({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:o,static:a=!1}){Ye(!la(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),d=w.useMemo(()=>({basename:l,navigator:o,static:a,future:{}}),[l,o,a]);typeof n=="string"&&(n=Pi(n));let{pathname:h="/",search:m="",hash:p="",state:y=null,key:v="default"}=n,b=w.useMemo(()=>{let k=Jn(h,l);return k==null?null:{location:{pathname:k,search:m,hash:p,state:y,key:v},navigationType:r}},[l,h,m,p,y,v,r]);return An(b!=null,`<Router basename="${l}"> is not able to match the URL "${h}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:w.createElement(Dn.Provider,{value:d},w.createElement(aa.Provider,{children:t,value:b}))}function xk({children:e,location:t}){return ik(Th(e),t)}function Th(e,t=[]){let n=[];return w.Children.forEach(e,(r,o)=>{if(!w.isValidElement(r))return;let a=[...t,o];if(r.type===w.Fragment){n.push.apply(n,Th(r.props.children,a));return}Ye(r.type===kt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ye(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Th(r.props.children,a)),n.push(l)}),n}var Gl="get",Yl="application/x-www-form-urlencoded";function Ec(e){return e!=null&&typeof e.tagName=="string"}function wk(e){return Ec(e)&&e.tagName.toLowerCase()==="button"}function bk(e){return Ec(e)&&e.tagName.toLowerCase()==="form"}function Sk(e){return Ec(e)&&e.tagName.toLowerCase()==="input"}function _k(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function jk(e,t){return e.button===0&&(!t||t==="_self")&&!_k(e)}var Pl=null;function Ck(){if(Pl===null)try{new FormData(document.createElement("form"),0),Pl=!1}catch{Pl=!0}return Pl}var kk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zd(e){return e!=null&&!kk.has(e)?(An(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yl}"`),null):e}function Ek(e,t){let n,r,o,a,l;if(bk(e)){let d=e.getAttribute("action");r=d?Jn(d,t):null,n=e.getAttribute("method")||Gl,o=zd(e.getAttribute("enctype"))||Yl,a=new FormData(e)}else if(wk(e)||Sk(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||d.getAttribute("action");if(r=h?Jn(h,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||Gl,o=zd(e.getAttribute("formenctype"))||zd(d.getAttribute("enctype"))||Yl,a=new FormData(d,e),!Ck()){let{name:m,type:p,value:y}=e;if(p==="image"){let v=m?`${m}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else m&&a.append(m,y)}}else{if(Ec(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Gl,r=null,o=Yl,l=e}return a&&o==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Af(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Nk(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Jn(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Tk(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Pk(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Rk(e,t,n){let r=await Promise.all(e.map(async o=>{let a=t.routes[o.route.id];if(a){let l=await Tk(a,n);return l.links?l.links():[]}return[]}));return Dk(r.flat(1).filter(Pk).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function By(e,t,n,r,o,a){let l=(h,m)=>n[m]?h.route.id!==n[m].route.id:!0,d=(h,m)=>{var p;return n[m].pathname!==h.pathname||((p=n[m].route.path)==null?void 0:p.endsWith("*"))&&n[m].params["*"]!==h.params["*"]};return a==="assets"?t.filter((h,m)=>l(h,m)||d(h,m)):a==="data"?t.filter((h,m)=>{var y;let p=r.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(l(h,m)||d(h,m))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function Ak(e,t,{includeHydrateFallback:n}={}){return Ok(e.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function Ok(e){return[...new Set(e)]}function Ik(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function Dk(e,t){let n=new Set;return new Set(t),e.reduce((r,o)=>{let a=JSON.stringify(Ik(o));return n.has(a)||(n.add(a),r.push({key:a,link:o})),r},[])}function Rx(){let e=w.useContext(Ri);return Af(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Lk(){let e=w.useContext(kc);return Af(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Of=w.createContext(void 0);Of.displayName="FrameworkContext";function Ax(){let e=w.useContext(Of);return Af(e,"You must render this element inside a <HydratedRouter> element"),e}function Mk(e,t){let n=w.useContext(Of),[r,o]=w.useState(!1),[a,l]=w.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:m,onMouseLeave:p,onTouchStart:y}=t,v=w.useRef(null);w.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let S=j=>{j.forEach(N=>{l(N.isIntersecting)})},_=new IntersectionObserver(S,{threshold:.5});return v.current&&_.observe(v.current),()=>{_.disconnect()}}},[e]),w.useEffect(()=>{if(r){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[r]);let b=()=>{o(!0)},k=()=>{o(!1),l(!1)};return n?e!=="intent"?[a,v,{}]:[a,v,{onFocus:Po(d,b),onBlur:Po(h,k),onMouseEnter:Po(m,b),onMouseLeave:Po(p,k),onTouchStart:Po(y,b)}]:[!1,v,{}]}function Po(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function $k({page:e,...t}){let{router:n}=Rx(),r=w.useMemo(()=>wx(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?w.createElement(Uk,{page:e,matches:r,...t}):null}function Fk(e){let{manifest:t,routeModules:n}=Ax(),[r,o]=w.useState([]);return w.useEffect(()=>{let a=!1;return Rk(e,t,n).then(l=>{a||o(l)}),()=>{a=!0}},[e,t,n]),r}function Uk({page:e,matches:t,...n}){let r=nn(),{manifest:o,routeModules:a}=Ax(),{basename:l}=Rx(),{loaderData:d,matches:h}=Lk(),m=w.useMemo(()=>By(e,t,h,o,r,"data"),[e,t,h,o,r]),p=w.useMemo(()=>By(e,t,h,o,r,"assets"),[e,t,h,o,r]),y=w.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let k=new Set,S=!1;if(t.forEach(j=>{var E;let N=o.routes[j.route.id];!N||!N.hasLoader||(!m.some(P=>P.route.id===j.route.id)&&j.route.id in d&&((E=a[j.route.id])!=null&&E.shouldRevalidate)||N.hasClientLoader?S=!0:k.add(j.route.id))}),k.size===0)return[];let _=Nk(e,l,"data");return S&&k.size>0&&_.searchParams.set("_routes",t.filter(j=>k.has(j.route.id)).map(j=>j.route.id).join(",")),[_.pathname+_.search]},[l,d,r,o,m,t,e,a]),v=w.useMemo(()=>Ak(p,o),[p,o]),b=Fk(p);return w.createElement(w.Fragment,null,y.map(k=>w.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),v.map(k=>w.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),b.map(({key:k,link:S})=>w.createElement("link",{key:k,nonce:n.nonce,...S})))}function Vk(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Ox=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ox&&(window.__reactRouterVersion="7.9.3")}catch{}function Bk({basename:e,children:t,window:n}){let r=w.useRef();r.current==null&&(r.current=PC({window:n,v5Compat:!0}));let o=r.current,[a,l]=w.useState({action:o.action,location:o.location}),d=w.useCallback(h=>{w.startTransition(()=>l(h))},[l]);return w.useLayoutEffect(()=>o.listen(d),[o,d]),w.createElement(vk,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o})}var Ix=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,en=w.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:o,reloadDocument:a,replace:l,state:d,target:h,to:m,preventScrollReset:p,viewTransition:y,...v},b){let{basename:k}=w.useContext(Dn),S=typeof m=="string"&&Ix.test(m),_,j=!1;if(typeof m=="string"&&S&&(_=m,Ox))try{let B=new URL(window.location.href),H=m.startsWith("//")?new URL(B.protocol+m):new URL(m),ee=Jn(H.pathname,k);H.origin===B.origin&&ee!=null?m=ee+H.search+H.hash:j=!0}catch{An(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=rk(m,{relative:o}),[E,P,R]=Mk(r,v),M=qk(m,{replace:l,state:d,target:h,preventScrollReset:p,relative:o,viewTransition:y});function I(B){t&&t(B),B.defaultPrevented||M(B)}let $=w.createElement("a",{...v,...R,href:_||N,onClick:j||a?t:I,ref:Vk(b,P),target:h,"data-discover":!S&&n==="render"?"true":void 0});return E&&!S?w.createElement(w.Fragment,null,$,w.createElement($k,{page:N})):$});en.displayName="Link";var zk=w.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:o=!1,style:a,to:l,viewTransition:d,children:h,...m},p){let y=ca(l,{relative:m.relative}),v=nn(),b=w.useContext(kc),{navigator:k,basename:S}=w.useContext(Dn),_=b!=null&&Jk(y)&&d===!0,j=k.encodeLocation?k.encodeLocation(y).pathname:y.pathname,N=v.pathname,E=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(N=N.toLowerCase(),E=E?E.toLowerCase():null,j=j.toLowerCase()),E&&S&&(E=Jn(E,S)||E);const P=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let R=N===j||!o&&N.startsWith(j)&&N.charAt(P)==="/",M=E!=null&&(E===j||!o&&E.startsWith(j)&&E.charAt(j.length)==="/"),I={isActive:R,isPending:M,isTransitioning:_},$=R?t:void 0,B;typeof r=="function"?B=r(I):B=[r,R?"active":null,M?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let H=typeof a=="function"?a(I):a;return w.createElement(en,{...m,"aria-current":$,className:B,ref:p,style:H,to:l,viewTransition:d},typeof h=="function"?h(I):h)});zk.displayName="NavLink";var Wk=w.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:o,state:a,method:l=Gl,action:d,onSubmit:h,relative:m,preventScrollReset:p,viewTransition:y,...v},b)=>{let k=Yk(),S=Xk(d,{relative:m}),_=l.toLowerCase()==="get"?"get":"post",j=typeof d=="string"&&Ix.test(d),N=E=>{if(h&&h(E),E.defaultPrevented)return;E.preventDefault();let P=E.nativeEvent.submitter,R=(P==null?void 0:P.getAttribute("formmethod"))||l;k(P||E.currentTarget,{fetcherKey:t,method:R,navigate:n,replace:o,state:a,relative:m,preventScrollReset:p,viewTransition:y})};return w.createElement("form",{ref:b,method:_,action:S,onSubmit:r?h:N,...v,"data-discover":!j&&e==="render"?"true":void 0})});Wk.displayName="Form";function Hk(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Dx(e){let t=w.useContext(Ri);return Ye(t,Hk(e)),t}function qk(e,{target:t,replace:n,state:r,preventScrollReset:o,relative:a,viewTransition:l}={}){let d=Ss(),h=nn(),m=ca(e,{relative:a});return w.useCallback(p=>{if(jk(p,t)){p.preventDefault();let y=n!==void 0?n:Ko(h)===Ko(m);d(e,{replace:y,state:r,preventScrollReset:o,relative:a,viewTransition:l})}},[h,d,m,n,r,t,e,o,a,l])}var Kk=0,Gk=()=>`__${String(++Kk)}__`;function Yk(){let{router:e}=Dx("useSubmit"),{basename:t}=w.useContext(Dn),n=mk();return w.useCallback(async(r,o={})=>{let{action:a,method:l,encType:d,formData:h,body:m}=Ek(r,t);if(o.navigate===!1){let p=o.fetcherKey||Gk();await e.fetch(p,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||l,formEncType:o.encType||d,flushSync:o.flushSync})}else await e.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||l,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,n])}function Xk(e,{relative:t}={}){let{basename:n}=w.useContext(Dn),r=w.useContext(nr);Ye(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...ca(e||".",{relative:t})},l=nn();if(e==null){a.search=l.search;let d=new URLSearchParams(a.search),h=d.getAll("index");if(h.some(p=>p==="")){d.delete("index"),h.filter(y=>y).forEach(y=>d.append("index",y));let p=d.toString();a.search=p?`?${p}`:""}}return(!e||e===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Xn([n,a.pathname])),Ko(a)}function Jk(e,{relative:t}={}){let n=w.useContext(kx);Ye(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Dx("useViewTransitionState"),o=ca(e,{relative:t});if(!n.isTransitioning)return!1;let a=Jn(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Jn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ac(o.pathname,l)!=null||ac(o.pathname,a)!=null}var ua=xx();const Qk=Cc(ua);function Ue(e){return"/"+e.toLowerCase().replace(/ /g,"-")}const If=w.createContext({});function Ai(e){const t=w.useRef(null);return t.current===null&&(t.current=e()),t.current}const Df=typeof window<"u",Nc=Df?w.useLayoutEffect:w.useEffect,Tc=w.createContext(null);function Lf(e,t){e.indexOf(t)===-1&&e.push(t)}function Mf(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const On=(e,t,n)=>n>t?t:n<e?e:n;let Go=()=>{};const Qn={},Lx=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Mx(e){return typeof e=="object"&&e!==null}const $x=e=>/^0[^.\s]+$/u.test(e);function $f(e){let t;return()=>(t===void 0&&(t=e()),t)}const $t=e=>e,Zk=(e,t)=>n=>t(e(n)),da=(...e)=>e.reduce(Zk),ji=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Ff{constructor(){this.subscriptions=[]}add(t){return Lf(this.subscriptions,t),()=>Mf(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let a=0;a<o;a++){const l=this.subscriptions[a];l&&l(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Tn=e=>e*1e3,tn=e=>e/1e3;function Uf(e,t){return t?e*(1e3/t):0}const Fx=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,eE=1e-7,tE=12;function nE(e,t,n,r,o){let a,l,d=0;do l=t+(n-t)/2,a=Fx(l,r,o)-e,a>0?n=l:t=l;while(Math.abs(a)>eE&&++d<tE);return l}function ha(e,t,n,r){if(e===t&&n===r)return $t;const o=a=>nE(a,0,1,e,n);return a=>a===0||a===1?a:Fx(o(a),t,r)}const Ux=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Vx=e=>t=>1-e(1-t),Bx=ha(.33,1.53,.69,.99),Vf=Vx(Bx),zx=Ux(Vf),Wx=e=>(e*=2)<1?.5*Vf(e):.5*(2-Math.pow(2,-10*(e-1))),Bf=e=>1-Math.sin(Math.acos(e)),Hx=Vx(Bf),qx=Ux(Bf),rE=ha(.42,0,1,1),sE=ha(0,0,.58,1),Kx=ha(.42,0,.58,1),iE=e=>Array.isArray(e)&&typeof e[0]!="number",Gx=e=>Array.isArray(e)&&typeof e[0]=="number",oE={linear:$t,easeIn:rE,easeInOut:Kx,easeOut:sE,circIn:Bf,circInOut:qx,circOut:Hx,backIn:Vf,backInOut:zx,backOut:Bx,anticipate:Wx},aE=e=>typeof e=="string",zy=e=>{if(Gx(e)){Go(e.length===4);const[t,n,r,o]=e;return ha(t,n,r,o)}else if(aE(e))return oE[e];return e},Rl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function lE(e,t){let n=new Set,r=new Set,o=!1,a=!1;const l=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function h(p){l.has(p)&&(m.schedule(p),e()),p(d)}const m={schedule:(p,y=!1,v=!1)=>{const k=v&&o?n:r;return y&&l.add(p),k.has(p)||k.add(p),p},cancel:p=>{r.delete(p),l.delete(p)},process:p=>{if(d=p,o){a=!0;return}o=!0,[n,r]=[r,n],n.forEach(h),n.clear(),o=!1,a&&(a=!1,m.process(p))}};return m}const cE=40;function Yx(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=Rl.reduce((E,P)=>(E[P]=lE(a),E),{}),{setup:d,read:h,resolveKeyframes:m,preUpdate:p,update:y,preRender:v,render:b,postRender:k}=l,S=()=>{const E=Qn.useManualTiming?o.timestamp:performance.now();n=!1,Qn.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(E-o.timestamp,cE),1)),o.timestamp=E,o.isProcessing=!0,d.process(o),h.process(o),m.process(o),p.process(o),y.process(o),v.process(o),b.process(o),k.process(o),o.isProcessing=!1,n&&t&&(r=!1,e(S))},_=()=>{n=!0,r=!0,o.isProcessing||e(S)};return{schedule:Rl.reduce((E,P)=>{const R=l[P];return E[P]=(M,I=!1,$=!1)=>(n||_(),R.schedule(M,I,$)),E},{}),cancel:E=>{for(let P=0;P<Rl.length;P++)l[Rl[P]].cancel(E)},state:o,steps:l}}const{schedule:$e,cancel:vn,state:pt,steps:Wd}=Yx(typeof requestAnimationFrame<"u"?requestAnimationFrame:$t,!0);let Xl;function uE(){Xl=void 0}const Mt={now:()=>(Xl===void 0&&Mt.set(pt.isProcessing||Qn.useManualTiming?pt.timestamp:performance.now()),Xl),set:e=>{Xl=e,queueMicrotask(uE)}},Xx=e=>t=>typeof t=="string"&&t.startsWith(e),zf=Xx("--"),dE=Xx("var(--"),Wf=e=>dE(e)?hE.test(e.split("/*")[0].trim()):!1,hE=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Oi={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Yo={...Oi,transform:e=>On(0,1,e)},Al={...Oi,default:1},Mo=e=>Math.round(e*1e5)/1e5,Hf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function fE(e){return e==null}const mE=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,qf=(e,t)=>n=>!!(typeof n=="string"&&mE.test(n)&&n.startsWith(e)||t&&!fE(n)&&Object.prototype.hasOwnProperty.call(n,t)),Jx=(e,t,n)=>r=>{if(typeof r!="string")return r;const[o,a,l,d]=r.match(Hf);return{[e]:parseFloat(o),[t]:parseFloat(a),[n]:parseFloat(l),alpha:d!==void 0?parseFloat(d):1}},pE=e=>On(0,255,e),Hd={...Oi,transform:e=>Math.round(pE(e))},hs={test:qf("rgb","red"),parse:Jx("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Hd.transform(e)+", "+Hd.transform(t)+", "+Hd.transform(n)+", "+Mo(Yo.transform(r))+")"};function gE(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Ph={test:qf("#"),parse:gE,transform:hs.transform},fa=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Tr=fa("deg"),Pn=fa("%"),xe=fa("px"),yE=fa("vh"),vE=fa("vw"),Wy={...Pn,parse:e=>Pn.parse(e)/100,transform:e=>Pn.transform(e*100)},fi={test:qf("hsl","hue"),parse:Jx("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Pn.transform(Mo(t))+", "+Pn.transform(Mo(n))+", "+Mo(Yo.transform(r))+")"},it={test:e=>hs.test(e)||Ph.test(e)||fi.test(e),parse:e=>hs.test(e)?hs.parse(e):fi.test(e)?fi.parse(e):Ph.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?hs.transform(e):fi.transform(e),getAnimatableNone:e=>{const t=it.parse(e);return t.alpha=0,it.transform(t)}},xE=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function wE(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Hf))==null?void 0:t.length)||0)+(((n=e.match(xE))==null?void 0:n.length)||0)>0}const Qx="number",Zx="color",bE="var",SE="var(",Hy="${}",_E=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Xo(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},o=[];let a=0;const d=t.replace(_E,h=>(it.test(h)?(r.color.push(a),o.push(Zx),n.push(it.parse(h))):h.startsWith(SE)?(r.var.push(a),o.push(bE),n.push(h)):(r.number.push(a),o.push(Qx),n.push(parseFloat(h))),++a,Hy)).split(Hy);return{values:n,split:d,indexes:r,types:o}}function ew(e){return Xo(e).values}function tw(e){const{split:t,types:n}=Xo(e),r=t.length;return o=>{let a="";for(let l=0;l<r;l++)if(a+=t[l],o[l]!==void 0){const d=n[l];d===Qx?a+=Mo(o[l]):d===Zx?a+=it.transform(o[l]):a+=o[l]}return a}}const jE=e=>typeof e=="number"?0:it.test(e)?it.getAnimatableNone(e):e;function CE(e){const t=ew(e);return tw(e)(t.map(jE))}const $r={test:wE,parse:ew,createTransformer:tw,getAnimatableNone:CE};function qd(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function kE({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,a=0,l=0;if(!t)o=a=l=n;else{const d=n<.5?n*(1+t):n+t-n*t,h=2*n-d;o=qd(h,d,e+1/3),a=qd(h,d,e),l=qd(h,d,e-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function lc(e,t){return n=>n>0?t:e}const Ge=(e,t,n)=>e+(t-e)*n,Kd=(e,t,n)=>{const r=e*e,o=n*(t*t-r)+r;return o<0?0:Math.sqrt(o)},EE=[Ph,hs,fi],NE=e=>EE.find(t=>t.test(e));function qy(e){const t=NE(e);if(!t)return!1;let n=t.parse(e);return t===fi&&(n=kE(n)),n}const Ky=(e,t)=>{const n=qy(e),r=qy(t);if(!n||!r)return lc(e,t);const o={...n};return a=>(o.red=Kd(n.red,r.red,a),o.green=Kd(n.green,r.green,a),o.blue=Kd(n.blue,r.blue,a),o.alpha=Ge(n.alpha,r.alpha,a),hs.transform(o))},Rh=new Set(["none","hidden"]);function TE(e,t){return Rh.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function PE(e,t){return n=>Ge(e,t,n)}function Kf(e){return typeof e=="number"?PE:typeof e=="string"?Wf(e)?lc:it.test(e)?Ky:OE:Array.isArray(e)?nw:typeof e=="object"?it.test(e)?Ky:RE:lc}function nw(e,t){const n=[...e],r=n.length,o=e.map((a,l)=>Kf(a)(a,t[l]));return a=>{for(let l=0;l<r;l++)n[l]=o[l](a);return n}}function RE(e,t){const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=Kf(e[o])(e[o],t[o]));return o=>{for(const a in r)n[a]=r[a](o);return n}}function AE(e,t){const n=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const a=t.types[o],l=e.indexes[a][r[a]],d=e.values[l]??0;n[o]=d,r[a]++}return n}const OE=(e,t)=>{const n=$r.createTransformer(t),r=Xo(e),o=Xo(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Rh.has(e)&&!o.values.length||Rh.has(t)&&!r.values.length?TE(e,t):da(nw(AE(r,o),o.values),n):lc(e,t)};function rw(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Ge(e,t,n):Kf(e)(e,t)}const IE=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>$e.update(t,n),stop:()=>vn(t),now:()=>pt.isProcessing?pt.timestamp:Mt.now()}},sw=(e,t,n=10)=>{let r="";const o=Math.max(Math.round(t/n),2);for(let a=0;a<o;a++)r+=Math.round(e(a/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},cc=2e4;function Gf(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<cc;)t+=n,r=e.next(t);return t>=cc?1/0:t}function DE(e,t=100,n){const r=n({...e,keyframes:[0,t]}),o=Math.min(Gf(r),cc);return{type:"keyframes",ease:a=>r.next(o*a).value/t,duration:tn(o)}}const LE=5;function iw(e,t,n){const r=Math.max(t-LE,0);return Uf(n-e(r),t-r)}const Je={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Gd=.001;function ME({duration:e=Je.duration,bounce:t=Je.bounce,velocity:n=Je.velocity,mass:r=Je.mass}){let o,a,l=1-t;l=On(Je.minDamping,Je.maxDamping,l),e=On(Je.minDuration,Je.maxDuration,tn(e)),l<1?(o=m=>{const p=m*l,y=p*e,v=p-n,b=Ah(m,l),k=Math.exp(-y);return Gd-v/b*k},a=m=>{const y=m*l*e,v=y*n+n,b=Math.pow(l,2)*Math.pow(m,2)*e,k=Math.exp(-y),S=Ah(Math.pow(m,2),l);return(-o(m)+Gd>0?-1:1)*((v-b)*k)/S}):(o=m=>{const p=Math.exp(-m*e),y=(m-n)*e+1;return-Gd+p*y},a=m=>{const p=Math.exp(-m*e),y=(n-m)*(e*e);return p*y});const d=5/e,h=FE(o,a,d);if(e=Tn(e),isNaN(h))return{stiffness:Je.stiffness,damping:Je.damping,duration:e};{const m=Math.pow(h,2)*r;return{stiffness:m,damping:l*2*Math.sqrt(r*m),duration:e}}}const $E=12;function FE(e,t,n){let r=n;for(let o=1;o<$E;o++)r=r-e(r)/t(r);return r}function Ah(e,t){return e*Math.sqrt(1-t*t)}const UE=["duration","bounce"],VE=["stiffness","damping","mass"];function Gy(e,t){return t.some(n=>e[n]!==void 0)}function BE(e){let t={velocity:Je.velocity,stiffness:Je.stiffness,damping:Je.damping,mass:Je.mass,isResolvedFromDuration:!1,...e};if(!Gy(e,VE)&&Gy(e,UE))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,a=2*On(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:Je.mass,stiffness:o,damping:a}}else{const n=ME(e);t={...t,...n,mass:Je.mass},t.isResolvedFromDuration=!0}return t}function uc(e=Je.visualDuration,t=Je.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:o}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],d={done:!1,value:a},{stiffness:h,damping:m,mass:p,duration:y,velocity:v,isResolvedFromDuration:b}=BE({...n,velocity:-tn(n.velocity||0)}),k=v||0,S=m/(2*Math.sqrt(h*p)),_=l-a,j=tn(Math.sqrt(h/p)),N=Math.abs(_)<5;r||(r=N?Je.restSpeed.granular:Je.restSpeed.default),o||(o=N?Je.restDelta.granular:Je.restDelta.default);let E;if(S<1){const R=Ah(j,S);E=M=>{const I=Math.exp(-S*j*M);return l-I*((k+S*j*_)/R*Math.sin(R*M)+_*Math.cos(R*M))}}else if(S===1)E=R=>l-Math.exp(-j*R)*(_+(k+j*_)*R);else{const R=j*Math.sqrt(S*S-1);E=M=>{const I=Math.exp(-S*j*M),$=Math.min(R*M,300);return l-I*((k+S*j*_)*Math.sinh($)+R*_*Math.cosh($))/R}}const P={calculatedDuration:b&&y||null,next:R=>{const M=E(R);if(b)d.done=R>=y;else{let I=R===0?k:0;S<1&&(I=R===0?Tn(k):iw(E,R,M));const $=Math.abs(I)<=r,B=Math.abs(l-M)<=o;d.done=$&&B}return d.value=d.done?l:M,d},toString:()=>{const R=Math.min(Gf(P),cc),M=sw(I=>P.next(R*I).value,R,30);return R+"ms "+M},toTransition:()=>{}};return P}uc.applyToOptions=e=>{const t=DE(e,100,uc);return e.ease=t.ease,e.duration=Tn(t.duration),e.type="keyframes",e};function Oh({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:l,min:d,max:h,restDelta:m=.5,restSpeed:p}){const y=e[0],v={done:!1,value:y},b=$=>d!==void 0&&$<d||h!==void 0&&$>h,k=$=>d===void 0?h:h===void 0||Math.abs(d-$)<Math.abs(h-$)?d:h;let S=n*t;const _=y+S,j=l===void 0?_:l(_);j!==_&&(S=j-y);const N=$=>-S*Math.exp(-$/r),E=$=>j+N($),P=$=>{const B=N($),H=E($);v.done=Math.abs(B)<=m,v.value=v.done?j:H};let R,M;const I=$=>{b(v.value)&&(R=$,M=uc({keyframes:[v.value,k(v.value)],velocity:iw(E,$,v.value),damping:o,stiffness:a,restDelta:m,restSpeed:p}))};return I(0),{calculatedDuration:null,next:$=>{let B=!1;return!M&&R===void 0&&(B=!0,P($),I($)),R!==void 0&&$>=R?M.next($-R):(!B&&P($),v)}}}function zE(e,t,n){const r=[],o=n||Qn.mix||rw,a=e.length-1;for(let l=0;l<a;l++){let d=o(e[l],e[l+1]);if(t){const h=Array.isArray(t)?t[l]||$t:t;d=da(h,d)}r.push(d)}return r}function Yf(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const a=e.length;if(Go(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=zE(t,r,o),h=d.length,m=p=>{if(l&&p<e[0])return t[0];let y=0;if(h>1)for(;y<e.length-2&&!(p<e[y+1]);y++);const v=ji(e[y],e[y+1],p);return d[y](v)};return n?p=>m(On(e[0],e[a-1],p)):m}function WE(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=ji(0,t,r);e.push(Ge(n,1,o))}}function ow(e){const t=[0];return WE(t,e.length-1),t}function HE(e,t){return e.map(n=>n*t)}function qE(e,t){return e.map(()=>t||Kx).splice(0,e.length-1)}function $o({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=iE(r)?r.map(zy):zy(r),a={done:!1,value:t[0]},l=HE(n&&n.length===t.length?n:ow(t),e),d=Yf(l,t,{ease:Array.isArray(o)?o:qE(t,o)});return{calculatedDuration:e,next:h=>(a.value=d(h),a.done=h>=e,a)}}const KE=e=>e!==null;function Xf(e,{repeat:t,repeatType:n="loop"},r,o=1){const a=e.filter(KE),d=o<0||t&&n!=="loop"&&t%2===1?0:a.length-1;return!d||r===void 0?a[d]:r}const GE={decay:Oh,inertia:Oh,tween:$o,keyframes:$o,spring:uc};function aw(e){typeof e.type=="string"&&(e.type=GE[e.type])}class Jf{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const YE=e=>e/100;class Qf extends Jf{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,o;const{motionValue:n}=this.options;n&&n.updatedAt!==Mt.now()&&this.tick(Mt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(r=this.options).onStop)==null||o.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;aw(t);const{type:n=$o,repeat:r=0,repeatDelay:o=0,repeatType:a,velocity:l=0}=t;let{keyframes:d}=t;const h=n||$o;h!==$o&&typeof d[0]!="number"&&(this.mixKeyframes=da(YE,rw(d[0],d[1])),d=[0,100]);const m=h({...t,keyframes:d});a==="mirror"&&(this.mirroredGenerator=h({...t,keyframes:[...d].reverse(),velocity:-l})),m.calculatedDuration===null&&(m.calculatedDuration=Gf(m));const{calculatedDuration:p}=m;this.calculatedDuration=p,this.resolvedDuration=p+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=m}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:o,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:d,calculatedDuration:h}=this;if(this.startTime===null)return r.next(0);const{delay:m=0,keyframes:p,repeat:y,repeatType:v,repeatDelay:b,type:k,onUpdate:S,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const j=this.currentTime-m*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?j<0:j>o;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let E=this.currentTime,P=r;if(y){const $=Math.min(this.currentTime,o)/d;let B=Math.floor($),H=$%1;!H&&$>=1&&(H=1),H===1&&B--,B=Math.min(B,y+1),!!(B%2)&&(v==="reverse"?(H=1-H,b&&(H-=b/d)):v==="mirror"&&(P=l)),E=On(0,1,H)*d}const R=N?{done:!1,value:p[0]}:P.next(E);a&&(R.value=a(R.value));let{done:M}=R;!N&&h!==null&&(M=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return I&&k!==Oh&&(R.value=Xf(p,this.options,_,this.speed)),S&&S(R.value),I&&this.finish(),R}then(t,n){return this.finished.then(t,n)}get duration(){return tn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+tn(t)}get time(){return tn(this.currentTime)}set time(t){var n;t=Tn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Mt.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=tn(this.currentTime))}play(){var o,a;if(this.isStopped)return;const{driver:t=IE,startTime:n}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),(a=(o=this.options).onPlay)==null||a.call(o);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Mt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function XE(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const fs=e=>e*180/Math.PI,Ih=e=>{const t=fs(Math.atan2(e[1],e[0]));return Dh(t)},JE={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Ih,rotateZ:Ih,skewX:e=>fs(Math.atan(e[1])),skewY:e=>fs(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Dh=e=>(e=e%360,e<0&&(e+=360),e),Yy=Ih,Xy=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Jy=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),QE={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Xy,scaleY:Jy,scale:e=>(Xy(e)+Jy(e))/2,rotateX:e=>Dh(fs(Math.atan2(e[6],e[5]))),rotateY:e=>Dh(fs(Math.atan2(-e[2],e[0]))),rotateZ:Yy,rotate:Yy,skewX:e=>fs(Math.atan(e[4])),skewY:e=>fs(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Lh(e){return e.includes("scale")?1:0}function Mh(e,t){if(!e||e==="none")return Lh(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(n)r=QE,o=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=JE,o=d}if(!o)return Lh(t);const a=r[t],l=o[1].split(",").map(eN);return typeof a=="function"?a(l):l[a]}const ZE=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Mh(n,t)};function eN(e){return parseFloat(e.trim())}const Ii=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Di=new Set(Ii),Qy=e=>e===Oi||e===xe,tN=new Set(["x","y","z"]),nN=Ii.filter(e=>!tN.has(e));function rN(e){const t=[];return nN.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const ys={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Mh(t,"x"),y:(e,{transform:t})=>Mh(t,"y")};ys.translateX=ys.x;ys.translateY=ys.y;const vs=new Set;let $h=!1,Fh=!1,Uh=!1;function lw(){if(Fh){const e=Array.from(vs).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const o=rN(r);o.length&&(n.set(r,o),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([a,l])=>{var d;(d=r.getValue(a))==null||d.set(l)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Fh=!1,$h=!1,vs.forEach(e=>e.complete(Uh)),vs.clear()}function cw(){vs.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Fh=!0)})}function sN(){Uh=!0,cw(),lw(),Uh=!1}class Zf{constructor(t,n,r,o,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=o,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(vs.add(this),$h||($h=!0,$e.read(cw),$e.resolveKeyframes(lw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:o}=this;if(t[0]===null){const a=o==null?void 0:o.get(),l=t[t.length-1];if(a!==void 0)t[0]=a;else if(r&&n){const d=r.readValue(n,l);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=l),o&&a===void 0&&o.set(t[0])}XE(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),vs.delete(this)}cancel(){this.state==="scheduled"&&(vs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const iN=e=>e.startsWith("--");function oN(e,t,n){iN(t)?e.style.setProperty(t,n):e.style[t]=n}const uw=$f(()=>window.ScrollTimeline!==void 0),aN={};function lN(e,t){const n=$f(e);return()=>aN[t]??n()}const dw=lN(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Io=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Zy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Io([0,.65,.55,1]),circOut:Io([.55,0,1,.45]),backIn:Io([.31,.01,.66,-.59]),backOut:Io([.33,1.53,.69,.99])};function hw(e,t){if(e)return typeof e=="function"?dw()?sw(e,t):"ease-out":Gx(e)?Io(e):Array.isArray(e)?e.map(n=>hw(n,t)||Zy.easeOut):Zy[e]}function cN(e,t,n,{delay:r=0,duration:o=300,repeat:a=0,repeatType:l="loop",ease:d="easeOut",times:h}={},m=void 0){const p={[t]:n};h&&(p.offset=h);const y=hw(d,o);Array.isArray(y)&&(p.easing=y);const v={delay:r,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return m&&(v.pseudoElement=m),e.animate(p,v)}function fw(e){return typeof e=="function"&&"applyToOptions"in e}function uN({type:e,...t}){return fw(e)&&dw()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class dN extends Jf{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:o,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:d,onComplete:h}=t;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=t,Go(typeof t.type!="string");const m=uN(t);this.animation=cN(n,r,o,m,a),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const p=Xf(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(p):oN(n,r,p),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return tn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+tn(t)}get time(){return tn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Tn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&uw()?(this.animation.timeline=t,$t):n(this)}}const mw={anticipate:Wx,backInOut:zx,circInOut:qx};function hN(e){return e in mw}function fN(e){typeof e.ease=="string"&&hN(e.ease)&&(e.ease=mw[e.ease])}const ev=10;class mN extends dN{constructor(t){fN(t),aw(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:o,element:a,...l}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new Qf({...l,autoplay:!1}),h=Tn(this.finishedTime??this.time);n.setWithVelocity(d.sample(h-ev).value,d.sample(h).value,ev),d.stop()}}const tv=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&($r.test(e)||e==="0")&&!e.startsWith("url("));function pN(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function gN(e,t,n,r){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],l=tv(o,t),d=tv(a,t);return!l||!d?!1:pN(e)||(n==="spring"||fw(n))&&r}function Vh(e){e.duration=0,e.type="keyframes"}const yN=new Set(["opacity","clipPath","filter","transform"]),vN=$f(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function xN(e){var p;const{motionValue:t,name:n,repeatDelay:r,repeatType:o,damping:a,type:l}=e;if(!(((p=t==null?void 0:t.owner)==null?void 0:p.current)instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:m}=t.owner.getProps();return vN()&&n&&yN.has(n)&&(n!=="transform"||!m)&&!h&&!r&&o!=="mirror"&&a!==0&&l!=="inertia"}const wN=40;class bN extends Jf{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:l="loop",keyframes:d,name:h,motionValue:m,element:p,...y}){var k;super(),this.stop=()=>{var S,_;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(_=this.keyframeResolver)==null||_.cancel()},this.createdAt=Mt.now();const v={autoplay:t,delay:n,type:r,repeat:o,repeatDelay:a,repeatType:l,name:h,motionValue:m,element:p,...y},b=(p==null?void 0:p.KeyframeResolver)||Zf;this.keyframeResolver=new b(d,(S,_,j)=>this.onKeyframesResolved(S,_,v,!j),h,m,p),(k=this.keyframeResolver)==null||k.scheduleResolve()}onKeyframesResolved(t,n,r,o){this.keyframeResolver=void 0;const{name:a,type:l,velocity:d,delay:h,isHandoff:m,onUpdate:p}=r;this.resolvedAt=Mt.now(),gN(t,a,l,d)||((Qn.instantAnimations||!h)&&(p==null||p(Xf(t,r,n))),t[0]=t[t.length-1],Vh(r),r.repeat=0);const v={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>wN?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},b=!m&&xN(v)?new mN({...v,element:v.motionValue.owner.current}):new Qf(v);b.finished.then(()=>this.notifyFinished()).catch($t),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),sN()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const SN=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function _N(e){const t=SN.exec(e);if(!t)return[,];const[,n,r,o]=t;return[`--${n??r}`,o]}function pw(e,t,n=1){const[r,o]=_N(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const l=a.trim();return Lx(l)?parseFloat(l):l}return Wf(o)?pw(o,t,n+1):o}function em(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const gw=new Set(["width","height","top","left","right","bottom",...Ii]),jN={test:e=>e==="auto",parse:e=>e},yw=e=>t=>t.test(e),vw=[Oi,xe,Pn,Tr,vE,yE,jN],nv=e=>vw.find(yw(e));function CN(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||$x(e):!0}const kN=new Set(["brightness","contrast","saturate","opacity"]);function EN(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Hf)||[];if(!r)return e;const o=n.replace(r,"");let a=kN.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+o+")"}const NN=/\b([a-z-]*)\(.*?\)/gu,Bh={...$r,getAnimatableNone:e=>{const t=e.match(NN);return t?t.map(EN).join(" "):e}},rv={...Oi,transform:Math.round},TN={rotate:Tr,rotateX:Tr,rotateY:Tr,rotateZ:Tr,scale:Al,scaleX:Al,scaleY:Al,scaleZ:Al,skew:Tr,skewX:Tr,skewY:Tr,distance:xe,translateX:xe,translateY:xe,translateZ:xe,x:xe,y:xe,z:xe,perspective:xe,transformPerspective:xe,opacity:Yo,originX:Wy,originY:Wy,originZ:xe},tm={borderWidth:xe,borderTopWidth:xe,borderRightWidth:xe,borderBottomWidth:xe,borderLeftWidth:xe,borderRadius:xe,radius:xe,borderTopLeftRadius:xe,borderTopRightRadius:xe,borderBottomRightRadius:xe,borderBottomLeftRadius:xe,width:xe,maxWidth:xe,height:xe,maxHeight:xe,top:xe,right:xe,bottom:xe,left:xe,padding:xe,paddingTop:xe,paddingRight:xe,paddingBottom:xe,paddingLeft:xe,margin:xe,marginTop:xe,marginRight:xe,marginBottom:xe,marginLeft:xe,backgroundPositionX:xe,backgroundPositionY:xe,...TN,zIndex:rv,fillOpacity:Yo,strokeOpacity:Yo,numOctaves:rv},PN={...tm,color:it,backgroundColor:it,outlineColor:it,fill:it,stroke:it,borderColor:it,borderTopColor:it,borderRightColor:it,borderBottomColor:it,borderLeftColor:it,filter:Bh,WebkitFilter:Bh},xw=e=>PN[e];function ww(e,t){let n=xw(e);return n!==Bh&&(n=$r),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const RN=new Set(["auto","none","0"]);function AN(e,t,n){let r=0,o;for(;r<e.length&&!o;){const a=e[r];typeof a=="string"&&!RN.has(a)&&Xo(a).values.length&&(o=e[r]),r++}if(o&&n)for(const a of t)e[a]=ww(n,o)}class ON extends Zf{constructor(t,n,r,o,a){super(t,n,r,o,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let m=t[h];if(typeof m=="string"&&(m=m.trim(),Wf(m))){const p=pw(m,n.current);p!==void 0&&(t[h]=p),h===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!gw.has(r)||t.length!==2)return;const[o,a]=t,l=nv(o),d=nv(a);if(l!==d)if(Qy(l)&&Qy(d))for(let h=0;h<t.length;h++){const m=t[h];typeof m=="string"&&(t[h]=parseFloat(m))}else ys[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||CN(t[o]))&&r.push(o);r.length&&AN(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ys[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){var d;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const a=r.length-1,l=r[a];r[a]=ys[n](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([h,m])=>{t.getValue(h).set(m)}),this.resolveNoneKeyframes()}}function bw(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const o=document.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const Sw=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function nm(e){return Mx(e)&&"offsetHeight"in e}const sv=30,IN=e=>!isNaN(parseFloat(e)),Fo={current:void 0};class DN{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var a;const o=Mt.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Mt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=IN(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Ff);const r=this.events[t].add(n);return t==="change"?()=>{r(),$e.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Fo.current&&Fo.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Mt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>sv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,sv);return Uf(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yn(e,t){return new DN(e,t)}const{schedule:rm}=Yx(queueMicrotask,!1),mn={x:!1,y:!1};function _w(){return mn.x||mn.y}function LN(e){return e==="x"||e==="y"?mn[e]?null:(mn[e]=!0,()=>{mn[e]=!1}):mn.x||mn.y?null:(mn.x=mn.y=!0,()=>{mn.x=mn.y=!1})}function jw(e,t){const n=bw(e),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[n,o,()=>r.abort()]}function iv(e){return!(e.pointerType==="touch"||_w())}function MN(e,t,n={}){const[r,o,a]=jw(e,n),l=d=>{if(!iv(d))return;const{target:h}=d,m=t(h,d);if(typeof m!="function"||!h)return;const p=y=>{iv(y)&&(m(y),h.removeEventListener("pointerleave",p))};h.addEventListener("pointerleave",p,o)};return r.forEach(d=>{d.addEventListener("pointerenter",l,o)}),a}const Cw=(e,t)=>t?e===t?!0:Cw(e,t.parentElement):!1,sm=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,$N=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function FN(e){return $N.has(e.tagName)||e.tabIndex!==-1}const Jl=new WeakSet;function ov(e){return t=>{t.key==="Enter"&&e(t)}}function Yd(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const UN=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=ov(()=>{if(Jl.has(n))return;Yd(n,"down");const o=ov(()=>{Yd(n,"up")}),a=()=>Yd(n,"cancel");n.addEventListener("keyup",o,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function av(e){return sm(e)&&!_w()}function VN(e,t,n={}){const[r,o,a]=jw(e,n),l=d=>{const h=d.currentTarget;if(!av(d))return;Jl.add(h);const m=t(h,d),p=(b,k)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",v),Jl.has(h)&&Jl.delete(h),av(b)&&typeof m=="function"&&m(b,{success:k})},y=b=>{p(b,h===window||h===document||n.useGlobalTarget||Cw(h,b.target))},v=b=>{p(b,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",v,o)};return r.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",l,o),nm(d)&&(d.addEventListener("focus",m=>UN(m,o)),!FN(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),a}function im(e){return Mx(e)&&"ownerSVGElement"in e}const Ql=new WeakMap;let Pr;const kw=(e,t,n)=>(r,o)=>o&&o[0]?o[0][e+"Size"]:im(r)&&"getBBox"in r?r.getBBox()[t]:r[n],BN=kw("inline","width","offsetWidth"),zN=kw("block","height","offsetHeight");function WN({target:e,borderBoxSize:t}){var n;(n=Ql.get(e))==null||n.forEach(r=>{r(e,{get width(){return BN(e,t)},get height(){return zN(e,t)}})})}function HN(e){e.forEach(WN)}function qN(){typeof ResizeObserver>"u"||(Pr=new ResizeObserver(HN))}function KN(e,t){Pr||qN();const n=bw(e);return n.forEach(r=>{let o=Ql.get(r);o||(o=new Set,Ql.set(r,o)),o.add(t),Pr==null||Pr.observe(r)}),()=>{n.forEach(r=>{const o=Ql.get(r);o==null||o.delete(t),o!=null&&o.size||Pr==null||Pr.unobserve(r)})}}const Zl=new Set;let mi;function GN(){mi=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};Zl.forEach(t=>t(e))},window.addEventListener("resize",mi)}function YN(e){return Zl.add(e),mi||GN(),()=>{Zl.delete(e),!Zl.size&&typeof mi=="function"&&(window.removeEventListener("resize",mi),mi=void 0)}}function XN(e,t){return typeof e=="function"?YN(e):KN(e,t)}function Ew(e,t){let n;const r=()=>{const{currentTime:o}=t,l=(o===null?0:o.value)/100;n!==l&&e(l),n=l};return $e.preUpdate(r,!0),()=>vn(r)}function JN(e){return im(e)&&e.tagName==="svg"}function QN(...e){const t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],o=e[1+n],a=e[2+n],l=e[3+n],d=Yf(o,a,l);return t?d(r):d}const _t=e=>!!(e&&e.getVelocity),ZN=[...vw,it,$r],eT=e=>ZN.find(yw(e)),Pc=w.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function lv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function tT(...e){return t=>{let n=!1;const r=e.map(o=>{const a=lv(o,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let o=0;o<r.length;o++){const a=r[o];typeof a=="function"?a():lv(e[o],null)}}}}function nT(...e){return w.useCallback(tT(...e),e)}class rT extends w.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,o=nm(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=o-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function sT({children:e,isPresent:t,anchorX:n,root:r}){const o=w.useId(),a=w.useRef(null),l=w.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=w.useContext(Pc),h=nT(a,e==null?void 0:e.ref);return w.useInsertionEffect(()=>{const{width:m,height:p,top:y,left:v,right:b}=l.current;if(t||!a.current||!m||!p)return;const k=n==="left"?`left: ${v}`:`right: ${b}`;a.current.dataset.motionPopId=o;const S=document.createElement("style");d&&(S.nonce=d);const _=r??document.head;return _.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${p}px !important;
            ${k}px !important;
            top: ${y}px !important;
          }
        `),()=>{_.contains(S)&&_.removeChild(S)}},[t]),u.jsx(rT,{isPresent:t,childRef:a,sizeRef:l,children:w.cloneElement(e,{ref:h})})}const iT=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:a,mode:l,anchorX:d,root:h})=>{const m=Ai(oT),p=w.useId();let y=!0,v=w.useMemo(()=>(y=!1,{id:p,initial:t,isPresent:n,custom:o,onExitComplete:b=>{m.set(b,!0);for(const k of m.values())if(!k)return;r&&r()},register:b=>(m.set(b,!1),()=>m.delete(b))}),[n,m,r]);return a&&y&&(v={...v}),w.useMemo(()=>{m.forEach((b,k)=>m.set(k,!1))},[n]),w.useEffect(()=>{!n&&!m.size&&r&&r()},[n]),l==="popLayout"&&(e=u.jsx(sT,{isPresent:n,anchorX:d,root:h,children:e})),u.jsx(Tc.Provider,{value:v,children:e})};function oT(){return new Map}function Nw(e=!0){const t=w.useContext(Tc);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=t,a=w.useId();w.useEffect(()=>{if(e)return o(a)},[e]);const l=w.useCallback(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,l]:[!0]}const Ol=e=>e.key||"";function cv(e){const t=[];return w.Children.forEach(e,n=>{w.isValidElement(n)&&t.push(n)}),t}const _s=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:a="sync",propagate:l=!1,anchorX:d="left",root:h})=>{const[m,p]=Nw(l),y=w.useMemo(()=>cv(e),[e]),v=l&&!m?[]:y.map(Ol),b=w.useRef(!0),k=w.useRef(y),S=Ai(()=>new Map),[_,j]=w.useState(y),[N,E]=w.useState(y);Nc(()=>{b.current=!1,k.current=y;for(let M=0;M<N.length;M++){const I=Ol(N[M]);v.includes(I)?S.delete(I):S.get(I)!==!0&&S.set(I,!1)}},[N,v.length,v.join("-")]);const P=[];if(y!==_){let M=[...y];for(let I=0;I<N.length;I++){const $=N[I],B=Ol($);v.includes(B)||(M.splice(I,0,$),P.push($))}return a==="wait"&&P.length&&(M=P),E(cv(M)),j(y),null}const{forceRender:R}=w.useContext(If);return u.jsx(u.Fragment,{children:N.map(M=>{const I=Ol(M),$=l&&!m?!1:y===N||v.includes(I),B=()=>{if(S.has(I))S.set(I,!0);else return;let H=!0;S.forEach(ee=>{ee||(H=!1)}),H&&(R==null||R(),E(k.current),l&&(p==null||p()),r&&r())};return u.jsx(iT,{isPresent:$,initial:!b.current||n?void 0:!1,custom:t,presenceAffectsLayout:o,mode:a,root:h,onExitComplete:$?void 0:B,anchorX:d,children:M},I)})})},Tw=w.createContext({strict:!1}),uv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ci={};for(const e in uv)Ci[e]={isEnabled:t=>uv[e].some(n=>!!t[n])};function aT(e){for(const t in e)Ci[t]={...Ci[t],...e[t]}}const lT=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function dc(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||lT.has(e)}let Pw=e=>!dc(e);function cT(e){typeof e=="function"&&(Pw=t=>t.startsWith("on")?!dc(t):e(t))}try{cT(require("@emotion/is-prop-valid").default)}catch{}function uT(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(Pw(o)||n===!0&&dc(o)||!t&&!dc(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}const Rc=w.createContext({});function Ac(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Jo(e){return typeof e=="string"||Array.isArray(e)}const om=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],am=["initial",...om];function Oc(e){return Ac(e.animate)||am.some(t=>Jo(e[t]))}function Rw(e){return!!(Oc(e)||e.variants)}function dT(e,t){if(Oc(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Jo(n)?n:void 0,animate:Jo(r)?r:void 0}}return e.inherit!==!1?t:{}}function hT(e){const{initial:t,animate:n}=dT(e,w.useContext(Rc));return w.useMemo(()=>({initial:t,animate:n}),[dv(t),dv(n)])}function dv(e){return Array.isArray(e)?e.join(" "):e}const Qo={};function fT(e){for(const t in e)Qo[t]=e[t],zf(t)&&(Qo[t].isCSSVariable=!0)}function Aw(e,{layout:t,layoutId:n}){return Di.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Qo[e]||e==="opacity")}const mT={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},pT=Ii.length;function gT(e,t,n){let r="",o=!0;for(let a=0;a<pT;a++){const l=Ii[a],d=e[l];if(d===void 0)continue;let h=!0;if(typeof d=="number"?h=d===(l.startsWith("scale")?1:0):h=parseFloat(d)===0,!h||n){const m=Sw(d,tm[l]);if(!h){o=!1;const p=mT[l]||l;r+=`${p}(${m}) `}n&&(t[l]=m)}}return r=r.trim(),n?r=n(t,o?"":r):o&&(r="none"),r}function lm(e,t,n){const{style:r,vars:o,transformOrigin:a}=e;let l=!1,d=!1;for(const h in t){const m=t[h];if(Di.has(h)){l=!0;continue}else if(zf(h)){o[h]=m;continue}else{const p=Sw(m,tm[h]);h.startsWith("origin")?(d=!0,a[h]=p):r[h]=p}}if(t.transform||(l||n?r.transform=gT(t,e.transform,n):r.transform&&(r.transform="none")),d){const{originX:h="50%",originY:m="50%",originZ:p=0}=a;r.transformOrigin=`${h} ${m} ${p}`}}const cm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ow(e,t,n){for(const r in t)!_t(t[r])&&!Aw(r,n)&&(e[r]=t[r])}function yT({transformTemplate:e},t){return w.useMemo(()=>{const n=cm();return lm(n,t,e),Object.assign({},n.vars,n.style)},[t])}function vT(e,t){const n=e.style||{},r={};return Ow(r,n,e),Object.assign(r,yT(e,t)),r}function xT(e,t){const n={},r=vT(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const wT={offset:"stroke-dashoffset",array:"stroke-dasharray"},bT={offset:"strokeDashoffset",array:"strokeDasharray"};function ST(e,t,n=1,r=0,o=!0){e.pathLength=1;const a=o?wT:bT;e[a.offset]=xe.transform(-r);const l=xe.transform(t),d=xe.transform(n);e[a.array]=`${l} ${d}`}function Iw(e,{attrX:t,attrY:n,attrScale:r,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...d},h,m,p){if(lm(e,d,m),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:y,style:v}=e;y.transform&&(v.transform=y.transform,delete y.transform),(v.transform||y.transformOrigin)&&(v.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),v.transform&&(v.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete y.transformBox),t!==void 0&&(y.x=t),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),o!==void 0&&ST(y,o,a,l,!1)}const Dw=()=>({...cm(),attrs:{}}),Lw=e=>typeof e=="string"&&e.toLowerCase()==="svg";function _T(e,t,n,r){const o=w.useMemo(()=>{const a=Dw();return Iw(a,t,Lw(r),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};Ow(a,e.style,e),o.style={...a,...o.style}}return o}const jT=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function um(e){return typeof e!="string"||e.includes("-")?!1:!!(jT.indexOf(e)>-1||/[A-Z]/u.test(e))}function CT(e,t,n,{latestValues:r},o,a=!1){const d=(um(e)?_T:xT)(t,r,o,e),h=uT(t,typeof e=="string",a),m=e!==w.Fragment?{...h,...d,ref:n}:{},{children:p}=t,y=w.useMemo(()=>_t(p)?p.get():p,[p]);return w.createElement(e,{...m,children:y})}function hv(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function dm(e,t,n,r){if(typeof t=="function"){const[o,a]=hv(r);t=t(n!==void 0?n:e.custom,o,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,a]=hv(r);t=t(n!==void 0?n:e.custom,o,a)}return t}function ec(e){return _t(e)?e.get():e}function kT({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,o){return{latestValues:ET(n,r,o,e),renderState:t()}}function ET(e,t,n,r){const o={},a=r(e,{});for(const v in a)o[v]=ec(a[v]);let{initial:l,animate:d}=e;const h=Oc(e),m=Rw(e);t&&m&&!h&&e.inherit!==!1&&(l===void 0&&(l=t.initial),d===void 0&&(d=t.animate));let p=n?n.initial===!1:!1;p=p||l===!1;const y=p?d:l;if(y&&typeof y!="boolean"&&!Ac(y)){const v=Array.isArray(y)?y:[y];for(let b=0;b<v.length;b++){const k=dm(e,v[b]);if(k){const{transitionEnd:S,transition:_,...j}=k;for(const N in j){let E=j[N];if(Array.isArray(E)){const P=p?E.length-1:0;E=E[P]}E!==null&&(o[N]=E)}for(const N in S)o[N]=S[N]}}}return o}const Mw=e=>(t,n)=>{const r=w.useContext(Rc),o=w.useContext(Tc),a=()=>kT(e,t,r,o);return n?a():Ai(a)};function hm(e,t,n){var a;const{style:r}=e,o={};for(const l in r)(_t(r[l])||t.style&&_t(t.style[l])||Aw(l,e)||((a=n==null?void 0:n.getValue(l))==null?void 0:a.liveStyle)!==void 0)&&(o[l]=r[l]);return o}const NT=Mw({scrapeMotionValuesFromProps:hm,createRenderState:cm});function $w(e,t,n){const r=hm(e,t,n);for(const o in e)if(_t(e[o])||_t(t[o])){const a=Ii.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[a]=e[o]}return r}const TT=Mw({scrapeMotionValuesFromProps:$w,createRenderState:Dw}),PT=Symbol.for("motionComponentSymbol");function pi(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function RT(e,t,n){return w.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):pi(n)&&(n.current=r))},[t])}const fm=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),AT="framerAppearId",Fw="data-"+fm(AT),Uw=w.createContext({});function OT(e,t,n,r,o){var S,_;const{visualElement:a}=w.useContext(Rc),l=w.useContext(Tw),d=w.useContext(Tc),h=w.useContext(Pc).reducedMotion,m=w.useRef(null);r=r||l.renderer,!m.current&&r&&(m.current=r(e,{visualState:t,parent:a,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:h}));const p=m.current,y=w.useContext(Uw);p&&!p.projection&&o&&(p.type==="html"||p.type==="svg")&&IT(m.current,n,o,y);const v=w.useRef(!1);w.useInsertionEffect(()=>{p&&v.current&&p.update(n,d)});const b=n[Fw],k=w.useRef(!!b&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,b))&&((_=window.MotionHasOptimisedAnimation)==null?void 0:_.call(window,b)));return Nc(()=>{p&&(v.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),k.current&&p.animationState&&p.animationState.animateChanges())}),w.useEffect(()=>{p&&(!k.current&&p.animationState&&p.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var j;(j=window.MotionHandoffMarkAsComplete)==null||j.call(window,b)}),k.current=!1),p.enteringChildren=void 0)}),p}function IT(e,t,n,r){const{layoutId:o,layout:a,drag:l,dragConstraints:d,layoutScroll:h,layoutRoot:m,layoutCrossfade:p}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Vw(e.parent)),e.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:!!l||d&&pi(d),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:p,layoutScroll:h,layoutRoot:m})}function Vw(e){if(e)return e.options.allowProjection!==!1?e.projection:Vw(e.parent)}function Xd(e,{forwardMotionProps:t=!1}={},n,r){n&&aT(n);const o=um(e)?TT:NT;function a(d,h){let m;const p={...w.useContext(Pc),...d,layoutId:DT(d)},{isStatic:y}=p,v=hT(d),b=o(d,y);if(!y&&Df){LT();const k=MT(p);m=k.MeasureLayout,v.visualElement=OT(e,b,p,r,k.ProjectionNode)}return u.jsxs(Rc.Provider,{value:v,children:[m&&v.visualElement?u.jsx(m,{visualElement:v.visualElement,...p}):null,CT(e,d,RT(b,v.visualElement,h),b,y,t)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const l=w.forwardRef(a);return l[PT]=e,l}function DT({layoutId:e}){const t=w.useContext(If).id;return t&&e!==void 0?t+"-"+e:e}function LT(e,t){w.useContext(Tw).strict}function MT(e){const{drag:t,layout:n}=Ci;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function $T(e,t){if(typeof Proxy>"u")return Xd;const n=new Map,r=(a,l)=>Xd(a,l,e,t),o=(a,l)=>r(a,l);return new Proxy(o,{get:(a,l)=>l==="create"?r:(n.has(l)||n.set(l,Xd(l,void 0,e,t)),n.get(l))})}function Bw({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function FT({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function UT(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Jd(e){return e===void 0||e===1}function zh({scale:e,scaleX:t,scaleY:n}){return!Jd(e)||!Jd(t)||!Jd(n)}function ls(e){return zh(e)||zw(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function zw(e){return fv(e.x)||fv(e.y)}function fv(e){return e&&e!=="0%"}function hc(e,t,n){const r=e-n,o=t*r;return n+o}function mv(e,t,n,r,o){return o!==void 0&&(e=hc(e,o,r)),hc(e,n,r)+t}function Wh(e,t=0,n=1,r,o){e.min=mv(e.min,t,n,r,o),e.max=mv(e.max,t,n,r,o)}function Ww(e,{x:t,y:n}){Wh(e.x,t.translate,t.scale,t.originPoint),Wh(e.y,n.translate,n.scale,n.originPoint)}const pv=.999999999999,gv=1.0000000000001;function VT(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let a,l;for(let d=0;d<o;d++){a=n[d],l=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&yi(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,Ww(e,l)),r&&ls(a.latestValues)&&yi(e,a.latestValues))}t.x<gv&&t.x>pv&&(t.x=1),t.y<gv&&t.y>pv&&(t.y=1)}function gi(e,t){e.min=e.min+t,e.max=e.max+t}function yv(e,t,n,r,o=.5){const a=Ge(e.min,e.max,o);Wh(e,t,n,a,r)}function yi(e,t){yv(e.x,t.x,t.scaleX,t.scale,t.originX),yv(e.y,t.y,t.scaleY,t.scale,t.originY)}function Hw(e,t){return Bw(UT(e.getBoundingClientRect(),t))}function BT(e,t,n){const r=Hw(e,n),{scroll:o}=t;return o&&(gi(r.x,o.offset.x),gi(r.y,o.offset.y)),r}const vv=()=>({translate:0,scale:1,origin:0,originPoint:0}),vi=()=>({x:vv(),y:vv()}),xv=()=>({min:0,max:0}),et=()=>({x:xv(),y:xv()}),Hh={current:null},qw={current:!1};function zT(){if(qw.current=!0,!!Df)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Hh.current=e.matches;e.addEventListener("change",t),t()}else Hh.current=!1}const WT=new WeakMap;function HT(e,t,n){for(const r in t){const o=t[r],a=n[r];if(_t(o))e.addValue(r,o);else if(_t(a))e.addValue(r,yn(o,{owner:e}));else if(a!==o)if(e.hasValue(r)){const l=e.getValue(r);l.liveStyle===!0?l.jump(o):l.hasAnimated||l.set(o)}else{const l=e.getStaticValue(r);e.addValue(r,yn(l!==void 0?l:o,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const wv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class qT{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:a,visualState:l},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Zf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Mt.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,$e.render(this.render,!1,!0))};const{latestValues:h,renderState:m}=l;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=m,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!a,this.isControllingVariants=Oc(n),this.isVariantNode=Rw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in y){const b=y[v];h[v]!==void 0&&_t(b)&&b.set(h[v])}}mount(t){var n;this.current=t,WT.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,o)=>this.bindToMotionValue(o,r)),qw.current||zT(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Hh.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),vn(this.notifyUpdate),vn(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Di.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&$e.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ci){const n=Ci[t];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):et()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<wv.length;r++){const o=wv[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a="on"+o,l=t[a];l&&(this.propEventSubscriptions[o]=this.on(o,l))}this.prevMotionValues=HT(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=yn(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(Lx(r)||$x(r))?r=parseFloat(r):!eT(r)&&$r.test(n)&&(r=ww(t,n)),this.setBaseTarget(t,_t(r)?r.get():r)),_t(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var a;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const l=dm(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);l&&(r=l[t])}if(n&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!_t(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Ff),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){rm.render(this.render)}}class Kw extends qT{constructor(){super(...arguments),this.KeyframeResolver=ON}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;_t(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Gw(e,{style:t,vars:n},r,o){const a=e.style;let l;for(l in t)a[l]=t[l];o==null||o.applyProjectionStyles(a,r);for(l in n)a.setProperty(l,n[l])}function KT(e){return window.getComputedStyle(e)}class GT extends Kw{constructor(){super(...arguments),this.type="html",this.renderInstance=Gw}readValueFromInstance(t,n){var r;if(Di.has(n))return(r=this.projection)!=null&&r.isProjecting?Lh(n):ZE(t,n);{const o=KT(t),a=(zf(n)?o.getPropertyValue(n):o[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Hw(t,n)}build(t,n,r){lm(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return hm(t,n,r)}}const Yw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function YT(e,t,n,r){Gw(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(Yw.has(o)?o:fm(o),t.attrs[o])}class XT extends Kw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=et}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Di.has(n)){const r=xw(n);return r&&r.default||0}return n=Yw.has(n)?n:fm(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return $w(t,n,r)}build(t,n,r){Iw(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,o){YT(t,n,r,o)}mount(t){this.isSVGTag=Lw(t.tagName),super.mount(t)}}const JT=(e,t)=>um(e)?new XT(t):new GT(t,{allowProjection:e!==w.Fragment});function xi(e,t,n){const r=e.getProps();return dm(r,t,n!==void 0?n:r.custom,e)}const qh=e=>Array.isArray(e);function QT(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,yn(n))}function ZT(e){return qh(e)?e[e.length-1]||0:e}function eP(e,t){const n=xi(e,t);let{transitionEnd:r={},transition:o={},...a}=n||{};a={...a,...r};for(const l in a){const d=ZT(a[l]);QT(e,l,d)}}function tP(e){return!!(_t(e)&&e.add)}function Kh(e,t){const n=e.getValue("willChange");if(tP(n))return n.add(t);if(!n&&Qn.WillChange){const r=new Qn.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function Xw(e){return e.props[Fw]}const nP=e=>e!==null;function rP(e,{repeat:t,repeatType:n="loop"},r){const o=e.filter(nP),a=t&&n!=="loop"&&t%2===1?0:o.length-1;return o[a]}const sP={type:"spring",stiffness:500,damping:25,restSpeed:10},iP=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),oP={type:"keyframes",duration:.8},aP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},lP=(e,{keyframes:t})=>t.length>2?oP:Di.has(e)?e.startsWith("scale")?iP(t[1]):sP:aP;function cP({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:a,repeatType:l,repeatDelay:d,from:h,elapsed:m,...p}){return!!Object.keys(p).length}const mm=(e,t,n,r={},o,a)=>l=>{const d=em(r,e)||{},h=d.delay||r.delay||0;let{elapsed:m=0}=r;m=m-Tn(h);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-m,onUpdate:v=>{t.set(v),d.onUpdate&&d.onUpdate(v)},onComplete:()=>{l(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:a?void 0:o};cP(d)||Object.assign(p,lP(e,p)),p.duration&&(p.duration=Tn(p.duration)),p.repeatDelay&&(p.repeatDelay=Tn(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let y=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(Vh(p),p.delay===0&&(y=!0)),(Qn.instantAnimations||Qn.skipAnimations)&&(y=!0,Vh(p),p.delay=0),p.allowFlatten=!d.type&&!d.ease,y&&!a&&t.get()!==void 0){const v=rP(p.keyframes,d);if(v!==void 0){$e.update(()=>{p.onUpdate(v),p.onComplete()});return}}return d.isSync?new Qf(p):new bN(p)};function uP({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Jw(e,t,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:l,...d}=t;r&&(a=r);const h=[],m=o&&e.animationState&&e.animationState.getState()[o];for(const p in d){const y=e.getValue(p,e.latestValues[p]??null),v=d[p];if(v===void 0||m&&uP(m,p))continue;const b={delay:n,...em(a||{},p)},k=y.get();if(k!==void 0&&!y.isAnimating&&!Array.isArray(v)&&v===k&&!b.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const j=Xw(e);if(j){const N=window.MotionHandoffAnimation(j,p,$e);N!==null&&(b.startTime=N,S=!0)}}Kh(e,p),y.start(mm(p,y,v,e.shouldReduceMotion&&gw.has(p)?{type:!1}:b,e,S));const _=y.animation;_&&h.push(_)}return l&&Promise.all(h).then(()=>{$e.update(()=>{l&&eP(e,l)})}),h}function Qw(e,t,n,r=0,o=1){const a=Array.from(e).sort((m,p)=>m.sortNodePosition(p)).indexOf(t),l=e.size,d=(l-1)*r;return typeof n=="function"?n(a,l):o===1?a*r:d-a*r}function Gh(e,t,n={}){var h;const r=xi(e,t,n.type==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const a=r?()=>Promise.all(Jw(e,r,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:v}=o;return dP(e,t,m,p,y,v,n)}:()=>Promise.resolve(),{when:d}=o;if(d){const[m,p]=d==="beforeChildren"?[a,l]:[l,a];return m().then(()=>p())}else return Promise.all([a(),l(n.delay)])}function dP(e,t,n=0,r=0,o=0,a=1,l){const d=[];for(const h of e.variantChildren)h.notify("AnimationStart",t),d.push(Gh(h,t,{...l,delay:n+(typeof r=="function"?0:r)+Qw(e.variantChildren,h,r,o,a)}).then(()=>h.notify("AnimationComplete",t)));return Promise.all(d)}function hP(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(a=>Gh(e,a,n));r=Promise.all(o)}else if(typeof t=="string")r=Gh(e,t,n);else{const o=typeof t=="function"?xi(e,t,n.custom):t;r=Promise.all(Jw(e,o,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function Zw(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const fP=am.length;function eb(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?eb(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<fP;n++){const r=am[n],o=e.props[r];(Jo(o)||o===!1)&&(t[r]=o)}return t}const mP=[...om].reverse(),pP=om.length;function gP(e){return t=>Promise.all(t.map(({animation:n,options:r})=>hP(e,n,r)))}function yP(e){let t=gP(e),n=bv(),r=!0;const o=h=>(m,p)=>{var v;const y=xi(e,p,h==="exit"?(v=e.presenceContext)==null?void 0:v.custom:void 0);if(y){const{transition:b,transitionEnd:k,...S}=y;m={...m,...S,...k}}return m};function a(h){t=h(e)}function l(h){const{props:m}=e,p=eb(e.parent)||{},y=[],v=new Set;let b={},k=1/0;for(let _=0;_<pP;_++){const j=mP[_],N=n[j],E=m[j]!==void 0?m[j]:p[j],P=Jo(E),R=j===h?N.isActive:null;R===!1&&(k=_);let M=E===p[j]&&E!==m[j]&&P;if(M&&r&&e.manuallyAnimateOnMount&&(M=!1),N.protectedKeys={...b},!N.isActive&&R===null||!E&&!N.prevProp||Ac(E)||typeof E=="boolean")continue;const I=vP(N.prevProp,E);let $=I||j===h&&N.isActive&&!M&&P||_>k&&P,B=!1;const H=Array.isArray(E)?E:[E];let ee=H.reduce(o(j),{});R===!1&&(ee={});const{prevResolvedValues:te={}}=N,ue={...te,...ee},le=Z=>{$=!0,v.has(Z)&&(B=!0,v.delete(Z)),N.needsAnimating[Z]=!0;const D=e.getValue(Z);D&&(D.liveStyle=!1)};for(const Z in ue){const D=ee[Z],J=te[Z];if(b.hasOwnProperty(Z))continue;let Y=!1;qh(D)&&qh(J)?Y=!Zw(D,J):Y=D!==J,Y?D!=null?le(Z):v.add(Z):D!==void 0&&v.has(Z)?le(Z):N.protectedKeys[Z]=!0}N.prevProp=E,N.prevResolvedValues=ee,N.isActive&&(b={...b,...ee}),r&&e.blockInitialAnimation&&($=!1);const ve=M&&I;$&&(!ve||B)&&y.push(...H.map(Z=>{const D={type:j};if(typeof Z=="string"&&r&&!ve&&e.manuallyAnimateOnMount&&e.parent){const{parent:J}=e,Y=xi(J,Z);if(J.enteringChildren&&Y){const{delayChildren:L}=Y.transition||{};D.delay=Qw(J.enteringChildren,e,L)}}return{animation:Z,options:D}}))}if(v.size){const _={};if(typeof m.initial!="boolean"){const j=xi(e,Array.isArray(m.initial)?m.initial[0]:m.initial);j&&j.transition&&(_.transition=j.transition)}v.forEach(j=>{const N=e.getBaseTarget(j),E=e.getValue(j);E&&(E.liveStyle=!0),_[j]=N??null}),y.push({animation:_})}let S=!!y.length;return r&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(S=!1),r=!1,S?t(y):Promise.resolve()}function d(h,m){var y;if(n[h].isActive===m)return Promise.resolve();(y=e.variantChildren)==null||y.forEach(v=>{var b;return(b=v.animationState)==null?void 0:b.setActive(h,m)}),n[h].isActive=m;const p=l(h);for(const v in n)n[v].protectedKeys={};return p}return{animateChanges:l,setActive:d,setAnimateFunction:a,getState:()=>n,reset:()=>{n=bv(),r=!0}}}function vP(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Zw(t,e):!1}function ss(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bv(){return{animate:ss(!0),whileInView:ss(),whileHover:ss(),whileTap:ss(),whileDrag:ss(),whileFocus:ss(),exit:ss()}}class Vr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class xP extends Vr{constructor(t){super(t),t.animationState||(t.animationState=yP(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Ac(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let wP=0;class bP extends Vr{constructor(){super(...arguments),this.id=wP++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const SP={animation:{Feature:xP},exit:{Feature:bP}};function Zo(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function ma(e){return{point:{x:e.pageX,y:e.pageY}}}const _P=e=>t=>sm(t)&&e(t,ma(t));function Uo(e,t,n,r){return Zo(e,t,_P(n),r)}const tb=1e-4,jP=1-tb,CP=1+tb,nb=.01,kP=0-nb,EP=0+nb;function Et(e){return e.max-e.min}function NP(e,t,n){return Math.abs(e-t)<=n}function Sv(e,t,n,r=.5){e.origin=r,e.originPoint=Ge(t.min,t.max,e.origin),e.scale=Et(n)/Et(t),e.translate=Ge(n.min,n.max,e.origin)-e.originPoint,(e.scale>=jP&&e.scale<=CP||isNaN(e.scale))&&(e.scale=1),(e.translate>=kP&&e.translate<=EP||isNaN(e.translate))&&(e.translate=0)}function Vo(e,t,n,r){Sv(e.x,t.x,n.x,r?r.originX:void 0),Sv(e.y,t.y,n.y,r?r.originY:void 0)}function _v(e,t,n){e.min=n.min+t.min,e.max=e.min+Et(t)}function TP(e,t,n){_v(e.x,t.x,n.x),_v(e.y,t.y,n.y)}function jv(e,t,n){e.min=t.min-n.min,e.max=e.min+Et(t)}function Bo(e,t,n){jv(e.x,t.x,n.x),jv(e.y,t.y,n.y)}function Zt(e){return[e("x"),e("y")]}const rb=({current:e})=>e?e.ownerDocument.defaultView:null,Cv=(e,t)=>Math.abs(e-t);function PP(e,t){const n=Cv(e.x,t.x),r=Cv(e.y,t.y);return Math.sqrt(n**2+r**2)}class sb{constructor(t,n,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Zd(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,k=PP(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!k)return;const{point:S}=v,{timestamp:_}=pt;this.history.push({...S,timestamp:_});const{onStart:j,onMove:N}=this.handlers;b||(j&&j(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,v)},this.handlePointerMove=(v,b)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Qd(b,this.transformPagePoint),$e.update(this.updatePoint,!0)},this.handlePointerUp=(v,b)=>{this.end();const{onEnd:k,onSessionEnd:S,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=Zd(v.type==="pointercancel"?this.lastMoveEventInfo:Qd(b,this.transformPagePoint),this.history);this.startEvent&&k&&k(v,j),S&&S(v,j)},!sm(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=o||window;const d=ma(t),h=Qd(d,this.transformPagePoint),{point:m}=h,{timestamp:p}=pt;this.history=[{...m,timestamp:p}];const{onSessionStart:y}=n;y&&y(t,Zd(h,this.history)),this.removeListeners=da(Uo(this.contextWindow,"pointermove",this.handlePointerMove),Uo(this.contextWindow,"pointerup",this.handlePointerUp),Uo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),vn(this.updatePoint)}}function Qd(e,t){return t?{point:t(e.point)}:e}function kv(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Zd({point:e},t){return{point:e,delta:kv(e,ib(t)),offset:kv(e,RP(t)),velocity:AP(t,.1)}}function RP(e){return e[0]}function ib(e){return e[e.length-1]}function AP(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=ib(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>Tn(t)));)n--;if(!r)return{x:0,y:0};const a=tn(o.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(o.x-r.x)/a,y:(o.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function OP(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Ge(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Ge(n,e,r.max):Math.min(e,n)),e}function Ev(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function IP(e,{top:t,left:n,bottom:r,right:o}){return{x:Ev(e.x,n,o),y:Ev(e.y,t,r)}}function Nv(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function DP(e,t){return{x:Nv(e.x,t.x),y:Nv(e.y,t.y)}}function LP(e,t){let n=.5;const r=Et(e),o=Et(t);return o>r?n=ji(t.min,t.max-r,e.min):r>o&&(n=ji(e.min,e.max-o,t.min)),On(0,1,n)}function MP(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Yh=.35;function $P(e=Yh){return e===!1?e=0:e===!0&&(e=Yh),{x:Tv(e,"left","right"),y:Tv(e,"top","bottom")}}function Tv(e,t,n){return{min:Pv(e,t),max:Pv(e,n)}}function Pv(e,t){return typeof e=="number"?e:e[t]||0}const FP=new WeakMap;class UP{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=et(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ma(y).point)},l=(y,v)=>{const{drag:b,dragPropagation:k,onDragStart:S}=this.getProps();if(b&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=LN(b),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zt(j=>{let N=this.getAxisMotionValue(j).get()||0;if(Pn.test(N)){const{projection:E}=this.visualElement;if(E&&E.layout){const P=E.layout.layoutBox[j];P&&(N=Et(P)*(parseFloat(N)/100))}}this.originPoint[j]=N}),S&&$e.postRender(()=>S(y,v)),Kh(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},d=(y,v)=>{this.latestPointerEvent=y,this.latestPanInfo=v;const{dragPropagation:b,dragDirectionLock:k,onDirectionLock:S,onDrag:_}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:j}=v;if(k&&this.currentDirection===null){this.currentDirection=VP(j),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",v.point,j),this.updateAxis("y",v.point,j),this.visualElement.render(),_&&_(y,v)},h=(y,v)=>{this.latestPointerEvent=y,this.latestPanInfo=v,this.stop(y,v),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>Zt(y=>{var v;return this.getAnimationState(y)==="paused"&&((v=this.getAxisMotionValue(y).animation)==null?void 0:v.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new sb(t,{onSessionStart:a,onStart:l,onMove:d,onSessionEnd:h,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:r,contextWindow:rb(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,o=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!o||!r)return;const{velocity:l}=o;this.startAnimation(l);const{onDragEnd:d}=this.getProps();d&&$e.postRender(()=>d(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!Il(t,o,this.currentDirection))return;const a=this.getAxisMotionValue(t);let l=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(l=OP(l,this.constraints[t],this.elastic[t])),a.set(l)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,o=this.constraints;t&&pi(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=IP(r.layoutBox,t):this.constraints=!1,this.elastic=$P(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Zt(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=MP(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!pi(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=BT(r,o.root,this.visualElement.getTransformPagePoint());let l=DP(o.layout.layoutBox,a);if(n){const d=n(FT(l));this.hasMutatedConstraints=!!d,d&&(l=Bw(d))}return l}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},m=Zt(p=>{if(!Il(p,n,this.currentDirection))return;let y=h&&h[p]||{};l&&(y={min:0,max:0});const v=o?200:1e6,b=o?40:1e7,k={type:"inertia",velocity:r?t[p]:0,bounceStiffness:v,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...a,...y};return this.startAxisValueAnimation(p,k)});return Promise.all(m).then(d)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Kh(this.visualElement,t),r.start(mm(t,r,0,n,this.visualElement,!1))}stopAnimation(){Zt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Zt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Zt(n=>{const{drag:r}=this.getProps();if(!Il(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(n);if(o&&o.layout){const{min:l,max:d}=o.layout.layoutBox[n];a.set(t[n]-Ge(l,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!pi(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Zt(l=>{const d=this.getAxisMotionValue(l);if(d&&this.constraints!==!1){const h=d.get();o[l]=LP({min:h,max:h},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Zt(l=>{if(!Il(l,t,null))return;const d=this.getAxisMotionValue(l),{min:h,max:m}=this.constraints[l];d.set(Ge(h,m,o[l]))})}addListeners(){if(!this.visualElement.current)return;FP.set(this.visualElement,this);const t=this.visualElement.current,n=Uo(t,"pointerdown",h=>{const{drag:m,dragListener:p=!0}=this.getProps();m&&p&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();pi(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),$e.read(r);const l=Zo(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(Zt(p=>{const y=this.getAxisMotionValue(p);y&&(this.originPoint[p]+=h[p].translate,y.set(y.get()+h[p].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:l=Yh,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:a,dragElastic:l,dragMomentum:d}}}function Il(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function VP(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class BP extends Vr{constructor(t){super(t),this.removeGroupControls=$t,this.removeListeners=$t,this.controls=new UP(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$t}unmount(){this.removeGroupControls(),this.removeListeners()}}const Rv=e=>(t,n)=>{e&&$e.postRender(()=>e(t,n))};class zP extends Vr{constructor(){super(...arguments),this.removePointerDownListener=$t}onPointerDown(t){this.session=new sb(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:rb(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:Rv(t),onStart:Rv(n),onMove:r,onEnd:(a,l)=>{delete this.session,o&&$e.postRender(()=>o(a,l))}}}mount(){this.removePointerDownListener=Uo(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const tc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Av(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ro={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(xe.test(e))e=parseFloat(e);else return e;const n=Av(e,t.target.x),r=Av(e,t.target.y);return`${n}% ${r}%`}},WP={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=$r.parse(e);if(o.length>5)return r;const a=$r.createTransformer(e),l=typeof o[0]!="number"?1:0,d=n.x.scale*t.x,h=n.y.scale*t.y;o[0+l]/=d,o[1+l]/=h;const m=Ge(d,h,.5);return typeof o[2+l]=="number"&&(o[2+l]/=m),typeof o[3+l]=="number"&&(o[3+l]/=m),a(o)}};let eh=!1;class HP extends w.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:a}=t;fT(qP),a&&(n.group&&n.group.add(a),r&&r.register&&o&&r.register(a),eh&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),tc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:a}=this.props,{projection:l}=r;return l&&(l.isPresent=a,eh=!0,o||t.layoutDependency!==n||n===void 0||t.isPresent!==a?l.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?l.promote():l.relegate()||$e.postRender(()=>{const d=l.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),rm.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;eh=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ob(e){const[t,n]=Nw(),r=w.useContext(If);return u.jsx(HP,{...e,layoutGroup:r,switchLayoutGroup:w.useContext(Uw),isPresent:t,safeToRemove:n})}const qP={borderRadius:{...Ro,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ro,borderTopRightRadius:Ro,borderBottomLeftRadius:Ro,borderBottomRightRadius:Ro,boxShadow:WP};function KP(e,t,n){const r=_t(e)?e:yn(e);return r.start(mm("",r,t,n)),r.animation}const GP=(e,t)=>e.depth-t.depth;class YP{constructor(){this.children=[],this.isDirty=!1}add(t){Lf(this.children,t),this.isDirty=!0}remove(t){Mf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(GP),this.isDirty=!1,this.children.forEach(t)}}function XP(e,t){const n=Mt.now(),r=({timestamp:o})=>{const a=o-n;a>=t&&(vn(r),e(a-t))};return $e.setup(r,!0),()=>vn(r)}const ab=["TopLeft","TopRight","BottomLeft","BottomRight"],JP=ab.length,Ov=e=>typeof e=="string"?parseFloat(e):e,Iv=e=>typeof e=="number"||xe.test(e);function QP(e,t,n,r,o,a){o?(e.opacity=Ge(0,n.opacity??1,ZP(r)),e.opacityExit=Ge(t.opacity??1,0,eR(r))):a&&(e.opacity=Ge(t.opacity??1,n.opacity??1,r));for(let l=0;l<JP;l++){const d=`border${ab[l]}Radius`;let h=Dv(t,d),m=Dv(n,d);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||Iv(h)===Iv(m)?(e[d]=Math.max(Ge(Ov(h),Ov(m),r),0),(Pn.test(m)||Pn.test(h))&&(e[d]+="%")):e[d]=m}(t.rotate||n.rotate)&&(e.rotate=Ge(t.rotate||0,n.rotate||0,r))}function Dv(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const ZP=lb(0,.5,Hx),eR=lb(.5,.95,$t);function lb(e,t,n){return r=>r<e?0:r>t?1:n(ji(e,t,r))}function Lv(e,t){e.min=t.min,e.max=t.max}function Qt(e,t){Lv(e.x,t.x),Lv(e.y,t.y)}function Mv(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function $v(e,t,n,r,o){return e-=t,e=hc(e,1/n,r),o!==void 0&&(e=hc(e,1/o,r)),e}function tR(e,t=0,n=1,r=.5,o,a=e,l=e){if(Pn.test(t)&&(t=parseFloat(t),t=Ge(l.min,l.max,t/100)-l.min),typeof t!="number")return;let d=Ge(a.min,a.max,r);e===a&&(d-=t),e.min=$v(e.min,t,n,d,o),e.max=$v(e.max,t,n,d,o)}function Fv(e,t,[n,r,o],a,l){tR(e,t[n],t[r],t[o],t.scale,a,l)}const nR=["x","scaleX","originX"],rR=["y","scaleY","originY"];function Uv(e,t,n,r){Fv(e.x,t,nR,n?n.x:void 0,r?r.x:void 0),Fv(e.y,t,rR,n?n.y:void 0,r?r.y:void 0)}function Vv(e){return e.translate===0&&e.scale===1}function cb(e){return Vv(e.x)&&Vv(e.y)}function Bv(e,t){return e.min===t.min&&e.max===t.max}function sR(e,t){return Bv(e.x,t.x)&&Bv(e.y,t.y)}function zv(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function ub(e,t){return zv(e.x,t.x)&&zv(e.y,t.y)}function Wv(e){return Et(e.x)/Et(e.y)}function Hv(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class iR{constructor(){this.members=[]}add(t){Lf(this.members,t),t.scheduleRender()}remove(t){if(Mf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function oR(e,t,n){let r="";const o=e.x.translate/t.x,a=e.y.translate/t.y,l=(n==null?void 0:n.z)||0;if((o||a||l)&&(r=`translate3d(${o}px, ${a}px, ${l}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:m,rotate:p,rotateX:y,rotateY:v,skewX:b,skewY:k}=n;m&&(r=`perspective(${m}px) ${r}`),p&&(r+=`rotate(${p}deg) `),y&&(r+=`rotateX(${y}deg) `),v&&(r+=`rotateY(${v}deg) `),b&&(r+=`skewX(${b}deg) `),k&&(r+=`skewY(${k}deg) `)}const d=e.x.scale*t.x,h=e.y.scale*t.y;return(d!==1||h!==1)&&(r+=`scale(${d}, ${h})`),r||"none"}const th=["","X","Y","Z"],aR=1e3;let lR=0;function nh(e,t,n,r){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),r&&(r[e]=0))}function db(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Xw(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",$e,!(o||a))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&db(r)}function hb({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(l={},d=t==null?void 0:t()){this.id=lR++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(dR),this.nodes.forEach(pR),this.nodes.forEach(gR),this.nodes.forEach(hR)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new YP)}addEventListener(l,d){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Ff),this.eventHandlers.get(l).add(d)}notifyListeners(l,...d){const h=this.eventHandlers.get(l);h&&h.notify(...d)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=im(l)&&!JN(l),this.instance=l;const{layoutId:d,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||d)&&(this.isLayoutDirty=!0),e){let p,y=0;const v=()=>this.root.updateBlockedByResize=!1;$e.read(()=>{y=window.innerWidth}),e(l,()=>{const b=window.innerWidth;b!==y&&(y=b,this.root.updateBlockedByResize=!0,p&&p(),p=XP(v,250),tc.hasAnimatedSinceResize&&(tc.hasAnimatedSinceResize=!1,this.nodes.forEach(Gv)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||h)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:y,hasRelativeLayoutChanged:v,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||m.getDefaultTransition()||bR,{onLayoutAnimationStart:S,onLayoutAnimationComplete:_}=m.getProps(),j=!this.targetLayout||!ub(this.targetLayout,b),N=!y&&v;if(this.options.layoutRoot||this.resumeFrom||N||y&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...em(k,"layout"),onPlay:S,onComplete:_};(m.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(p,N)}else y||Gv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),vn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yR),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&db(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const y=this.path[p];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(qv);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Kv);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(mR),this.nodes.forEach(cR),this.nodes.forEach(uR)):this.nodes.forEach(Kv),this.clearAllSnapshots();const d=Mt.now();pt.delta=On(0,1e3/60,d-pt.timestamp),pt.timestamp=d,pt.isProcessing=!0,Wd.update.process(pt),Wd.preRender.process(pt),Wd.render.process(pt),pt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,rm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(fR),this.sharedNodes.forEach(vR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,$e.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){$e.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Et(this.snapshot.measuredBox.x)&&!Et(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=et(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(d=!1),d&&this.instance){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!o)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!cb(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,p=m!==this.prevTransformTemplateValue;l&&this.instance&&(d||ls(this.latestValues)||p)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return l&&(h=this.removeTransform(h)),SR(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:l}=this.options;if(!l)return et();const d=l.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(_R))){const{scroll:p}=this.root;p&&(gi(d.x,p.offset.x),gi(d.y,p.offset.y))}return d}removeElementScroll(l){var h;const d=et();if(Qt(d,l),(h=this.scroll)!=null&&h.wasRoot)return d;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:v}=p;p!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&Qt(d,l),gi(d.x,y.offset.x),gi(d.y,y.offset.y))}return d}applyTransform(l,d=!1){const h=et();Qt(h,l);for(let m=0;m<this.path.length;m++){const p=this.path[m];!d&&p.options.layoutScroll&&p.scroll&&p!==p.root&&yi(h,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),ls(p.latestValues)&&yi(h,p.latestValues)}return ls(this.latestValues)&&yi(h,this.latestValues),h}removeTransform(l){const d=et();Qt(d,l);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!ls(m.latestValues))continue;zh(m.latestValues)&&m.updateSnapshot();const p=et(),y=m.measurePageBox();Qt(p,y),Uv(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,p)}return ls(this.latestValues)&&Uv(d,this.latestValues),d}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var v;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==d;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:y}=this.options;if(!(!this.layout||!(p||y))){if(this.resolvedRelativeTargetAt=pt.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=et(),this.relativeTargetOrigin=et(),Bo(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Qt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=et(),this.targetWithTransforms=et()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),TP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Qt(this.target,this.layout.layoutBox),Ww(this.target,this.targetDelta)):Qt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=et(),this.relativeTargetOrigin=et(),Bo(this.relativeTargetOrigin,this.target,b.target),Qt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||zh(this.parent.latestValues)||zw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var k;const l=this.getLead(),d=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||(k=this.parent)!=null&&k.isProjectionDirty)&&(h=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===pt.timestamp&&(h=!1),h)return;const{layout:m,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||p))return;Qt(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,v=this.treeScale.y;VT(this.layoutCorrected,this.treeScale,this.path,d),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=et());const{target:b}=l;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Mv(this.prevProjectionDelta.x,this.projectionDelta.x),Mv(this.prevProjectionDelta.y,this.projectionDelta.y)),Vo(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==v||!Hv(this.projectionDelta.x,this.prevProjectionDelta.x)||!Hv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=vi(),this.projectionDelta=vi(),this.projectionDeltaWithTransform=vi()}setAnimationOrigin(l,d=!1){const h=this.snapshot,m=h?h.latestValues:{},p={...this.latestValues},y=vi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const v=et(),b=h?h.source:void 0,k=this.layout?this.layout.source:void 0,S=b!==k,_=this.getStack(),j=!_||_.members.length<=1,N=!!(S&&!j&&this.options.crossfade===!0&&!this.path.some(wR));this.animationProgress=0;let E;this.mixTargetDelta=P=>{const R=P/1e3;Yv(y.x,l.x,R),Yv(y.y,l.y,R),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Bo(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),xR(this.relativeTarget,this.relativeTargetOrigin,v,R),E&&sR(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=et()),Qt(E,this.relativeTarget)),S&&(this.animationValues=p,QP(p,m,this.latestValues,R,N,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var d,h,m;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(m=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||m.stop(),this.pendingAnimation&&(vn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$e.update(()=>{tc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=yn(0)),this.currentAnimation=KP(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),l.onUpdate&&l.onUpdate(p)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(aR),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:d,target:h,layout:m,latestValues:p}=l;if(!(!d||!h||!m)){if(this!==l&&this.layout&&m&&fb(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||et();const y=Et(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+y;const v=Et(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+v}Qt(d,h),yi(d,p),Vo(this.projectionDeltaWithTransform,this.layoutCorrected,d,p)}}registerSharedNode(l,d){this.sharedNodes.has(l)||this.sharedNodes.set(l,new iR),this.sharedNodes.get(l).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var d;const{layoutId:l}=this.options;return l?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:l}=this.options;return l?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:d,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let d=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(d=!0),!d)return;const m={};h.z&&nh("z",l,m,this.animationValues);for(let p=0;p<th.length;p++)nh(`rotate${th[p]}`,l,m,this.animationValues),nh(`skew${th[p]}`,l,m,this.animationValues);l.render();for(const p in m)l.setStaticValue(p,m[p]),this.animationValues&&(this.animationValues[p]=m[p]);l.scheduleRender()}applyProjectionStyles(l,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=ec(d==null?void 0:d.pointerEvents)||"",l.transform=h?h(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=ec(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!ls(this.latestValues)&&(l.transform=h?h({},""):"none",this.hasProjected=!1);return}l.visibility="";const p=m.animationValues||m.latestValues;this.applyTransformsToTarget();let y=oR(this.projectionDeltaWithTransform,this.treeScale,p);h&&(y=h(p,y)),l.transform=y;const{x:v,y:b}=this.projectionDelta;l.transformOrigin=`${v.origin*100}% ${b.origin*100}% 0`,m.animationValues?l.opacity=m===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:l.opacity=m===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const k in Qo){if(p[k]===void 0)continue;const{correct:S,applyTo:_,isCSSVariable:j}=Qo[k],N=y==="none"?p[k]:S(p[k],m);if(_){const E=_.length;for(let P=0;P<E;P++)l[_[P]]=N}else j?this.options.visualElement.renderState.vars[k]=N:l[k]=N}this.options.layoutId&&(l.pointerEvents=m===this?ec(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var d;return(d=l.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(qv),this.root.sharedNodes.clear()}}}function cR(e){e.updateLayout()}function uR(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=e.layout,{animationType:a}=e.options,l=t.source!==e.layout.source;a==="size"?Zt(y=>{const v=l?t.measuredBox[y]:t.layoutBox[y],b=Et(v);v.min=r[y].min,v.max=v.min+b}):fb(a,t.layoutBox,r)&&Zt(y=>{const v=l?t.measuredBox[y]:t.layoutBox[y],b=Et(r[y]);v.max=v.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+b)});const d=vi();Vo(d,r,t.layoutBox);const h=vi();l?Vo(h,e.applyTransform(o,!0),t.measuredBox):Vo(h,r,t.layoutBox);const m=!cb(d);let p=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:b}=y;if(v&&b){const k=et();Bo(k,t.layoutBox,v.layoutBox);const S=et();Bo(S,r,b.layoutBox),ub(k,S)||(p=!0),y.options.layoutRoot&&(e.relativeTarget=S,e.relativeTargetOrigin=k,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:h,layoutDelta:d,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function dR(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function hR(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function fR(e){e.clearSnapshot()}function qv(e){e.clearMeasurements()}function Kv(e){e.isLayoutDirty=!1}function mR(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Gv(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function pR(e){e.resolveTargetDelta()}function gR(e){e.calcProjection()}function yR(e){e.resetSkewAndRotation()}function vR(e){e.removeLeadSnapshot()}function Yv(e,t,n){e.translate=Ge(t.translate,0,n),e.scale=Ge(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Xv(e,t,n,r){e.min=Ge(t.min,n.min,r),e.max=Ge(t.max,n.max,r)}function xR(e,t,n,r){Xv(e.x,t.x,n.x,r),Xv(e.y,t.y,n.y,r)}function wR(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const bR={duration:.45,ease:[.4,0,.1,1]},Jv=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Qv=Jv("applewebkit/")&&!Jv("chrome/")?Math.round:$t;function Zv(e){e.min=Qv(e.min),e.max=Qv(e.max)}function SR(e){Zv(e.x),Zv(e.y)}function fb(e,t,n){return e==="position"||e==="preserve-aspect"&&!NP(Wv(t),Wv(n),.2)}function _R(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const jR=hb({attachResizeListener:(e,t)=>Zo(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rh={current:void 0},mb=hb({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!rh.current){const e=new jR({});e.mount(window),e.setOptions({layoutScroll:!0}),rh.current=e}return rh.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),CR={pan:{Feature:zP},drag:{Feature:BP,ProjectionNode:mb,MeasureLayout:ob}};function e0(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,a=r[o];a&&$e.postRender(()=>a(t,ma(t)))}class kR extends Vr{mount(){const{current:t}=this.node;t&&(this.unmount=MN(t,(n,r)=>(e0(this.node,r,"Start"),o=>e0(this.node,o,"End"))))}unmount(){}}class ER extends Vr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=da(Zo(this.node.current,"focus",()=>this.onFocus()),Zo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function t0(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),a=r[o];a&&$e.postRender(()=>a(t,ma(t)))}class NR extends Vr{mount(){const{current:t}=this.node;t&&(this.unmount=VN(t,(n,r)=>(t0(this.node,r,"Start"),(o,{success:a})=>t0(this.node,o,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Xh=new WeakMap,sh=new WeakMap,TR=e=>{const t=Xh.get(e.target);t&&t(e)},PR=e=>{e.forEach(TR)};function RR({root:e,...t}){const n=e||document;sh.has(n)||sh.set(n,{});const r=sh.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(PR,{root:e,...t})),r[o]}function AR(e,t,n){const r=RR(t);return Xh.set(e,n),r.observe(e),()=>{Xh.delete(e),r.unobserve(e)}}const OR={some:0,all:1};class IR extends Vr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:a}=t,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:OR[o]},d=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,a&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:p,onViewportLeave:y}=this.node.getProps(),v=m?p:y;v&&v(h)};return AR(this.node.current,l,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(DR(t,n))&&this.startObserver()}unmount(){}}function DR({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const LR={inView:{Feature:IR},tap:{Feature:NR},focus:{Feature:ER},hover:{Feature:kR}},MR={layout:{ProjectionNode:mb,MeasureLayout:ob}},$R={...SP,...LR,...CR,...MR},K=$T($R,JT),FR=50,n0=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),UR=()=>({time:0,x:n0(),y:n0()}),VR={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function r0(e,t,n,r){const o=n[t],{length:a,position:l}=VR[t],d=o.current,h=n.time;o.current=e[`scroll${l}`],o.scrollLength=e[`scroll${a}`]-e[`client${a}`],o.offset.length=0,o.offset[0]=0,o.offset[1]=o.scrollLength,o.progress=ji(0,o.scrollLength,o.current);const m=r-h;o.velocity=m>FR?0:Uf(o.current-d,m)}function BR(e,t,n){r0(e,"x",t,n),r0(e,"y",t,n),t.time=n}function zR(e,t){const n={x:0,y:0};let r=e;for(;r&&r!==t;)if(nm(r))n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const o=r.getBoundingClientRect();r=r.parentElement;const a=r.getBoundingClientRect();n.x+=o.left-a.left,n.y+=o.top-a.top}else if(r instanceof SVGGraphicsElement){const{x:o,y:a}=r.getBBox();n.x+=o,n.y+=a;let l=null,d=r.parentNode;for(;!l;)d.tagName==="svg"&&(l=d),d=r.parentNode;r=l}else break;return n}const Jh={start:0,center:.5,end:1};function s0(e,t,n=0){let r=0;if(e in Jh&&(e=Jh[e]),typeof e=="string"){const o=parseFloat(e);e.endsWith("px")?r=o:e.endsWith("%")?e=o/100:e.endsWith("vw")?r=o/100*document.documentElement.clientWidth:e.endsWith("vh")?r=o/100*document.documentElement.clientHeight:e=o}return typeof e=="number"&&(r=t*e),n+r}const WR=[0,0];function HR(e,t,n,r){let o=Array.isArray(e)?e:WR,a=0,l=0;return typeof e=="number"?o=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?o=e.split(" "):o=[e,Jh[e]?e:"0"]),a=s0(o[0],n,r),l=s0(o[1],t),a-l}const qR={All:[[0,0],[1,1]]},KR={x:0,y:0};function GR(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function YR(e,t,n){const{offset:r=qR.All}=n,{target:o=e,axis:a="y"}=n,l=a==="y"?"height":"width",d=o!==e?zR(o,e):KR,h=o===e?{width:e.scrollWidth,height:e.scrollHeight}:GR(o),m={width:e.clientWidth,height:e.clientHeight};t[a].offset.length=0;let p=!t[a].interpolate;const y=r.length;for(let v=0;v<y;v++){const b=HR(r[v],m[l],h[l],d[a]);!p&&b!==t[a].interpolatorOffsets[v]&&(p=!0),t[a].offset[v]=b}p&&(t[a].interpolate=Yf(t[a].offset,ow(r),{clamp:!1}),t[a].interpolatorOffsets=[...t[a].offset]),t[a].progress=On(0,1,t[a].interpolate(t[a].current))}function XR(e,t=e,n){if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let r=t;for(;r&&r!==e;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}function JR(e,t,n,r={}){return{measure:o=>{XR(e,r.target,n),BR(e,n,o),(r.offset||r.target)&&YR(e,n,r)},notify:()=>t(n)}}const Ao=new WeakMap,i0=new WeakMap,ih=new WeakMap,o0=e=>e===document.scrollingElement?window:e;function pb(e,{container:t=document.scrollingElement,...n}={}){if(!t)return $t;let r=ih.get(t);r||(r=new Set,ih.set(t,r));const o=UR(),a=JR(t,e,o,n);if(r.add(a),!Ao.has(t)){const d=()=>{for(const y of r)y.measure(pt.timestamp);$e.preUpdate(h)},h=()=>{for(const y of r)y.notify()},m=()=>$e.read(d);Ao.set(t,m);const p=o0(t);window.addEventListener("resize",m,{passive:!0}),t!==document.documentElement&&i0.set(t,XN(t,m)),p.addEventListener("scroll",m,{passive:!0}),m()}const l=Ao.get(t);return $e.read(l,!1,!0),()=>{var m;vn(l);const d=ih.get(t);if(!d||(d.delete(a),d.size))return;const h=Ao.get(t);Ao.delete(t),h&&(o0(t).removeEventListener("scroll",h),(m=i0.get(t))==null||m(),window.removeEventListener("resize",h))}}const a0=new Map;function QR(e){const t={value:0},n=pb(r=>{t.value=r[e.axis].progress*100},e);return{currentTime:t,cancel:n}}function gb({source:e,container:t,...n}){const{axis:r}=n;e&&(t=e);const o=a0.get(t)??new Map;a0.set(t,o);const a=n.target??"self",l=o.get(a)??{},d=r+(n.offset??[]).join(",");return l[d]||(l[d]=!n.target&&uw()?new ScrollTimeline({source:t,axis:r}):QR({container:t,...n})),l[d]}function ZR(e,t){const n=gb(t);return e.attachTimeline({timeline:t.target?void 0:n,observe:r=>(r.pause(),Ew(o=>{r.time=r.iterationDuration*o},n))})}function eA(e){return e.length===2}function tA(e,t){return eA(e)?pb(n=>{e(n[t.axis].progress,n)},t):Ew(e,gb(t))}function nA(e,{axis:t="y",container:n=document.scrollingElement,...r}={}){if(!n)return $t;const o={axis:t,container:n,...r};return typeof e=="function"?tA(e,o):ZR(e,o)}const rA=()=>({scrollX:yn(0),scrollY:yn(0),scrollXProgress:yn(0),scrollYProgress:yn(0)}),Dl=e=>e?!e.current:!1;function sA({container:e,target:t,...n}={}){const r=Ai(rA),o=w.useRef(null),a=w.useRef(!1),l=w.useCallback(()=>(o.current=nA((d,{x:h,y:m})=>{r.scrollX.set(h.current),r.scrollXProgress.set(h.progress),r.scrollY.set(m.current),r.scrollYProgress.set(m.progress)},{...n,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0}),()=>{var d;(d=o.current)==null||d.call(o)}),[e,t,JSON.stringify(n.offset)]);return Nc(()=>{if(a.current=!1,Dl(e)||Dl(t)){a.current=!0;return}else return l()},[l]),w.useEffect(()=>{if(a.current)return Go(!Dl(e)),Go(!Dl(t)),l()},[l]),r}function iA(e){const t=Ai(()=>yn(e)),{isStatic:n}=w.useContext(Pc);if(n){const[,r]=w.useState(e);w.useEffect(()=>t.on("change",r),[])}return t}function yb(e,t){const n=iA(t()),r=()=>n.set(t());return r(),Nc(()=>{const o=()=>$e.preRender(r,!1,!0),a=e.map(l=>l.on("change",o));return()=>{a.forEach(l=>l()),vn(r)}}),n}function oA(e){Fo.current=[],e();const t=yb(Fo.current,e);return Fo.current=void 0,t}function l0(e,t,n,r){if(typeof e=="function")return oA(e);const o=typeof t=="function"?t:QN(t,n,r);return Array.isArray(e)?c0(e,o):c0([e],([a])=>o(a))}function c0(e,t){const n=Ai(()=>[]);return yb(e,()=>{n.length=0;const r=e.length;for(let o=0;o<r;o++)n[o]=e[o].get();return t(n)})}const u0=[{name:"Home",text:"🏠",path:"Home",description:"Return to main hub"},{name:"Character",text:"👤",path:"Character",description:"Manage heroes"},{name:"Adventure",text:"⚔️",path:"QuestSelection",description:"Begin quests"},{name:"DM Tools",text:"📚",path:"DMTools",description:"Create adventures"}];function aA(){const e=nn(),t=e.pathname===Ue("Home")||e.pathname==="/";return u.jsxs(u.Fragment,{children:[u.jsxs("nav",{className:"hidden md:flex flex-col w-72 h-screen sticky top-0 z-50",style:{background:"linear-gradient(135deg, #1a1a1a 0%, #0a0a0a 50%, #1a1a1a 100%)",borderRight:"2px solid var(--border-gold)",boxShadow:"inset -8px 0 24px rgba(0, 0, 0, 0.5), 8px 0 32px rgba(0, 0, 0, 0.6)"},children:[u.jsx("div",{className:"p-8 border-b-2 border-amber-900/30 relative",children:u.jsxs("div",{className:"text-center mb-4 relative",children:[u.jsx("h1",{className:"dynamic-title-sidebar text-amber-100 tracking-wider",style:{fontFamily:"var(--font-header)",textShadow:"0 0 20px rgba(212, 175, 55, 0.5), 2px 2px 4px rgba(0,0,0,0.8)"},children:"DungeonRoller"}),u.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-transparent via-amber-400 to-transparent mx-auto mt-3"}),u.jsx("p",{className:"text-amber-200/60 text-xs mt-2 uppercase tracking-widest",style:{fontFamily:"var(--font-body)"},children:"Epic Adventures Await"})]})}),u.jsx("div",{className:"p-6 flex-1",children:u.jsx("ul",{className:"space-y-2",children:u0.map((n,r)=>{const o=e.pathname===Ue(n.path);return u.jsx(K.li,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:r*.1},children:u.jsxs(en,{to:Ue(n.path),className:`flex items-center gap-4 text-base p-4 rounded-lg transition-all duration-300 relative group ${o?"bg-gradient-to-r from-amber-900/50 to-amber-800/30 text-amber-100 border-l-4 border-amber-400 shadow-lg":"text-amber-200/70 hover:bg-amber-900/20 hover:text-amber-100 hover:border-l-4 hover:border-amber-600/50"}`,style:{fontFamily:"var(--font-header)"},children:[u.jsx("span",{className:"text-2xl transform group-hover:scale-110 transition-transform",children:n.text}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-semibold tracking-wide",children:n.name}),u.jsx("div",{className:"text-xs text-amber-300/50 group-hover:text-amber-300/70 transition-colors",style:{fontFamily:"var(--font-body)"},children:n.description})]}),o&&u.jsx(K.div,{layoutId:"activeIndicator",className:"absolute right-2 w-2 h-2 rounded-full bg-amber-400 shadow-lg",style:{boxShadow:"0 0 10px rgba(212, 175, 55, 0.8)"}})]})},n.name)})})}),u.jsx("div",{className:"p-6 border-t-2 border-amber-900/30",children:u.jsxs("div",{className:"text-center text-amber-300/40 text-xs",style:{fontFamily:"var(--font-fantasy)"},children:[u.jsx("p",{children:'"Roll the dice,'}),u.jsx("p",{children:'Write your legend"'})]})})]}),u.jsx(_s,{children:!t&&u.jsx(K.nav,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"fixed bottom-4 left-1/2 -translate-x-1/2 w-[95%] max-w-lg h-20 bg-gradient-to-r from-gray-900/95 via-black/95 to-gray-900/95 backdrop-blur-xl border-2 border-amber-500/30 rounded-2xl shadow-2xl z-50 flex items-center justify-around md:hidden",style:{boxShadow:"0 8px 32px rgba(0, 0, 0, 0.8), inset 0 1px 0 rgba(255, 255, 255, 0.1)"},children:u0.map((n,r)=>{const o=Ue(n.path),a=e.pathname===o;return u.jsxs(en,{to:o,className:"flex flex-col items-center justify-center relative",children:[u.jsxs(K.div,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"relative",children:[u.jsx("span",{className:`text-2xl mb-1 transition-all duration-200 ${a?"text-amber-400 drop-shadow-[0_0_8px_rgba(212,175,55,0.8)]":"text-white/70"}`,children:n.text}),a&&u.jsx(K.div,{layoutId:"mobileActiveIndicator",className:"absolute -bottom-2 left-1/2 -translate-x-1/2 w-1 h-1 rounded-full bg-amber-400",style:{boxShadow:"0 0 10px rgba(212, 175, 55, 1)"}})]}),u.jsx("span",{className:`text-[10px] font-semibold transition-colors duration-200 uppercase tracking-wider ${a?"text-white":"text-white/60"}`,style:{fontFamily:"var(--font-header)"},children:n.name})]},n.name)})})})]})}function d0(){return u.jsx("footer",{className:"bg-gradient-to-r from-gray-900/95 via-black/95 to-gray-900/95 border-t-2 border-amber-500/30 mt-auto",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-8",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"text-center md:text-left",children:[u.jsx("h3",{className:"text-xl font-bold text-amber-400 mb-3",style:{fontFamily:"var(--font-header)"},children:"DungeonRoller"}),u.jsx("p",{className:"text-amber-100/60 text-sm mb-2",children:"Epic tabletop RPG adventures"}),u.jsx("p",{className:"text-amber-100/80 text-xs",children:"© 2025 Summit Software Solutions LLC"}),u.jsx("p",{className:"text-amber-100/60 text-xs mt-1",children:"All rights reserved."})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("h4",{className:"text-lg font-semibold text-amber-400 mb-3",style:{fontFamily:"var(--font-header)"},children:"Legal"}),u.jsxs("div",{className:"flex flex-col space-y-2",children:[u.jsx(en,{to:Ue("About"),className:"text-amber-100/70 hover:text-amber-400 text-sm transition-colors",children:"About Us"}),u.jsx(en,{to:Ue("Terms"),className:"text-amber-100/70 hover:text-amber-400 text-sm transition-colors",children:"Terms of Service"}),u.jsx(en,{to:Ue("Privacy"),className:"text-amber-100/70 hover:text-amber-400 text-sm transition-colors",children:"Privacy Policy"}),u.jsx(en,{to:Ue("Contact"),className:"text-amber-100/70 hover:text-amber-400 text-sm transition-colors",children:"Contact Us"})]})]}),u.jsxs("div",{className:"text-center md:text-right",children:[u.jsx("h4",{className:"text-lg font-semibold text-amber-400 mb-3",style:{fontFamily:"var(--font-header)"},children:"Contact"}),u.jsx("div",{className:"text-sm text-amber-100/70 space-y-2",children:u.jsxs("p",{children:[u.jsx("strong",{className:"text-amber-400",children:"Email:"}),u.jsx("br",{}),u.jsx("a",{href:"mailto:info@summitsoftwaresolutions.dev",className:"hover:text-amber-400 transition-colors",children:"info@summitsoftwaresolutions.dev"})]})})]})]}),u.jsxs("div",{className:"mt-8 pt-6 border-t border-amber-500/20 text-center",children:[u.jsx("p",{className:"text-amber-100/50 text-xs",style:{fontFamily:"var(--font-fantasy)"},children:'"Roll the dice, write your legend"'}),u.jsxs("p",{className:"text-amber-100/60 text-xs mt-2",children:["Developed by ",u.jsx("span",{className:"text-amber-400 font-semibold",children:"Summit Software Solutions LLC"})]})]})]})})}function lA({children:e,currentPageName:t}){const n=nn(),r=n.pathname===Ue("Home")||n.pathname==="/";return u.jsxs("div",{className:"min-h-screen bg-fixed bg-cover bg-center text-amber-50 flex flex-col",style:{backgroundImage:"url('https://images.unsplash.com/photo-1578662996442-48f60103fc96?q=80&w=2070')"},children:[u.jsx("style",{children:`
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;600;700&family=Open+Sans:wght@300;400;600;700&family=Uncial+Antiqua&display=swap');

        :root {
          --font-heading: 'Cinzel', serif;
          --font-body: 'Open Sans', sans-serif;
          --font-accent: 'Cinzel', serif;
          --font-header: 'Cinzel', serif;
          --font-fantasy: 'Uncial Antiqua', cursive;
          --border-gold: #d4af37;
        }

        body {
          margin: 0;
          padding: 0;
          font-family: var(--font-body);
        }

        .floating-particles {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          pointer-events: none;
          z-index: 1;
          overflow: hidden;
        }

        .particle {
          position: absolute;
          width: 4px;
          height: 4px;
          background: radial-gradient(circle, rgba(212, 175, 55, 0.8), transparent);
          border-radius: 50%;
          animation: float linear infinite;
          opacity: 0;
        }

        @keyframes float {
          0% {
            transform: translateY(100vh) translateX(0) rotate(0deg);
            opacity: 0;
          }
          10% {
            opacity: 1;
          }
          90% {
            opacity: 1;
          }
          100% {
            transform: translateY(-100vh) translateX(50px) rotate(360deg);
            opacity: 0;
          }
        }

        .parchment {
          background: linear-gradient(135deg,
            rgba(245, 222, 179, 0.95) 0%,
            rgba(222, 184, 135, 0.95) 50%,
            rgba(210, 180, 140, 0.95) 100%);
          border: 3px solid #8b7355;
          border-radius: 12px;
          box-shadow:
            inset 0 0 30px rgba(139, 115, 85, 0.3),
            0 8px 32px rgba(0, 0, 0, 0.4),
            0 0 0 1px rgba(255, 255, 255, 0.1);
          position: relative;
        }

        .parchment::before {
          content: '';
          position: absolute;
          inset: 0;
          background:
            repeating-linear-gradient(
              0deg,
              transparent,
              transparent 2px,
              rgba(139, 115, 85, 0.03) 2px,
              rgba(139, 115, 85, 0.03) 4px
            );
          border-radius: 12px;
          pointer-events: none;
        }

        .btn-scroll {
          background: linear-gradient(135deg, #8b7355 0%, #6b5844 100%);
          color: #f5f5dc;
          border: 2px solid var(--border-gold);
          font-family: var(--font-heading);
          font-weight: 600;
          padding: 12px 24px;
          border-radius: 8px;
          cursor: pointer;
          transition: all 0.3s ease;
          text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .btn-scroll:hover:not(:disabled) {
          background: linear-gradient(135deg, #6b5844 0%, #5a4a38 100%);
          transform: translateY(-2px);
          box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
          border-color: #ffd700;
        }

        .btn-scroll:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        .btn-scroll-danger {
          background: linear-gradient(135deg, #8b0000 0%, #660000 100%);
          color: #ffd700;
          border: 2px solid var(--border-gold);
          font-family: var(--font-heading);
          font-weight: 700;
          padding: 12px 24px;
          border-radius: 8px;
          cursor: pointer;
          transition: all 0.3s ease;
          text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
        }

        .btn-scroll-danger:hover:not(:disabled) {
          background: linear-gradient(135deg, #a00000 0%, #800000 100%);
          transform: translateY(-2px);
          box-shadow: 0 6px 20px rgba(139, 0, 0, 0.5);
          border-color: #ffd700;
        }

        .btn-scroll-danger:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        .dynamic-title {
          font-size: clamp(2.5rem, 5vw, 4rem);
          font-weight: 700;
          text-shadow:
            0 0 20px rgba(212, 175, 55, 0.5),
            2px 2px 4px rgba(0, 0, 0, 0.8),
            4px 4px 8px rgba(0, 0, 0, 0.5);
        }

        .dynamic-title-sidebar {
          font-size: clamp(1.5rem, 3vw, 2rem);
          font-weight: 700;
        }

        @media (max-width: 768px) {
          .dynamic-title {
            font-size: clamp(2rem, 6vw, 3rem);
          }
        }

        * {
          box-sizing: border-box;
        }
      `}),u.jsx("div",{className:"floating-particles",children:[...Array(15)].map((o,a)=>u.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*12}s`,animationDuration:`${10+Math.random()*6}s`}},a))}),u.jsxs("div",{className:"flex flex-col md:flex-row relative z-10 flex-1",children:[!r&&u.jsx(aA,{}),u.jsxs("main",{className:`flex-1 relative z-10 w-full flex flex-col ${r?"":"p-4 md:p-8 pt-24 pb-24 md:pt-8"}`,children:[u.jsx("div",{className:"flex-1",children:e}),!r&&u.jsx(d0,{})]})]}),r&&u.jsx("div",{className:"relative z-10",children:u.jsx(d0,{})})]})}const oh=({icon:e,title:t,description:n,index:r})=>{const o=r%2===0;return u.jsxs(K.div,{initial:{opacity:0,y:100},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.8,delay:.2},className:`flex flex-col ${o?"md:flex-row":"md:flex-row-reverse"} items-center gap-8 md:gap-16 py-20`,children:[u.jsx(K.div,{whileInView:{scale:[.8,1.1,1]},viewport:{once:!0},transition:{duration:.6,delay:.4},className:"flex-shrink-0",children:u.jsx("div",{className:"w-32 h-32 md:w-48 md:h-48 flex items-center justify-center text-8xl md:text-9xl drop-shadow-2xl",children:e})}),u.jsxs("div",{className:`flex-1 ${o?"md:text-left":"md:text-right"} text-center`,children:[u.jsx(K.h2,{initial:{opacity:0,x:o?-50:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:.3},className:"text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6",style:{fontFamily:"var(--font-heading)",textShadow:"0 0 30px rgba(212, 175, 55, 0.5), 3px 3px 6px rgba(0,0,0,0.9)"},children:t}),u.jsx(K.p,{initial:{opacity:0,x:o?-50:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:.5},className:"text-xl md:text-2xl text-white/90 leading-relaxed max-w-2xl mx-auto md:mx-0",style:{textShadow:"2px 2px 4px rgba(0,0,0,0.8)"},children:n})]})]})};function Qh(){const{scrollYProgress:e}=sA(),t=l0(e,[0,.3],[1,0]),n=l0(e,[0,.3],[1,.8]);return u.jsxs("div",{className:"min-h-screen",children:[u.jsxs(K.div,{style:{opacity:t,scale:n},className:"relative min-h-screen flex flex-col items-center justify-center text-center px-4 sm:px-6",children:[u.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('https://user-gen-media-assets.s3.amazonaws.com/seedream_images/0363df8c-e50d-4b09-93d7-fced8b11ff68.png')"},children:u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/70 via-black/50 to-black/80"})}),u.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto",children:[u.jsx(K.h1,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1,delay:.2},className:"text-6xl sm:text-7xl md:text-8xl lg:text-9xl font-bold text-amber-400 mb-8",style:{fontFamily:"var(--font-heading)",textShadow:"0 0 40px rgba(212, 175, 55, 0.6), 4px 4px 8px rgba(0,0,0,0.9)"},children:"DungeonRoller"}),u.jsx(K.p,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:1,delay:.5},className:"text-2xl sm:text-3xl md:text-4xl text-white/95 max-w-4xl mx-auto leading-relaxed mb-12",style:{textShadow:"2px 2px 6px rgba(0,0,0,0.9)"},children:"Embark on epic adventures where your choices shape your legend. Roll the dice, face peril, and write your own story in a world of myth and magic."}),u.jsx(K.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.8},children:u.jsx(en,{to:Ue("QuestSelection"),children:u.jsxs("button",{className:"btn-scroll px-12 py-6 text-2xl shadow-2xl hover:shadow-amber-500/50 transition-all duration-300",children:[u.jsx("span",{className:"text-3xl mr-3",children:"⚔️"}),"Begin Your Quest"]})})}),u.jsx(K.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1,delay:1.5},className:"absolute bottom-12 left-1/2 transform -translate-x-1/2",children:u.jsx(K.div,{animate:{y:[0,10,0]},transition:{duration:1.5,repeat:1/0},className:"text-white/60 text-4xl",children:"↓"})})]})]}),u.jsxs("div",{className:"relative bg-gradient-to-b from-black/80 via-gray-900/95 to-black/80",children:[u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-20",children:[u.jsx(oh,{icon:"🎲",title:"Fateful Dice",description:"Experience realistic dice rolling that determines your character's triumphs and tribulations. Every roll matters in your journey through danger and glory.",index:0}),u.jsx(K.div,{initial:{scaleX:0},whileInView:{scaleX:1},viewport:{once:!0},transition:{duration:1},className:"w-full h-px bg-gradient-to-r from-transparent via-amber-500 to-transparent my-12"}),u.jsx(oh,{icon:"📖",title:"Living Tales",description:"Immerse yourself in rich, text-based adventures where every decision carves a new path. Your story unfolds dynamically, shaped by your choices and the roll of the dice.",index:1}),u.jsx(K.div,{initial:{scaleX:0},whileInView:{scaleX:1},viewport:{once:!0},transition:{duration:1},className:"w-full h-px bg-gradient-to-r from-transparent via-amber-500 to-transparent my-12"}),u.jsx(oh,{icon:"⚔️",title:"Forge a Hero",description:"Create and develop a unique character with deep progression systems. Level up, unlock abilities, and become a legend—but remember, death means permanent loss forever.",index:2})]}),u.jsxs(K.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center py-20 px-4",children:[u.jsx("h2",{className:"text-5xl md:text-6xl font-bold text-amber-400 mb-8",style:{fontFamily:"var(--font-heading)",textShadow:"0 0 30px rgba(212, 175, 55, 0.5), 3px 3px 6px rgba(0,0,0,0.9)"},children:"Your Legend Awaits"}),u.jsx("p",{className:"text-2xl text-white/90 mb-10 max-w-3xl mx-auto",children:"Join thousands of adventurers forging their own epic tales"}),u.jsx(en,{to:Ue("Character"),children:u.jsxs(K.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"btn-scroll-danger px-16 py-7 text-2xl shadow-2xl",children:[u.jsx("span",{className:"text-3xl mr-3",children:"✨"}),"Create Your Hero"]})})]})]})]})}const cA="modulepreload",uA=function(e){return"/"+e},h0={},pa=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){let l=function(m){return Promise.all(m.map(p=>Promise.resolve(p).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));o=l(n.map(m=>{if(m=uA(m),m in h0)return;h0[m]=!0;const p=m.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${y}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":cA,p||(v.as="script"),v.crossOrigin="",v.href=m,h&&v.setAttribute("nonce",h),document.head.appendChild(v),p)return new Promise((b,k)=>{v.addEventListener("load",b),v.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${m}`)))})}))}function a(l){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l}return o.then(l=>{for(const d of l||[])d.status==="rejected"&&a(d.reason);return t().catch(a)})},dA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>pa(async()=>{const{default:r}=await Promise.resolve().then(()=>Li);return{default:r}},[]).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class pm extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class f0 extends pm{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class m0 extends pm{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class p0 extends pm{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Zh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Zh||(Zh={}));var hA=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function d(p){try{m(r.next(p))}catch(y){l(y)}}function h(p){try{m(r.throw(p))}catch(y){l(y)}}function m(p){p.done?a(p.value):o(p.value).then(d,h)}m((r=r.apply(e,t||[])).next())})};class fA{constructor(t,{headers:n={},customFetch:r,region:o=Zh.Any}={}){this.url=t,this.headers=n,this.region=o,this.fetch=dA(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return hA(this,arguments,void 0,function*(n,r={}){var o;try{const{headers:a,method:l,body:d,signal:h}=r;let m={},{region:p}=r;p||(p=this.region);const y=new URL(`${this.url}/${n}`);p&&p!=="any"&&(m["x-region"]=p,y.searchParams.set("forceFunctionRegion",p));let v;d&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",v=d):typeof d=="string"?(m["Content-Type"]="text/plain",v=d):typeof FormData<"u"&&d instanceof FormData?v=d:(m["Content-Type"]="application/json",v=JSON.stringify(d)));const b=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),a),body:v,signal:h}).catch(j=>{throw j.name==="AbortError"?j:new f0(j)}),k=b.headers.get("x-relay-error");if(k&&k==="true")throw new m0(b);if(!b.ok)throw new p0(b);let S=((o=b.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),_;return S==="application/json"?_=yield b.json():S==="application/octet-stream"?_=yield b.blob():S==="text/event-stream"?_=b:S==="multipart/form-data"?_=yield b.formData():_=yield b.text(),{data:_,error:null,response:b}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new f0(a)}:{data:null,error:a,response:a instanceof p0||a instanceof m0?a.context:void 0}}})}}var mt={},Xs={},Js={},Qs={},Zs={},ei={},mA=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ki=mA();const pA=ki.fetch,vb=ki.fetch.bind(ki),xb=ki.Headers,gA=ki.Request,yA=ki.Response,Li=Object.freeze(Object.defineProperty({__proto__:null,Headers:xb,Request:gA,Response:yA,default:vb,fetch:pA},Symbol.toStringTag,{value:"Module"})),vA=wC(Li);var Ll={},g0;function wb(){if(g0)return Ll;g0=1,Object.defineProperty(Ll,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Ll.default=e,Ll}var y0;function bb(){if(y0)return ei;y0=1;var e=ei&&ei.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(ei,"__esModule",{value:!0});const t=e(vA),n=e(wb());class r{constructor(a){var l,d;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(l=a.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=a.signal,this.isMaybeSingle=(d=a.isMaybeSingle)!==null&&d!==void 0?d:!1,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,l){return this.headers=new Headers(this.headers),this.headers.set(a,l),this}then(a,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let h=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var p,y,v,b;let k=null,S=null,_=null,j=m.status,N=m.statusText;if(m.ok){if(this.method!=="HEAD"){const M=await m.text();M===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?S=M:S=JSON.parse(M))}const P=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),R=(v=m.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");P&&R&&R.length>1&&(_=parseInt(R[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(k={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,_=null,j=406,N="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const P=await m.text();try{k=JSON.parse(P),Array.isArray(k)&&m.status===404&&(S=[],k=null,j=200,N="OK")}catch{m.status===404&&P===""?(j=204,N="No Content"):k={message:P}}if(k&&this.isMaybeSingle&&(!((b=k==null?void 0:k.details)===null||b===void 0)&&b.includes("0 rows"))&&(k=null,j=200,N="OK"),k&&this.shouldThrowOnError)throw new n.default(k)}return{error:k,data:S,count:_,status:j,statusText:N}});return this.shouldThrowOnError||(h=h.catch(m=>{var p,y,v;return{error:{message:`${(p=m==null?void 0:m.name)!==null&&p!==void 0?p:"FetchError"}: ${m==null?void 0:m.message}`,details:`${(y=m==null?void 0:m.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(v=m==null?void 0:m.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),h.then(a,l)}returns(){return this}overrideTypes(){return this}}return ei.default=r,ei}var v0;function Sb(){if(v0)return Zs;v0=1;var e=Zs&&Zs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Zs,"__esModule",{value:!0});const t=e(bb());class n extends t.default{select(o){let a=!1;const l=(o??"*").split("").map(d=>/\s/.test(d)&&!a?"":(d==='"'&&(a=!a),d)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:a=!0,nullsFirst:l,foreignTable:d,referencedTable:h=d}={}){const m=h?`${h}.order`:"order",p=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${p?`${p},`:""}${o}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:a,referencedTable:l=a}={}){const d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(d,`${o}`),this}range(o,a,{foreignTable:l,referencedTable:d=l}={}){const h=typeof d>"u"?"offset":`${d}.offset`,m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${o}`),this.url.searchParams.set(m,`${a-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:a=!1,settings:l=!1,buffers:d=!1,wal:h=!1,format:m="text"}={}){var p;const y=[o?"analyze":null,a?"verbose":null,l?"settings":null,d?"buffers":null,h?"wal":null].filter(Boolean).join("|"),v=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${v}"; options=${y};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return Zs.default=n,Zs}var x0;function gm(){if(x0)return Qs;x0=1;var e=Qs&&Qs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Qs,"__esModule",{value:!0});const t=e(Sb());class n extends t.default{eq(o,a){return this.url.searchParams.append(o,`eq.${a}`),this}neq(o,a){return this.url.searchParams.append(o,`neq.${a}`),this}gt(o,a){return this.url.searchParams.append(o,`gt.${a}`),this}gte(o,a){return this.url.searchParams.append(o,`gte.${a}`),this}lt(o,a){return this.url.searchParams.append(o,`lt.${a}`),this}lte(o,a){return this.url.searchParams.append(o,`lte.${a}`),this}like(o,a){return this.url.searchParams.append(o,`like.${a}`),this}likeAllOf(o,a){return this.url.searchParams.append(o,`like(all).{${a.join(",")}}`),this}likeAnyOf(o,a){return this.url.searchParams.append(o,`like(any).{${a.join(",")}}`),this}ilike(o,a){return this.url.searchParams.append(o,`ilike.${a}`),this}ilikeAllOf(o,a){return this.url.searchParams.append(o,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(o,a){return this.url.searchParams.append(o,`ilike(any).{${a.join(",")}}`),this}is(o,a){return this.url.searchParams.append(o,`is.${a}`),this}in(o,a){const l=Array.from(new Set(a)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(o,`in.(${l})`),this}contains(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cs.{${a.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(a)}`),this}containedBy(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cd.{${a.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(a)}`),this}rangeGt(o,a){return this.url.searchParams.append(o,`sr.${a}`),this}rangeGte(o,a){return this.url.searchParams.append(o,`nxl.${a}`),this}rangeLt(o,a){return this.url.searchParams.append(o,`sl.${a}`),this}rangeLte(o,a){return this.url.searchParams.append(o,`nxr.${a}`),this}rangeAdjacent(o,a){return this.url.searchParams.append(o,`adj.${a}`),this}overlaps(o,a){return typeof a=="string"?this.url.searchParams.append(o,`ov.${a}`):this.url.searchParams.append(o,`ov.{${a.join(",")}}`),this}textSearch(o,a,{config:l,type:d}={}){let h="";d==="plain"?h="pl":d==="phrase"?h="ph":d==="websearch"&&(h="w");const m=l===void 0?"":`(${l})`;return this.url.searchParams.append(o,`${h}fts${m}.${a}`),this}match(o){return Object.entries(o).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(o,a,l){return this.url.searchParams.append(o,`not.${a}.${l}`),this}or(o,{foreignTable:a,referencedTable:l=a}={}){const d=l?`${l}.or`:"or";return this.url.searchParams.append(d,`(${o})`),this}filter(o,a,l){return this.url.searchParams.append(o,`${a}.${l}`),this}}return Qs.default=n,Qs}var w0;function _b(){if(w0)return Js;w0=1;var e=Js&&Js.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Js,"__esModule",{value:!0});const t=e(gm());class n{constructor(o,{headers:a={},schema:l,fetch:d}){this.url=o,this.headers=new Headers(a),this.schema=l,this.fetch=d}select(o,a){const{head:l=!1,count:d}=a??{},h=l?"HEAD":"GET";let m=!1;const p=(o??"*").split("").map(y=>/\s/.test(y)&&!m?"":(y==='"'&&(m=!m),y)).join("");return this.url.searchParams.set("select",p),d&&this.headers.append("Prefer",`count=${d}`),new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:a,defaultToNull:l=!0}={}){var d;const h="POST";if(a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const m=o.reduce((p,y)=>p.concat(Object.keys(y)),[]);if(m.length>0){const p=[...new Set(m)].map(y=>`"${y}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(o,{onConflict:a,ignoreDuplicates:l=!1,count:d,defaultToNull:h=!0}={}){var m;const p="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const y=o.reduce((v,b)=>v.concat(Object.keys(b)),[]);if(y.length>0){const v=[...new Set(y)].map(b=>`"${b}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(o,{count:a}={}){var l;const d="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:o}={}){var a;const l="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return Js.default=n,Js}var b0;function xA(){if(b0)return Xs;b0=1;var e=Xs&&Xs.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Xs,"__esModule",{value:!0});const t=e(_b()),n=e(gm());class r{constructor(a,{headers:l={},schema:d,fetch:h}={}){this.url=a,this.headers=new Headers(l),this.schemaName=d,this.fetch=h}from(a){const l=new URL(`${this.url}/${a}`);return new t.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new r(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,l={},{head:d=!1,get:h=!1,count:m}={}){var p;let y;const v=new URL(`${this.url}/rpc/${a}`);let b;d||h?(y=d?"HEAD":"GET",Object.entries(l).filter(([S,_])=>_!==void 0).map(([S,_])=>[S,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([S,_])=>{v.searchParams.append(S,_)})):(y="POST",b=l);const k=new Headers(this.headers);return m&&k.set("Prefer",`count=${m}`),new n.default({method:y,url:v,headers:k,schema:this.schemaName,body:b,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return Xs.default=r,Xs}var S0;function wA(){if(S0)return mt;S0=1;var e=mt&&mt.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(mt,"__esModule",{value:!0}),mt.PostgrestError=mt.PostgrestBuilder=mt.PostgrestTransformBuilder=mt.PostgrestFilterBuilder=mt.PostgrestQueryBuilder=mt.PostgrestClient=void 0;const t=e(xA());mt.PostgrestClient=t.default;const n=e(_b());mt.PostgrestQueryBuilder=n.default;const r=e(gm());mt.PostgrestFilterBuilder=r.default;const o=e(Sb());mt.PostgrestTransformBuilder=o.default;const a=e(bb());mt.PostgrestBuilder=a.default;const l=e(wb());return mt.PostgrestError=l.default,mt.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:a.default,PostgrestError:l.default},mt}var bA=wA();const SA=Cc(bA),{PostgrestClient:_A,PostgrestQueryBuilder:E4,PostgrestFilterBuilder:N4,PostgrestTransformBuilder:T4,PostgrestBuilder:P4,PostgrestError:R4}=SA;class jA{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const CA="2.74.0",kA=`realtime-js/${CA}`,EA="1.0.0",ef=1e4,NA=1e3,TA=100;var zo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(zo||(zo={}));var ct;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ct||(ct={}));var gn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(gn||(gn={}));var tf;(function(e){e.websocket="websocket"})(tf||(tf={}));var us;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(us||(us={}));class PA{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const o=n.getUint8(1),a=n.getUint8(2);let l=this.HEADER_LENGTH+2;const d=r.decode(t.slice(l,l+o));l=l+o;const h=r.decode(t.slice(l,l+a));l=l+a;const m=JSON.parse(r.decode(t.slice(l,t.byteLength)));return{ref:null,topic:d,event:h,payload:m}}}class jb{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Be;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Be||(Be={}));const _0=(e,t,n={})=>{var r;const o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,l)=>(a[l]=RA(l,e,t,o),a),{}):{}},RA=(e,t,n,r)=>{const o=t.find(d=>d.name===e),a=o==null?void 0:o.type,l=n[e];return a&&!r.includes(a)?Cb(a,l):nf(l)},Cb=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return DA(t,n)}switch(e){case Be.bool:return AA(t);case Be.float4:case Be.float8:case Be.int2:case Be.int4:case Be.int8:case Be.numeric:case Be.oid:return OA(t);case Be.json:case Be.jsonb:return IA(t);case Be.timestamp:return LA(t);case Be.abstime:case Be.date:case Be.daterange:case Be.int4range:case Be.int8range:case Be.money:case Be.reltime:case Be.text:case Be.time:case Be.timestamptz:case Be.timetz:case Be.tsrange:case Be.tstzrange:return nf(t);default:return nf(t)}},nf=e=>e,AA=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},OA=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},IA=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},DA=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const l=e.slice(1,n);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(d=>Cb(t,d))}return e},LA=e=>typeof e=="string"?e.replace(" ","T"):e,kb=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class ah{constructor(t,n,r={},o=ef){this.channel=t,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var j0;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(j0||(j0={}));class Wo{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:a,onLeave:l,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Wo.syncState(this.state,o,a,l),this.pendingDiffs.forEach(h=>{this.state=Wo.syncDiff(this.state,h,a,l)}),this.pendingDiffs=[],d()}),this.channel._on(r.diff,{},o=>{const{onJoin:a,onLeave:l,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Wo.syncDiff(this.state,o,a,l),d())}),this.onJoin((o,a,l)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:l})}),this.onLeave((o,a,l)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,o){const a=this.cloneDeep(t),l=this.transformState(n),d={},h={};return this.map(a,(m,p)=>{l[m]||(h[m]=p)}),this.map(l,(m,p)=>{const y=a[m];if(y){const v=p.map(_=>_.presence_ref),b=y.map(_=>_.presence_ref),k=p.filter(_=>b.indexOf(_.presence_ref)<0),S=y.filter(_=>v.indexOf(_.presence_ref)<0);k.length>0&&(d[m]=k),S.length>0&&(h[m]=S)}else d[m]=p}),this.syncDiff(a,{joins:d,leaves:h},r,o)}static syncDiff(t,n,r,o){const{joins:a,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(a,(d,h)=>{var m;const p=(m=t[d])!==null&&m!==void 0?m:[];if(t[d]=this.cloneDeep(h),p.length>0){const y=t[d].map(b=>b.presence_ref),v=p.filter(b=>y.indexOf(b.presence_ref)<0);t[d].unshift(...v)}r(d,p,h)}),this.map(l,(d,h)=>{let m=t[d];if(!m)return;const p=h.map(y=>y.presence_ref);m=m.filter(y=>p.indexOf(y.presence_ref)<0),t[d]=m,o(d,m,h),m.length===0&&delete t[d]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const o=t[r];return"metas"in o?n[r]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var C0;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(C0||(C0={}));var Ho;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ho||(Ho={}));var Gn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Gn||(Gn={}));class ym{constructor(t,n={config:{}},r){var o,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=ct.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ah(this,gn.join,this.params,this.timeout),this.rejoinTimer=new jb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ct.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ct.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this._on(gn.reply,{},(l,d)=>{this._trigger(this._replyEventName(d),l)}),this.presence=new Wo(this),this.broadcastEndpointURL=kb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,o,a;if(this.socket.isConnected()||this.socket.connect(),this.state==ct.closed){const{config:{broadcast:l,presence:d,private:h}}=this.params,m=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(b=>b.filter))!==null&&o!==void 0?o:[],p=!!this.bindings[Ho.PRESENCE]&&this.bindings[Ho.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,y={},v={broadcast:l,presence:Object.assign(Object.assign({},d),{enabled:p}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(b=>t==null?void 0:t(Gn.CHANNEL_ERROR,b)),this._onClose(()=>t==null?void 0:t(Gn.CLOSED)),this.updateJoinPayload(Object.assign({config:v},y)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var k;if(this.socket.setAuth(),b===void 0){t==null||t(Gn.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,_=(k=S==null?void 0:S.length)!==null&&k!==void 0?k:0,j=[];for(let N=0;N<_;N++){const E=S[N],{filter:{event:P,schema:R,table:M,filter:I}}=E,$=b&&b[N];if($&&$.event===P&&$.schema===R&&$.table===M&&$.filter===I)j.push(Object.assign(Object.assign({},E),{id:$.id}));else{this.unsubscribe(),this.state=ct.errored,t==null||t(Gn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(Gn.SUBSCRIBED);return}}).receive("error",b=>{this.state=ct.errored,t==null||t(Gn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Gn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===ct.joined&&t===Ho.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,o;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:l}=t,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=m.body)===null||o===void 0?void 0:o.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,d,h;const m=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((h=(d=(l=this.params)===null||l===void 0?void 0:l.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&a("ok"),m.receive("ok",()=>a("ok")),m.receive("error",()=>a("error")),m.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ct.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(gn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new ah(this,gn.leave,{},t),r.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ct.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const o=new AbortController,a=setTimeout(()=>o.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(a),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new ah(this,t,n,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>TA){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var o,a;const l=t.toLocaleLowerCase(),{close:d,error:h,leave:m,join:p}=gn;if(r&&[d,h,m,p].indexOf(l)>=0&&r!==this._joinRef())return;let v=this._onMessage(l,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(b=>{var k,S,_;return((k=b.filter)===null||k===void 0?void 0:k.event)==="*"||((_=(S=b.filter)===null||S===void 0?void 0:S.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===l}).map(b=>b.callback(v,r)):(a=this.bindings[l])===null||a===void 0||a.filter(b=>{var k,S,_,j,N,E;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in b){const P=b.id,R=(k=b.filter)===null||k===void 0?void 0:k.event;return P&&((S=n.ids)===null||S===void 0?void 0:S.includes(P))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const P=(N=(j=b==null?void 0:b.filter)===null||j===void 0?void 0:j.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return P==="*"||P===((E=n==null?void 0:n.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===l}).map(b=>{if(typeof v=="object"&&"ids"in v){const k=v.data,{schema:S,table:_,commit_timestamp:j,type:N,errors:E}=k;v=Object.assign(Object.assign({},{schema:S,table:_,commit_timestamp:j,eventType:N,new:{},old:{},errors:E}),this._getPayloadRecords(k))}b.callback(v,r)})}_isClosed(){return this.state===ct.closed}_isJoined(){return this.state===ct.joined}_isJoining(){return this.state===ct.joining}_isLeaving(){return this.state===ct.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const o=t.toLocaleLowerCase(),a={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&ym.isEqual(o.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(gn.close,{},t)}_onError(t){this._on(gn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ct.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=_0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=_0(t.columns,t.old_record)),n}}const lh=()=>{},Ml={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},MA=[1e3,2e3,5e3,1e4],$A=1e4,FA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class UA{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ef,this.transport=null,this.heartbeatIntervalMs=Ml.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=lh,this.ref=0,this.reconnectTimer=null,this.logger=lh,this.conn=null,this.sendBuffer=[],this.serializer=new PA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...l)=>pa(async()=>{const{default:d}=await Promise.resolve().then(()=>Li);return{default:d}},void 0).then(({default:d})=>d(...l)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...l)=>a(...l)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${tf.websocket}`,this.httpEndpoint=kb(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=jA.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:EA}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case zo.connecting:return us.Connecting;case zo.open:return us.Open;case zo.closing:return us.Closing;default:return us.Closed}}isConnected(){return this.connectionState()===us.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,o=this.getChannels().find(a=>a.topic===r);if(o)return o;{const a=new ym(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:o,ref:a}=t,l=()=>{this.encode(t,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${n} ${r} (${a})`,o),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(NA,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ml.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:o,payload:a,ref:l}=n,d=l?`(${l})`:"",h=a.status||"";this.log("receive",`${h} ${r} ${o} ${d}`.trim(),a),this.channels.filter(m=>m._isMember(r)).forEach(m=>m._trigger(o,a,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(gn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${r}${o}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([FA],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const o={access_token:n,version:kA};n&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(gn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new jb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ml.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,o,a,l,d,h,m,p;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:ef,this.heartbeatIntervalMs=(o=t==null?void 0:t.heartbeatIntervalMs)!==null&&o!==void 0?o:Ml.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(d=t==null?void 0:t.heartbeatCallback)!==null&&d!==void 0?d:lh,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=t==null?void 0:t.reconnectAfterMs)!==null&&h!==void 0?h:(y=>MA[y-1]||$A),this.encode=(m=t==null?void 0:t.encode)!==null&&m!==void 0?m:((y,v)=>v(JSON.stringify(y))),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class vm extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function st(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class VA extends vm{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class rf extends vm{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var BA=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function d(p){try{m(r.next(p))}catch(y){l(y)}}function h(p){try{m(r.throw(p))}catch(y){l(y)}}function m(p){p.done?a(p.value):o(p.value).then(d,h)}m((r=r.apply(e,t||[])).next())})};const Eb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>pa(async()=>{const{default:r}=await Promise.resolve().then(()=>Li);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},zA=()=>BA(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield pa(()=>Promise.resolve().then(()=>Li),void 0)).Response:Response}),sf=e=>{if(Array.isArray(e))return e.map(n=>sf(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const o=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[o]=sf(r)}),t},WA=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var js=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function d(p){try{m(r.next(p))}catch(y){l(y)}}function h(p){try{m(r.throw(p))}catch(y){l(y)}}function m(p){p.done?a(p.value):o(p.value).then(d,h)}m((r=r.apply(e,t||[])).next())})};const ch=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),HA=(e,t,n)=>js(void 0,void 0,void 0,function*(){const r=yield zA();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(o=>{const a=e.status||500,l=(o==null?void 0:o.statusCode)||a+"";t(new VA(ch(o),a,l))}).catch(o=>{t(new rf(ch(o),o))}):t(new rf(ch(e),e))}),qA=(e,t,n,r)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?o:(WA(r)?(o.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),o.body=JSON.stringify(r)):o.body=r,t!=null&&t.duplex&&(o.duplex=t.duplex),Object.assign(Object.assign({},o),n))};function ga(e,t,n,r,o,a){return js(this,void 0,void 0,function*(){return new Promise((l,d)=>{e(n,qA(t,r,o,a)).then(h=>{if(!h.ok)throw h;return r!=null&&r.noResolveJson?h:h.json()}).then(h=>l(h)).catch(h=>HA(h,d,r))})})}function fc(e,t,n,r){return js(this,void 0,void 0,function*(){return ga(e,"GET",t,n,r)})}function kn(e,t,n,r,o){return js(this,void 0,void 0,function*(){return ga(e,"POST",t,r,o,n)})}function of(e,t,n,r,o){return js(this,void 0,void 0,function*(){return ga(e,"PUT",t,r,o,n)})}function KA(e,t,n,r){return js(this,void 0,void 0,function*(){return ga(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Nb(e,t,n,r,o){return js(this,void 0,void 0,function*(){return ga(e,"DELETE",t,r,o,n)})}var GA=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function d(p){try{m(r.next(p))}catch(y){l(y)}}function h(p){try{m(r.throw(p))}catch(y){l(y)}}function m(p){p.done?a(p.value):o(p.value).then(d,h)}m((r=r.apply(e,t||[])).next())})};class YA{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return GA(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(st(t))return{data:null,error:t};throw t}})}}var XA=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function d(p){try{m(r.next(p))}catch(y){l(y)}}function h(p){try{m(r.throw(p))}catch(y){l(y)}}function m(p){p.done?a(p.value):o(p.value).then(d,h)}m((r=r.apply(e,t||[])).next())})};class JA{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new YA(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return XA(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(st(t))return{data:null,error:t};throw t}})}}var Dt=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function d(p){try{m(r.next(p))}catch(y){l(y)}}function h(p){try{m(r.throw(p))}catch(y){l(y)}}function m(p){p.done?a(p.value):o(p.value).then(d,h)}m((r=r.apply(e,t||[])).next())})};const QA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},k0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ZA{constructor(t,n={},r,o){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=Eb(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,o){return Dt(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},k0),o);let d=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const h=l.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),h&&a.append("metadata",this.encodeMetadata(h)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",l.cacheControl),h&&a.append("metadata",this.encodeMetadata(h))):(a=r,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType,h&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),o!=null&&o.headers&&(d=Object.assign(Object.assign({},d),o.headers));const m=this._removeEmptyFolders(n),p=this._getFinalPath(m),y=yield(t=="PUT"?of:kn)(this.fetch,`${this.url}/object/${p}`,a,Object.assign({headers:d},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:m,id:y.Id,fullPath:y.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}upload(t,n,r){return Dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,o){return Dt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),l=this._getFinalPath(a),d=new URL(this.url+`/object/upload/sign/${l}`);d.searchParams.set("token",n);try{let h;const m=Object.assign({upsert:k0.upsert},o),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&r instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",r)):typeof FormData<"u"&&r instanceof FormData?(h=r,h.append("cacheControl",m.cacheControl)):(h=r,p["cache-control"]=`max-age=${m.cacheControl}`,p["content-type"]=m.contentType);const y=yield of(this.fetch,d.toString(),h,{headers:p});return{data:{path:a,fullPath:y.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(st(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(t,n){return Dt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const o=Object.assign({},this.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const a=yield kn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),l=new URL(this.url+a.url),d=l.searchParams.get("token");if(!d)throw new vm("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:d},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}update(t,n,r){return Dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Dt(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}copy(t,n,r){return Dt(this,void 0,void 0,function*(){try{return{data:{path:(yield kn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}createSignedUrl(t,n,r){return Dt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),a=yield kn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}createSignedUrls(t,n,r){return Dt(this,void 0,void 0,function*(){try{const o=yield kn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}download(t,n){const o=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=a?`?${a}`:"",d=this._getFinalPath(t),h=()=>fc(this.fetch,`${this.url}/${o}/${d}${l}`,{headers:this.headers,noResolveJson:!0});return new JA(h,this.shouldThrowOnError)}info(t){return Dt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield fc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:sf(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}exists(t){return Dt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield KA(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r)&&r instanceof rf){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),o=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&o.push(a);const d=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});h!==""&&o.push(h);let m=o.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${r}${m}`)}}}remove(t){return Dt(this,void 0,void 0,function*(){try{return{data:yield Nb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}list(t,n,r){return Dt(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},QA),n),{prefix:t||""});return{data:yield kn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}listV2(t,n){return Dt(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield kn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const e2="2.74.0",t2={"X-Client-Info":`storage-js/${e2}`};var ti=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function d(p){try{m(r.next(p))}catch(y){l(y)}}function h(p){try{m(r.throw(p))}catch(y){l(y)}}function m(p){p.done?a(p.value):o(p.value).then(d,h)}m((r=r.apply(e,t||[])).next())})};class n2{constructor(t,n={},r,o){this.shouldThrowOnError=!1;const a=new URL(t);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},t2),n),this.fetch=Eb(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ti(this,void 0,void 0,function*(){try{return{data:yield fc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(st(t))return{data:null,error:t};throw t}})}getBucket(t){return ti(this,void 0,void 0,function*(){try{return{data:yield fc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}createBucket(t){return ti(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield kn(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}updateBucket(t,n){return ti(this,void 0,void 0,function*(){try{return{data:yield of(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}emptyBucket(t){return ti(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ti(this,void 0,void 0,function*(){try{return{data:yield Nb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}}class r2 extends n2{constructor(t,n={},r,o){super(t,n,r,o)}from(t){return new ZA(this.url,this.headers,t,this.fetch)}}const s2="2.74.0";let Do="";typeof Deno<"u"?Do="deno":typeof document<"u"?Do="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Do="react-native":Do="node";const i2={"X-Client-Info":`supabase-js-${Do}/${s2}`},o2={headers:i2},a2={schema:"public"},l2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},c2={};var u2=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function d(p){try{m(r.next(p))}catch(y){l(y)}}function h(p){try{m(r.throw(p))}catch(y){l(y)}}function m(p){p.done?a(p.value):o(p.value).then(d,h)}m((r=r.apply(e,t||[])).next())})};const d2=e=>{let t;return e?t=e:typeof fetch>"u"?t=vb:t=fetch,(...n)=>t(...n)},h2=()=>typeof Headers>"u"?xb:Headers,f2=(e,t,n)=>{const r=d2(n),o=h2();return(a,l)=>u2(void 0,void 0,void 0,function*(){var d;const h=(d=yield t())!==null&&d!==void 0?d:e;let m=new o(l==null?void 0:l.headers);return m.has("apikey")||m.set("apikey",e),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),r(a,Object.assign(Object.assign({},l),{headers:m}))})};var m2=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function d(p){try{m(r.next(p))}catch(y){l(y)}}function h(p){try{m(r.throw(p))}catch(y){l(y)}}function m(p){p.done?a(p.value):o(p.value).then(d,h)}m((r=r.apply(e,t||[])).next())})};function p2(e){return e.endsWith("/")?e:e+"/"}function g2(e,t){var n,r;const{db:o,auth:a,realtime:l,global:d}=e,{db:h,auth:m,realtime:p,global:y}=t,v={db:Object.assign(Object.assign({},h),o),auth:Object.assign(Object.assign({},m),a),realtime:Object.assign(Object.assign({},p),l),storage:{},global:Object.assign(Object.assign(Object.assign({},y),d),{headers:Object.assign(Object.assign({},(n=y==null?void 0:y.headers)!==null&&n!==void 0?n:{}),(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>m2(this,void 0,void 0,function*(){return""})};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function y2(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(p2(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Tb="2.74.0",di=30*1e3,af=3,uh=af*di,v2="http://localhost:9999",x2="supabase.auth.token",w2={"X-Client-Info":`gotrue-js/${Tb}`},lf="X-Supabase-Api-Version",Pb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},b2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,S2=600*1e3;class ea extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ye(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class _2 extends ea{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function j2(e){return ye(e)&&e.name==="AuthApiError"}class ds extends ea{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Br extends ea{constructor(t,n,r,o){super(t,r,o),this.name=n,this.status=r}}class Rr extends Br{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function C2(e){return ye(e)&&e.name==="AuthSessionMissingError"}class ni extends Br{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $l extends Br{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Fl extends Br{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function k2(e){return ye(e)&&e.name==="AuthImplicitGrantRedirectError"}class E0 extends Br{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class cf extends Br{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function dh(e){return ye(e)&&e.name==="AuthRetryableFetchError"}class N0 extends Br{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class uf extends Br{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const mc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),T0=` 	
\r=`.split(""),E2=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<T0.length;t+=1)e[T0[t].charCodeAt(0)]=-2;for(let t=0;t<mc.length;t+=1)e[mc[t].charCodeAt(0)]=t;return e})();function P0(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(mc[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(mc[r]),t.queuedBits-=6}}function Rb(e,t,n){const r=E2[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function R0(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=l=>{P2(l,r,n)};for(let l=0;l<e.length;l+=1)Rb(e.charCodeAt(l),o,a);return t.join("")}function N2(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function T2(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}N2(r,t)}}function P2(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function wi(e){const t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)Rb(e.charCodeAt(o),n,r);return new Uint8Array(t)}function R2(e){const t=[];return T2(e,n=>t.push(n)),new Uint8Array(t)}function ms(e){const t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};return e.forEach(o=>P0(o,n,r)),P0(null,n,r),t.join("")}function A2(e){return Math.round(Date.now()/1e3)+e}function O2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const zt=()=>typeof window<"u"&&typeof document<"u",is={tested:!1,writable:!1},Ab=()=>{if(!zt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(is.tested)return is.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),is.tested=!0,is.writable=!0}catch{is.tested=!0,is.writable=!1}return is.writable};function I2(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,a)=>{t[a]=o})}catch{}return n.searchParams.forEach((r,o)=>{t[o]=r}),t}const Ob=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>pa(async()=>{const{default:r}=await Promise.resolve().then(()=>Li);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},D2=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",hi=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},os=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Cr=async(e,t)=>{await e.removeItem(t)};class Ic{constructor(){this.promise=new Ic.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Ic.promiseConstructor=Promise;function hh(e){const t=e.split(".");if(t.length!==3)throw new uf("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!b2.test(t[r]))throw new uf("JWT not in base64url format");return{header:JSON.parse(R0(t[0])),payload:JSON.parse(R0(t[1])),signature:wi(t[2]),raw:{header:t[0],payload:t[1]}}}async function L2(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function M2(e,t){return new Promise((r,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await e(a);if(!t(a,null,l)){r(l);return}}catch(l){if(!t(a,l)){o(l);return}}})()})}function $2(e){return("0"+e.toString(16)).substr(-2)}function F2(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let o="";for(let a=0;a<56;a++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,$2).join("")}async function U2(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function V2(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await U2(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ri(e,t,n=!1){const r=F2();let o=r;n&&(o+="/PASSWORD_RECOVERY"),await hi(e,`${t}-code-verifier`,o);const a=await V2(r);return[a,r===a?"plain":"s256"]}const B2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function z2(e){const t=e.headers.get(lf);if(!t||!t.match(B2))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function W2(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function H2(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const q2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function si(e){if(!q2.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function fh(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function A0(e){return JSON.parse(JSON.stringify(e))}var K2=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const cs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),G2=[502,503,504];async function O0(e){var t;if(!D2(e))throw new cf(cs(e),0);if(G2.includes(e.status))throw new cf(cs(e),e.status);let n;try{n=await e.json()}catch(a){throw new ds(cs(a),a)}let r;const o=z2(e);if(o&&o.getTime()>=Pb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new N0(cs(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Rr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new N0(cs(n),e.status,n.weak_password.reasons);throw new _2(cs(n),e.status||500,r)}const Y2=(e,t,n,r)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};async function Ce(e,t,n,r){var o;const a=Object.assign({},r==null?void 0:r.headers);a[lf]||(a[lf]=Pb["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const l=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const d=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",h=await X2(e,t,n+d,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(h):{data:Object.assign({},h),error:null}}async function X2(e,t,n,r,o,a){const l=Y2(t,r,o,a);let d;try{d=await e(n,Object.assign({},l))}catch(h){throw console.error(h),new cf(cs(h),0)}if(d.ok||await O0(d),r!=null&&r.noResolveJson)return d;try{return await d.json()}catch(h){await O0(h)}}function fn(e){var t;let n=null;Z2(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=A2(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function I0(e){const t=fn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Or(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function J2(e){return{data:e,error:null}}function Q2(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:a}=e,l=K2(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:a},h=Object.assign({},l);return{data:{properties:d,user:h},error:null}}function D0(e){return e}function Z2(e){return e.access_token&&e.refresh_token&&e.expires_in}const mh=["global","local","others"];var eO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};class tO{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Ob(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=mh[0]){if(mh.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${mh.join(", ")}`);try{return await Ce(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Or})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=eO(t,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await Ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Q2,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ye(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Ce(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Or})}catch(n){if(ye(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,o,a,l,d,h;try{const m={nextPage:null,lastPage:0,total:0},p=await Ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:D0});if(p.error)throw p.error;const y=await p.json(),v=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(h=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return b.length>0&&(b.forEach(k=>{const S=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(k.split(";")[1].split("=")[1]);m[`${_}Page`]=S}),m.total=parseInt(v)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(ye(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){si(t);try{return await Ce(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Or})}catch(n){if(ye(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){si(t);try{return await Ce(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Or})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){si(t);try{return await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Or})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){si(t.userId);try{const{data:n,error:r}=await Ce(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _deleteFactor(t){si(t.userId),si(t.id);try{return{data:await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,o,a,l,d,h;try{const m={nextPage:null,lastPage:0,total:0},p=await Ce(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:D0});if(p.error)throw p.error;const y=await p.json(),v=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(h=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return b.length>0&&(b.forEach(k=>{const S=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(k.split(";")[1].split("=")[1]);m[`${_}Page`]=S}),m.total=parseInt(v)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(ye(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(t){try{return await Ce(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Ce(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Ce(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Ce(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}}function L0(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const ii={debug:!!(globalThis&&Ab()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ib extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class nO extends Ib{}async function rO(e,t,n){ii.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),ii.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){ii.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await n()}finally{ii.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw ii.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new nO(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ii.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function sO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Db(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function iO(e){return parseInt(e,16)}function oO(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function aO(e){var t;const{chainId:n,domain:r,expirationTime:o,issuedAt:a=new Date,nonce:l,notBefore:d,requestId:h,resources:m,scheme:p,uri:y,version:v}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const b=Db(e.address),k=p?`${p}://${r}`:r,S=e.statement?`${e.statement}
`:"",_=`${k} wants you to sign in with your Ethereum account:
${b}

${S}`;let j=`URI: ${y}
Version: ${v}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(o&&(j+=`
Expiration Time: ${o.toISOString()}`),d&&(j+=`
Not Before: ${d.toISOString()}`),h&&(j+=`
Request ID: ${h}`),m){let N=`
Resources:`;for(const E of m){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);N+=`
- ${E}`}j+=N}return`${_}
${j}`}class rt extends Error{constructor({message:t,code:n,cause:r,name:o}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=o??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class pc extends rt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function lO({error:e,options:t}){var n,r,o;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new rt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new rt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new rt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((o=a.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new rt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new rt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new rt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new rt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new rt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(Mb(l)){if(a.rp.id!==l)return new rt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new rt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new rt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function cO({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new rt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new rt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(Mb(r)){if(n.rpId!==r)return new rt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new rt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var Lb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};class uO{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const dO=new uO;function hO(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,o=Lb(e,["challenge","user","excludeCredentials"]),a=wi(t).buffer,l=Object.assign(Object.assign({},n),{id:wi(n.id).buffer}),d=Object.assign(Object.assign({},o),{challenge:a,user:l});if(r&&r.length>0){d.excludeCredentials=new Array(r.length);for(let h=0;h<r.length;h++){const m=r[h];d.excludeCredentials[h]=Object.assign(Object.assign({},m),{id:wi(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function fO(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Lb(e,["challenge","allowCredentials"]),o=wi(t).buffer,a=Object.assign(Object.assign({},r),{challenge:o});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const d=n[l];a.allowCredentials[l]=Object.assign(Object.assign({},d),{id:wi(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return a}function mO(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:ms(new Uint8Array(e.response.attestationObject)),clientDataJSON:ms(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function pO(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),o=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ms(new Uint8Array(o.authenticatorData)),clientDataJSON:ms(new Uint8Array(o.clientDataJSON)),signature:ms(new Uint8Array(o.signature)),userHandle:o.userHandle?ms(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Mb(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function M0(){var e,t;return!!(zt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function gO(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new pc("Browser returned unexpected credential type",t)}:{data:null,error:new pc("Empty credential response",t)}}catch(t){return{data:null,error:lO({error:t,options:e})}}}async function yO(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new pc("Browser returned unexpected credential type",t)}:{data:null,error:new pc("Empty credential response",t)}}catch(t){return{data:null,error:cO({error:t,options:e})}}}const vO={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},xO={userVerification:"preferred",hints:["security-key"]};function gc(...e){const t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(const o of e)if(o)for(const a in o){const l=o[a];if(l!==void 0)if(Array.isArray(l))r[a]=l;else if(n(l))r[a]=l;else if(t(l)){const d=r[a];t(d)?r[a]=gc(d,l):r[a]=gc(l)}else r[a]=l}return r}function wO(e,t){return gc(vO,e,t||{})}function bO(e,t){return gc(xO,e,t||{})}class SO{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:o},a){try{const{data:l,error:d}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:d};const h=o??dO.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:m}=l.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${r}`),m.displayName||(m.displayName=m.name)}switch(l.webauthn.type){case"create":{const m=wO(l.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:p,error:y}=await gO({publicKey:m,signal:h});return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:y}}case"request":{const m=bO(l.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:p,error:y}=await yO(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:m,signal:h}));return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:y}}}}catch(l){return ye(l)?{data:null,error:l}:{data:null,error:new ds("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}},a){if(!n)return{data:null,error:new ea("rpId is required for WebAuthn authentication")};try{if(!M0())return{data:null,error:new ds("Browser does not support WebAuthn",null)};const{data:l,error:d}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:o},{request:a});if(!l)return{data:null,error:d};const{webauthn:h}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:h.type,rpId:n,rpOrigins:r,credential_response:h.credential_response}})}catch(l){return ye(l)?{data:null,error:l}:{data:null,error:new ds("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o},a){if(!n)return{data:null,error:new ea("rpId is required for WebAuthn registration")};try{if(!M0())return{data:null,error:new ds("Browser does not support WebAuthn",null)};const{data:l,error:d}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(p=>{var y;return(y=p.data)===null||y===void 0?void 0:y.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:d};const{data:h,error:m}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:o},{create:a});return h?this._verify({factorId:l.id,challengeId:h.challengeId,webauthn:{rpId:n,rpOrigins:r,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:m}}catch(l){return ye(l)?{data:null,error:l}:{data:null,error:new ds("Unexpected error in register",l)}}}}sO();const _O={url:v2,storageKey:x2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:w2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function $0(e,t,n){return await n()}const oi={};class ta{get jwks(){var t,n;return(n=(t=oi[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){oi[this.storageKey]=Object.assign(Object.assign({},oi[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=oi[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){oi[this.storageKey]=Object.assign(Object.assign({},oi[this.storageKey]),{cachedAt:t})}constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ta.nextInstanceID,ta.nextInstanceID+=1,this.instanceID>0&&zt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},_O),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new tO({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Ob(o.fetch),this.lock=o.lock||$0,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:zt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=rO:this.lock=$0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new SO(this)},this.persistSession?(o.storage?this.storage=o.storage:Ab()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=L0(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=L0(this.memoryStorage)),zt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Tb}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=I2(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),zt()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),k2(a)){const h=(t=a.details)===null||t===void 0?void 0:t.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",l,"redirect type",d),await this._saveSession(l),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ye(n)?{error:n}:{error:new ds("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,o;try{const a=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=t==null?void 0:t.options)===null||o===void 0?void 0:o.captchaToken}},xform:fn}),{data:l,error:d}=a;if(d||!l)return{data:{user:null,session:null},error:d};const h=l.session,m=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(a){if(ye(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var n,r,o;try{let a;if("email"in t){const{email:p,password:y,options:v}=t;let b=null,k=null;this.flowType==="pkce"&&([b,k]=await ri(this.storage,this.storageKey)),a=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:p,password:y,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:b,code_challenge_method:k},xform:fn})}else if("phone"in t){const{phone:p,password:y,options:v}=t;a=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:y,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(o=v==null?void 0:v.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:fn})}else throw new $l("You must provide either an email or phone number and a password");const{data:l,error:d}=a;if(d||!l)return{data:{user:null,session:null},error:d};const h=l.session,m=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(a){if(ye(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:l,options:d}=t;n=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:I0})}else if("phone"in t){const{phone:a,password:l,options:d}=t;n=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:I0})}else throw new $l("You must provide either an email or phone number and a password");const{data:r,error:o}=n;return o?{data:{user:null,session:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ni}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(n){if(ye(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,o,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,o,a,l,d,h,m,p,y,v;let b,k;if("message"in t)b=t.message,k=t.signature;else{const{chain:S,wallet:_,statement:j,options:N}=t;let E;if(zt())if(typeof _=="object")E=_;else{const B=window;if("ethereum"in B&&typeof B.ethereum=="object"&&"request"in B.ethereum&&typeof B.ethereum.request=="function")E=B.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=_}const P=new URL((n=N==null?void 0:N.url)!==null&&n!==void 0?n:window.location.href),R=await E.request({method:"eth_requestAccounts"}).then(B=>B).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!R||R.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const M=Db(R[0]);let I=(r=N==null?void 0:N.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!I){const B=await E.request({method:"eth_chainId"});I=iO(B)}const $={domain:P.host,address:M,statement:j,uri:P.href,version:"1",chainId:I,nonce:(o=N==null?void 0:N.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(l=(a=N==null?void 0:N.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(d=N==null?void 0:N.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=N==null?void 0:N.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(m=N==null?void 0:N.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(p=N==null?void 0:N.signInWithEthereum)===null||p===void 0?void 0:p.resources};b=aO($),k=await E.request({method:"personal_sign",params:[oO(b),M]})}try{const{data:S,error:_}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:k},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:fn});if(_)throw _;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new ni}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:_})}catch(S){if(ye(S))return{data:{user:null,session:null},error:S};throw S}}async signInWithSolana(t){var n,r,o,a,l,d,h,m,p,y,v,b;let k,S;if("message"in t)k=t.message,S=t.signature;else{const{chain:_,wallet:j,statement:N,options:E}=t;let P;if(zt())if(typeof j=="object")P=j;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))P=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=j}const R=new URL((n=E==null?void 0:E.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in P&&P.signIn){const M=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E==null?void 0:E.signInWithSolana),{version:"1",domain:R.host,uri:R.href}),N?{statement:N}:null));let I;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")I=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)I=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)k=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),S=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${R.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${R.href}`,`Issued At: ${(o=(r=E==null?void 0:E.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=E==null?void 0:E.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((l=E==null?void 0:E.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((d=E==null?void 0:E.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((h=E==null?void 0:E.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((m=E==null?void 0:E.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((y=(p=E==null?void 0:E.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||y===void 0)&&y.length?["Resources",...E.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const M=await P.signMessage(new TextEncoder().encode(k),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=M}}try{const{data:_,error:j}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:ms(S)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:fn});if(j)throw j;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new ni}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:j})}catch(_){if(ye(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(t){const n=await os(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(n??"").split("/");try{const{data:a,error:l}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:fn});if(await Cr(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new ni}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:l})}catch(a){if(ye(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:o,access_token:a,nonce:l}=t,d=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:fn}),{data:h,error:m}=d;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new ni}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:m})}catch(n){if(ye(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,o,a,l;try{if("email"in t){const{email:d,options:h}=t;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await ri(this.storage,this.storageKey));const{error:y}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},create_user:(r=h==null?void 0:h.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:p},redirectTo:h==null?void 0:h.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in t){const{phone:d,options:h}=t,{data:m,error:p}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=h==null?void 0:h.data)!==null&&o!==void 0?o:{},create_user:(a=h==null?void 0:h.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(l=h==null?void 0:h.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:p}}throw new $l("You must provide either an email or phone number.")}catch(d){if(ye(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(t){var n,r;try{let o,a;"options"in t&&(o=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:d}=await Ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:fn});if(d)throw d;if(!l)throw new Error("An error occurred on token verification.");const h=l.session,m=l.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(o){if(ye(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(t){var n,r,o;try{let a=null,l=null;return this.flowType==="pkce"&&([a,l]=await ri(this.storage,this.storageKey)),await Ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=t==null?void 0:t.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:J2})}catch(a){if(ye(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Rr;const{error:o}=await Ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(t){if(ye(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:o,options:a}=t,{error:l}=await Ce(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:r,type:o,options:a}=t,{data:l,error:d}=await Ce(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:d}}throw new $l("You must provide either an email or phone number and a type")}catch(n){if(ye(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await os(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<uh:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const l=await os(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=fh()}if(this.storage.isServer&&t.user){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(h,m,p)=>(!l&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,m,p))})}return{data:{session:t},error:null}}const{data:o,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Or}):await this._useSession(async n=>{var r,o,a;const{data:l,error:d}=n;if(d)throw d;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rr}:await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=l.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:Or})})}catch(n){if(ye(n))return C2(n)&&(await this._removeSession(),await Cr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:o,error:a}=r;if(a)throw a;if(!o.session)throw new Rr;const l=o.session;let d=null,h=null;this.flowType==="pkce"&&t.email!=null&&([d,h]=await ri(this.storage,this.storageKey));const{data:m,error:p}=await Ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:h}),jwt:l.access_token,xform:Or});if(p)throw p;return l.user=m.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Rr;const n=Date.now()/1e3;let r=n,o=!0,a=null;const{payload:l}=hh(t.access_token);if(l.exp&&(r=l.exp,o=r<=n),o){const{data:d,error:h}=await this._callRefreshToken(t.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!d)return{data:{user:null,session:null},error:null};a=d}else{const{data:d,error:h}=await this._getUser(t.access_token);if(h)throw h;a={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(ye(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:d}=n;if(d)throw d;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Rr;const{data:o,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ye(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!zt())throw new Fl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Fl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new E0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new E0("No code detected.");const{data:N,error:E}=await this._exchangeCodeForSession(t.code);if(E)throw E;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:a,refresh_token:l,expires_in:d,expires_at:h,token_type:m}=t;if(!a||!d||!l||!m)throw new Fl("No session defined in URL");const p=Math.round(Date.now()/1e3),y=parseInt(d);let v=p+y;h&&(v=parseInt(h));const b=v-p;b*1e3<=di&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${y}s`);const k=v-y;p-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,v,p):p-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,v,p);const{data:S,error:_}=await this._getUser(a);if(_)throw _;const j={provider_token:r,provider_refresh_token:o,access_token:a,expires_in:y,expires_at:v,refresh_token:l,token_type:m,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:j,redirectType:t.type},error:null}}catch(r){if(ye(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await os(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:o,error:a}=n;if(a)return{error:a};const l=(r=o.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:d}=await this.admin.signOut(l,t);if(d&&!(j2(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return t!=="others"&&(await this._removeSession(),await Cr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=O2(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,o;try{const{data:{session:a},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await ri(this.storage,this.storageKey,!0));try{return await Ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(ye(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:o}=await this._useSession(async a=>{var l,d,h,m,p;const{data:y,error:v}=a;if(v)throw v;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=t.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await Ce(this.fetch,"GET",b,{headers:this.headers,jwt:(p=(m=y.session)===null||m===void 0?void 0:m.access_token)!==null&&p!==void 0?p:void 0})});if(o)throw o;return zt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ye(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:o,data:{session:a}}=n;if(o)throw o;const{options:l,provider:d,token:h,access_token:m,nonce:p}=t,y=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:d,id_token:h,access_token:m,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:fn}),{data:v,error:b}=y;return b?{data:{user:null,session:null},error:b}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new ni}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),{data:v,error:b})}catch(o){if(ye(o))return{data:{user:null,session:null},error:o};throw o}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,o;const{data:a,error:l}=n;if(l)throw l;return await Ce(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await M2(async o=>(o>0&&await L2(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await Ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:fn})),(o,a)=>{const l=200*Math.pow(2,o);return a&&dh(a)&&Date.now()+l-r<di})}catch(r){if(this._debug(n,"error",r),ye(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),zt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await os(this.storage,this.storageKey);if(o&&this.userStorage){let l=await os(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:o.user},await hi(this.userStorage,this.storageKey+"-user",l)),o.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:fh()}else if(o&&!o.user&&!o.user){const l=await os(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(o.user=l.user,await Cr(this.storage,this.storageKey+"-user"),await hi(this.storage,this.storageKey,o)):o.user=fh()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const a=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<uh;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${uh}s`),a){if(this.autoRefreshToken&&o.refresh_token){const{error:l}=await this._callRefreshToken(o.refresh_token);l&&(console.error(l),dh(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:d}=await this._getUser(o.access_token);!d&&(l!=null&&l.user)?(o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Rr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Ic;const{data:a,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!a.session)throw new Rr;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const d={data:a.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(a){if(this._debug(o,"error",a),ye(a)){const l={data:null,error:a};return dh(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,n,r=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,n)}catch(h){a.push(h)}});if(await Promise.all(l),a.length>0){for(let d=0;d<a.length;d+=1)console.error(a[d]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await hi(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const a=A0(o);await hi(this.storage,this.storageKey,a)}else{const o=A0(n);await hi(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Cr(this.storage,this.storageKey),await Cr(this.storage,this.storageKey+"-code-verifier"),await Cr(this.storage,this.storageKey+"-user"),this.userStorage&&await Cr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&zt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),di);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-t)/di);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${di}ms, refresh threshold is ${af} ticks`),o<=af&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Ib)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!zt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const o=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,l]=await ri(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});o.push(d.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);o.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;return a?{data:null,error:a}:await Ce(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,o;const{data:a,error:l}=n;if(l)return{data:null,error:l};const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:h,error:m}=await Ce(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return m?{data:null,error:m}:(t.factorType==="totp"&&h.type==="totp"&&(!((o=h==null?void 0:h.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;if(a)return{data:null,error:a};const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?mO(t.webauthn.credential_response):pO(t.webauthn.credential_response)})}:{code:t.code}),{data:d,error:h}=await Ce(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:h})})}catch(n){if(ye(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;if(a)return{data:null,error:a};const l=await Ce(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:d}=l;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:hO(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:fO(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ye(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const o={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])o.all.push(a),a.status==="verified"&&o[a.factor_type].push(a);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:o},error:a}=t;if(a)return{data:null,error:a};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=hh(o.access_token);let d=null;l.aal&&(d=l.aal);let h=d;((r=(n=o.user.factors)===null||n===void 0?void 0:n.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(h="aal2");const p=l.amr||[];return{data:{currentLevel:d,nextLevel:h,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(d=>d.kid===t);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(d=>d.kid===t),r&&this.jwks_cached_at+S2>o)return r;const{data:a,error:l}=await Ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,r=a.keys.find(d=>d.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:b,error:k}=await this.getSession();if(k||!b.session)return{data:null,error:k};r=b.session.access_token}const{header:o,payload:a,signature:l,raw:{header:d,payload:h}}=hh(r);n!=null&&n.allowExpired||W2(a.exp);const m=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!m){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:a,header:o,signature:l},error:null}}const p=H2(o.alg),y=await crypto.subtle.importKey("jwk",m,p,!0,["verify"]);if(!await crypto.subtle.verify(p,y,l,R2(`${d}.${h}`)))throw new uf("Invalid JWT signature");return{data:{claims:a,header:o,signature:l},error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}}}ta.nextInstanceID=0;const jO=ta;class CO extends jO{constructor(t){super(t)}}var kO=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function d(p){try{m(r.next(p))}catch(y){l(y)}}function h(p){try{m(r.throw(p))}catch(y){l(y)}}function m(p){p.done?a(p.value):o(p.value).then(d,h)}m((r=r.apply(e,t||[])).next())})};class EO{constructor(t,n,r){var o,a,l;this.supabaseUrl=t,this.supabaseKey=n;const d=y2(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,m={db:a2,realtime:c2,auth:Object.assign(Object.assign({},l2),{storageKey:h}),global:o2},p=g2(r??{},m);this.storageKey=(o=p.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=p.global.headers)!==null&&a!==void 0?a:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(y,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=p.auth)!==null&&l!==void 0?l:{},this.headers,p.global.fetch),this.fetch=f2(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new _A(new URL("rest/v1",d).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new r2(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new fA(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return kO(this,void 0,void 0,function*(){var t,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:a,storageKey:l,flowType:d,lock:h,debug:m},p,y){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new CO({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),p),storageKey:l,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:a,flowType:d,lock:h,debug:m,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new UA(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const NO=(e,t,n)=>new EO(e,t,n);function TO(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}TO()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const PO="https://aqqadsuukmvsoigzuvva.supabase.co",RO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFxcWFkc3V1a212c29pZ3p1dnZhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3NjkzMDcsImV4cCI6MjA3NTM0NTMwN30.dDIkOUDnLrJ9CWD_BV03qQf75qMUsc8rJ-WDY7JFcUQ",Fe=NO(PO,RO),Lr={async list(){const{data:{user:e}}=await Fe.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:n}=await Fe.from("characters").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(n)throw n;return t},async get(e){const{data:t,error:n}=await Fe.from("characters").select("*").eq("id",e).maybeSingle();if(n)throw n;return t},async filter(e,t){const{data:{user:n}}=await Fe.auth.getUser();if(!n)throw new Error("Not authenticated");let r=Fe.from("characters").select("*").eq("user_id",n.id);if(t){const l=t.startsWith("-"),d=l?t.substring(1):t;r=r.order(d,{ascending:!l})}const{data:o,error:a}=await r;if(a)throw a;return o},async create(e){const{data:{user:t}}=await Fe.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:n,error:r}=await Fe.from("characters").insert([{...e,user_id:t.id}]).select().single();if(r)throw r;return n},async update(e,t){const{data:n,error:r}=await Fe.from("characters").update(t).eq("id",e).select().single();if(r)throw r;return n},async delete(e){const{error:t}=await Fe.from("characters").delete().eq("id",e);if(t)throw t;return{success:!0}}},bi={async list(){const{data:{user:e}}=await Fe.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:n}=await Fe.from("adventures").select("*, characters!inner(*)").eq("characters.user_id",e.id).order("created_at",{ascending:!1});if(n)throw n;return t},async get(e){const{data:t,error:n}=await Fe.from("adventures").select("*").eq("id",e).maybeSingle();if(n)throw n;return t},async filter(e){let t=Fe.from("adventures").select("*");Object.keys(e).forEach(o=>{t=t.eq(o,e[o])});const{data:n,error:r}=await t;if(r)throw r;return n},async create(e){const{data:t,error:n}=await Fe.from("adventures").insert([e]).select().single();if(n)throw n;return t},async update(e,t){const{data:n,error:r}=await Fe.from("adventures").update(t).eq("id",e).select().single();if(r)throw r;return n},async delete(e){const{error:t}=await Fe.from("adventures").delete().eq("id",e);if(t)throw t;return{success:!0}}},xm={async list(){const{data:e,error:t}=await Fe.from("public_adventures").select("*").order("rating",{ascending:!1});if(t)throw t;return e},async get(e){const{data:t,error:n}=await Fe.from("public_adventures").select("*").eq("id",e).maybeSingle();if(n)throw n;return t},async filter(e){let t=Fe.from("public_adventures").select("*");Object.keys(e).forEach(o=>{t=t.eq(o,e[o])});const{data:n,error:r}=await t;if(r)throw r;return n},async create(e){const{data:{user:t}}=await Fe.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:n,error:r}=await Fe.from("public_adventures").insert([{...e,creator_id:t.id}]).select().single();if(r)throw r;return n},async update(e,t){const{data:n,error:r}=await Fe.from("public_adventures").update(t).eq("id",e).select().single();if(r)throw r;return n},async incrementPlays(e){const{data:t,error:n}=await Fe.rpc("increment_plays",{adventure_id:e});if(n)throw n;return t}},Mr={async me(){const{data:{user:e},error:t}=await Fe.auth.getUser();if(t)throw t;if(!e)throw new Error("Not authenticated");return{id:e.id,email:e.email,...e.user_metadata}},async signUp(e,t,n={}){const{data:r,error:o}=await Fe.auth.signUp({email:e,password:t,options:{data:n}});if(o)throw o;return r},async signIn(e,t){const{data:n,error:r}=await Fe.auth.signInWithPassword({email:e,password:t});if(r)throw r;return n},async signOut(){const{error:e}=await Fe.auth.signOut();if(e)throw e;return{success:!0}},async updateProfile(e){const{data:t,error:n}=await Fe.auth.updateUser({data:e});if(n)throw n;return t}};function F0(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function $b(...e){return t=>{let n=!1;const r=e.map(o=>{const a=F0(o,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let o=0;o<r.length;o++){const a=r[o];typeof a=="function"?a():F0(e[o],null)}}}}function De(...e){return w.useCallback($b(...e),e)}function na(e){const t=OO(e),n=w.forwardRef((r,o)=>{const{children:a,...l}=r,d=w.Children.toArray(a),h=d.find(DO);if(h){const m=h.props.children,p=d.map(y=>y===h?w.Children.count(m)>1?w.Children.only(null):w.isValidElement(m)?m.props.children:null:y);return u.jsx(t,{...l,ref:o,children:w.isValidElement(m)?w.cloneElement(m,void 0,p):null})}return u.jsx(t,{...l,ref:o,children:a})});return n.displayName=`${e}.Slot`,n}var AO=na("Slot");function OO(e){const t=w.forwardRef((n,r)=>{const{children:o,...a}=n;if(w.isValidElement(o)){const l=MO(o),d=LO(a,o.props);return o.type!==w.Fragment&&(d.ref=r?$b(r,l):l),w.cloneElement(o,d)}return w.Children.count(o)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var IO=Symbol("radix.slottable");function DO(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===IO}function LO(e,t){const n={...t};for(const r in t){const o=e[r],a=t[r];/^on[A-Z]/.test(r)?o&&a?n[r]=(...d)=>{const h=a(...d);return o(...d),h}:o&&(n[r]=o):r==="style"?n[r]={...o,...a}:r==="className"&&(n[r]=[o,a].filter(Boolean).join(" "))}return{...e,...n}}function MO(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Fb(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Fb(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ub(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Fb(e))&&(r&&(r+=" "),r+=t);return r}const U0=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,V0=Ub,Dc=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return V0(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:a}=t,l=Object.keys(o).map(m=>{const p=n==null?void 0:n[m],y=a==null?void 0:a[m];if(p===null)return null;const v=U0(p)||U0(y);return o[m][v]}),d=n&&Object.entries(n).reduce((m,p)=>{let[y,v]=p;return v===void 0||(m[y]=v),m},{}),h=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((m,p)=>{let{class:y,className:v,...b}=p;return Object.entries(b).every(k=>{let[S,_]=k;return Array.isArray(_)?_.includes({...a,...d}[S]):{...a,...d}[S]===_})?[...m,y,v]:m},[]);return V0(e,l,h,n==null?void 0:n.class,n==null?void 0:n.className)},wm="-",$O=e=>{const t=UO(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:l=>{const d=l.split(wm);return d[0]===""&&d.length!==1&&d.shift(),Vb(d,t)||FO(l)},getConflictingClassGroupIds:(l,d)=>{const h=n[l]||[];return d&&r[l]?[...h,...r[l]]:h}}},Vb=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?Vb(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const a=e.join(wm);return(l=t.validators.find(({validator:d})=>d(a)))==null?void 0:l.classGroupId},B0=/^\[(.+)\]$/,FO=e=>{if(B0.test(e)){const t=B0.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},UO=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const o in n)df(n[o],r,o,t);return r},df=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const a=o===""?t:z0(t,o);a.classGroupId=n;return}if(typeof o=="function"){if(VO(o)){df(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([a,l])=>{df(l,z0(t,a),n,r)})})},z0=(e,t)=>{let n=e;return t.split(wm).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},VO=e=>e.isThemeGetter,BO=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(a,l)=>{n.set(a,l),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let l=n.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return o(a,l),l},set(a,l){n.has(a)?n.set(a,l):o(a,l)}}},hf="!",ff=":",zO=ff.length,WO=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=o=>{const a=[];let l=0,d=0,h=0,m;for(let k=0;k<o.length;k++){let S=o[k];if(l===0&&d===0){if(S===ff){a.push(o.slice(h,k)),h=k+zO;continue}if(S==="/"){m=k;continue}}S==="["?l++:S==="]"?l--:S==="("?d++:S===")"&&d--}const p=a.length===0?o:o.substring(h),y=HO(p),v=y!==p,b=m&&m>h?m-h:void 0;return{modifiers:a,hasImportantModifier:v,baseClassName:y,maybePostfixModifierPosition:b}};if(t){const o=t+ff,a=r;r=l=>l.startsWith(o)?a(l.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(n){const o=r;r=a=>n({className:a,parseClassName:o})}return r},HO=e=>e.endsWith(hf)?e.substring(0,e.length-1):e.startsWith(hf)?e.substring(1):e,qO=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const o=[];let a=[];return r.forEach(l=>{l[0]==="["||t[l]?(o.push(...a.sort(),l),a=[]):a.push(l)}),o.push(...a.sort()),o}},KO=e=>({cache:BO(e.cacheSize),parseClassName:WO(e),sortModifiers:qO(e),...$O(e)}),GO=/\s+/,YO=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:a}=t,l=[],d=e.trim().split(GO);let h="";for(let m=d.length-1;m>=0;m-=1){const p=d[m],{isExternal:y,modifiers:v,hasImportantModifier:b,baseClassName:k,maybePostfixModifierPosition:S}=n(p);if(y){h=p+(h.length>0?" "+h:h);continue}let _=!!S,j=r(_?k.substring(0,S):k);if(!j){if(!_){h=p+(h.length>0?" "+h:h);continue}if(j=r(k),!j){h=p+(h.length>0?" "+h:h);continue}_=!1}const N=a(v).join(":"),E=b?N+hf:N,P=E+j;if(l.includes(P))continue;l.push(P);const R=o(j,_);for(let M=0;M<R.length;++M){const I=R[M];l.push(E+I)}h=p+(h.length>0?" "+h:h)}return h};function XO(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Bb(t))&&(r&&(r+=" "),r+=n);return r}const Bb=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Bb(e[r]))&&(n&&(n+=" "),n+=t);return n};function JO(e,...t){let n,r,o,a=l;function l(h){const m=t.reduce((p,y)=>y(p),e());return n=KO(m),r=n.cache.get,o=n.cache.set,a=d,d(h)}function d(h){const m=r(h);if(m)return m;const p=YO(h,n);return o(h,p),p}return function(){return a(XO.apply(null,arguments))}}const lt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},zb=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Wb=/^\((?:(\w[\w-]*):)?(.+)\)$/i,QO=/^\d+\/\d+$/,ZO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,eI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,nI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ai=e=>QO.test(e),Ee=e=>!!e&&!Number.isNaN(Number(e)),kr=e=>!!e&&Number.isInteger(Number(e)),ph=e=>e.endsWith("%")&&Ee(e.slice(0,-1)),Kn=e=>ZO.test(e),sI=()=>!0,iI=e=>eI.test(e)&&!tI.test(e),Hb=()=>!1,oI=e=>nI.test(e),aI=e=>rI.test(e),lI=e=>!oe(e)&&!ae(e),cI=e=>Mi(e,Gb,Hb),oe=e=>zb.test(e),as=e=>Mi(e,Yb,iI),gh=e=>Mi(e,mI,Ee),W0=e=>Mi(e,qb,Hb),uI=e=>Mi(e,Kb,aI),Ul=e=>Mi(e,Xb,oI),ae=e=>Wb.test(e),Oo=e=>$i(e,Yb),dI=e=>$i(e,pI),H0=e=>$i(e,qb),hI=e=>$i(e,Gb),fI=e=>$i(e,Kb),Vl=e=>$i(e,Xb,!0),Mi=(e,t,n)=>{const r=zb.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},$i=(e,t,n=!1)=>{const r=Wb.exec(e);return r?r[1]?t(r[1]):n:!1},qb=e=>e==="position"||e==="percentage",Kb=e=>e==="image"||e==="url",Gb=e=>e==="length"||e==="size"||e==="bg-size",Yb=e=>e==="length",mI=e=>e==="number",pI=e=>e==="family-name",Xb=e=>e==="shadow",gI=()=>{const e=lt("color"),t=lt("font"),n=lt("text"),r=lt("font-weight"),o=lt("tracking"),a=lt("leading"),l=lt("breakpoint"),d=lt("container"),h=lt("spacing"),m=lt("radius"),p=lt("shadow"),y=lt("inset-shadow"),v=lt("text-shadow"),b=lt("drop-shadow"),k=lt("blur"),S=lt("perspective"),_=lt("aspect"),j=lt("ease"),N=lt("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],R=()=>[...P(),ae,oe],M=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],$=()=>[ae,oe,h],B=()=>[ai,"full","auto",...$()],H=()=>[kr,"none","subgrid",ae,oe],ee=()=>["auto",{span:["full",kr,ae,oe]},kr,ae,oe],te=()=>[kr,"auto",ae,oe],ue=()=>["auto","min","max","fr",ae,oe],le=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ve=()=>["start","end","center","stretch","center-safe","end-safe"],re=()=>["auto",...$()],Z=()=>[ai,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...$()],D=()=>[e,ae,oe],J=()=>[...P(),H0,W0,{position:[ae,oe]}],Y=()=>["no-repeat",{repeat:["","x","y","space","round"]}],L=()=>["auto","cover","contain",hI,cI,{size:[ae,oe]}],z=()=>[ph,Oo,as],de=()=>["","none","full",m,ae,oe],he=()=>["",Ee,Oo,as],je=()=>["solid","dashed","dotted","double"],ke=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>[Ee,ph,H0,W0],me=()=>["","none",k,ae,oe],be=()=>["none",Ee,ae,oe],_e=()=>["none",Ee,ae,oe],Te=()=>[Ee,ae,oe],Pe=()=>[ai,"full",...$()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Kn],breakpoint:[Kn],color:[sI],container:[Kn],"drop-shadow":[Kn],ease:["in","out","in-out"],font:[lI],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Kn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Kn],shadow:[Kn],spacing:["px",Ee],text:[Kn],"text-shadow":[Kn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ai,oe,ae,_]}],container:["container"],columns:[{columns:[Ee,oe,ae,d]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:R()}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:B()}],"inset-x":[{"inset-x":B()}],"inset-y":[{"inset-y":B()}],start:[{start:B()}],end:[{end:B()}],top:[{top:B()}],right:[{right:B()}],bottom:[{bottom:B()}],left:[{left:B()}],visibility:["visible","invisible","collapse"],z:[{z:[kr,"auto",ae,oe]}],basis:[{basis:[ai,"full","auto",d,...$()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ee,ai,"auto","initial","none",oe]}],grow:[{grow:["",Ee,ae,oe]}],shrink:[{shrink:["",Ee,ae,oe]}],order:[{order:[kr,"first","last","none",ae,oe]}],"grid-cols":[{"grid-cols":H()}],"col-start-end":[{col:ee()}],"col-start":[{"col-start":te()}],"col-end":[{"col-end":te()}],"grid-rows":[{"grid-rows":H()}],"row-start-end":[{row:ee()}],"row-start":[{"row-start":te()}],"row-end":[{"row-end":te()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ue()}],"auto-rows":[{"auto-rows":ue()}],gap:[{gap:$()}],"gap-x":[{"gap-x":$()}],"gap-y":[{"gap-y":$()}],"justify-content":[{justify:[...le(),"normal"]}],"justify-items":[{"justify-items":[...ve(),"normal"]}],"justify-self":[{"justify-self":["auto",...ve()]}],"align-content":[{content:["normal",...le()]}],"align-items":[{items:[...ve(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ve(),{baseline:["","last"]}]}],"place-content":[{"place-content":le()}],"place-items":[{"place-items":[...ve(),"baseline"]}],"place-self":[{"place-self":["auto",...ve()]}],p:[{p:$()}],px:[{px:$()}],py:[{py:$()}],ps:[{ps:$()}],pe:[{pe:$()}],pt:[{pt:$()}],pr:[{pr:$()}],pb:[{pb:$()}],pl:[{pl:$()}],m:[{m:re()}],mx:[{mx:re()}],my:[{my:re()}],ms:[{ms:re()}],me:[{me:re()}],mt:[{mt:re()}],mr:[{mr:re()}],mb:[{mb:re()}],ml:[{ml:re()}],"space-x":[{"space-x":$()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":$()}],"space-y-reverse":["space-y-reverse"],size:[{size:Z()}],w:[{w:[d,"screen",...Z()]}],"min-w":[{"min-w":[d,"screen","none",...Z()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[l]},...Z()]}],h:[{h:["screen","lh",...Z()]}],"min-h":[{"min-h":["screen","lh","none",...Z()]}],"max-h":[{"max-h":["screen","lh",...Z()]}],"font-size":[{text:["base",n,Oo,as]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ae,gh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ph,oe]}],"font-family":[{font:[dI,oe,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,ae,oe]}],"line-clamp":[{"line-clamp":[Ee,"none",ae,gh]}],leading:[{leading:[a,...$()]}],"list-image":[{"list-image":["none",ae,oe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ae,oe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:D()}],"text-color":[{text:D()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...je(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ee,"from-font","auto",ae,as]}],"text-decoration-color":[{decoration:D()}],"underline-offset":[{"underline-offset":[Ee,"auto",ae,oe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ae,oe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ae,oe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:J()}],"bg-repeat":[{bg:Y()}],"bg-size":[{bg:L()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},kr,ae,oe],radial:["",ae,oe],conic:[kr,ae,oe]},fI,uI]}],"bg-color":[{bg:D()}],"gradient-from-pos":[{from:z()}],"gradient-via-pos":[{via:z()}],"gradient-to-pos":[{to:z()}],"gradient-from":[{from:D()}],"gradient-via":[{via:D()}],"gradient-to":[{to:D()}],rounded:[{rounded:de()}],"rounded-s":[{"rounded-s":de()}],"rounded-e":[{"rounded-e":de()}],"rounded-t":[{"rounded-t":de()}],"rounded-r":[{"rounded-r":de()}],"rounded-b":[{"rounded-b":de()}],"rounded-l":[{"rounded-l":de()}],"rounded-ss":[{"rounded-ss":de()}],"rounded-se":[{"rounded-se":de()}],"rounded-ee":[{"rounded-ee":de()}],"rounded-es":[{"rounded-es":de()}],"rounded-tl":[{"rounded-tl":de()}],"rounded-tr":[{"rounded-tr":de()}],"rounded-br":[{"rounded-br":de()}],"rounded-bl":[{"rounded-bl":de()}],"border-w":[{border:he()}],"border-w-x":[{"border-x":he()}],"border-w-y":[{"border-y":he()}],"border-w-s":[{"border-s":he()}],"border-w-e":[{"border-e":he()}],"border-w-t":[{"border-t":he()}],"border-w-r":[{"border-r":he()}],"border-w-b":[{"border-b":he()}],"border-w-l":[{"border-l":he()}],"divide-x":[{"divide-x":he()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":he()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...je(),"hidden","none"]}],"divide-style":[{divide:[...je(),"hidden","none"]}],"border-color":[{border:D()}],"border-color-x":[{"border-x":D()}],"border-color-y":[{"border-y":D()}],"border-color-s":[{"border-s":D()}],"border-color-e":[{"border-e":D()}],"border-color-t":[{"border-t":D()}],"border-color-r":[{"border-r":D()}],"border-color-b":[{"border-b":D()}],"border-color-l":[{"border-l":D()}],"divide-color":[{divide:D()}],"outline-style":[{outline:[...je(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ee,ae,oe]}],"outline-w":[{outline:["",Ee,Oo,as]}],"outline-color":[{outline:D()}],shadow:[{shadow:["","none",p,Vl,Ul]}],"shadow-color":[{shadow:D()}],"inset-shadow":[{"inset-shadow":["none",y,Vl,Ul]}],"inset-shadow-color":[{"inset-shadow":D()}],"ring-w":[{ring:he()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:D()}],"ring-offset-w":[{"ring-offset":[Ee,as]}],"ring-offset-color":[{"ring-offset":D()}],"inset-ring-w":[{"inset-ring":he()}],"inset-ring-color":[{"inset-ring":D()}],"text-shadow":[{"text-shadow":["none",v,Vl,Ul]}],"text-shadow-color":[{"text-shadow":D()}],opacity:[{opacity:[Ee,ae,oe]}],"mix-blend":[{"mix-blend":[...ke(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ke()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ee]}],"mask-image-linear-from-pos":[{"mask-linear-from":X()}],"mask-image-linear-to-pos":[{"mask-linear-to":X()}],"mask-image-linear-from-color":[{"mask-linear-from":D()}],"mask-image-linear-to-color":[{"mask-linear-to":D()}],"mask-image-t-from-pos":[{"mask-t-from":X()}],"mask-image-t-to-pos":[{"mask-t-to":X()}],"mask-image-t-from-color":[{"mask-t-from":D()}],"mask-image-t-to-color":[{"mask-t-to":D()}],"mask-image-r-from-pos":[{"mask-r-from":X()}],"mask-image-r-to-pos":[{"mask-r-to":X()}],"mask-image-r-from-color":[{"mask-r-from":D()}],"mask-image-r-to-color":[{"mask-r-to":D()}],"mask-image-b-from-pos":[{"mask-b-from":X()}],"mask-image-b-to-pos":[{"mask-b-to":X()}],"mask-image-b-from-color":[{"mask-b-from":D()}],"mask-image-b-to-color":[{"mask-b-to":D()}],"mask-image-l-from-pos":[{"mask-l-from":X()}],"mask-image-l-to-pos":[{"mask-l-to":X()}],"mask-image-l-from-color":[{"mask-l-from":D()}],"mask-image-l-to-color":[{"mask-l-to":D()}],"mask-image-x-from-pos":[{"mask-x-from":X()}],"mask-image-x-to-pos":[{"mask-x-to":X()}],"mask-image-x-from-color":[{"mask-x-from":D()}],"mask-image-x-to-color":[{"mask-x-to":D()}],"mask-image-y-from-pos":[{"mask-y-from":X()}],"mask-image-y-to-pos":[{"mask-y-to":X()}],"mask-image-y-from-color":[{"mask-y-from":D()}],"mask-image-y-to-color":[{"mask-y-to":D()}],"mask-image-radial":[{"mask-radial":[ae,oe]}],"mask-image-radial-from-pos":[{"mask-radial-from":X()}],"mask-image-radial-to-pos":[{"mask-radial-to":X()}],"mask-image-radial-from-color":[{"mask-radial-from":D()}],"mask-image-radial-to-color":[{"mask-radial-to":D()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[Ee]}],"mask-image-conic-from-pos":[{"mask-conic-from":X()}],"mask-image-conic-to-pos":[{"mask-conic-to":X()}],"mask-image-conic-from-color":[{"mask-conic-from":D()}],"mask-image-conic-to-color":[{"mask-conic-to":D()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:J()}],"mask-repeat":[{mask:Y()}],"mask-size":[{mask:L()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ae,oe]}],filter:[{filter:["","none",ae,oe]}],blur:[{blur:me()}],brightness:[{brightness:[Ee,ae,oe]}],contrast:[{contrast:[Ee,ae,oe]}],"drop-shadow":[{"drop-shadow":["","none",b,Vl,Ul]}],"drop-shadow-color":[{"drop-shadow":D()}],grayscale:[{grayscale:["",Ee,ae,oe]}],"hue-rotate":[{"hue-rotate":[Ee,ae,oe]}],invert:[{invert:["",Ee,ae,oe]}],saturate:[{saturate:[Ee,ae,oe]}],sepia:[{sepia:["",Ee,ae,oe]}],"backdrop-filter":[{"backdrop-filter":["","none",ae,oe]}],"backdrop-blur":[{"backdrop-blur":me()}],"backdrop-brightness":[{"backdrop-brightness":[Ee,ae,oe]}],"backdrop-contrast":[{"backdrop-contrast":[Ee,ae,oe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ee,ae,oe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ee,ae,oe]}],"backdrop-invert":[{"backdrop-invert":["",Ee,ae,oe]}],"backdrop-opacity":[{"backdrop-opacity":[Ee,ae,oe]}],"backdrop-saturate":[{"backdrop-saturate":[Ee,ae,oe]}],"backdrop-sepia":[{"backdrop-sepia":["",Ee,ae,oe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":$()}],"border-spacing-x":[{"border-spacing-x":$()}],"border-spacing-y":[{"border-spacing-y":$()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ae,oe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ee,"initial",ae,oe]}],ease:[{ease:["linear","initial",j,ae,oe]}],delay:[{delay:[Ee,ae,oe]}],animate:[{animate:["none",N,ae,oe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,ae,oe]}],"perspective-origin":[{"perspective-origin":R()}],rotate:[{rotate:be()}],"rotate-x":[{"rotate-x":be()}],"rotate-y":[{"rotate-y":be()}],"rotate-z":[{"rotate-z":be()}],scale:[{scale:_e()}],"scale-x":[{"scale-x":_e()}],"scale-y":[{"scale-y":_e()}],"scale-z":[{"scale-z":_e()}],"scale-3d":["scale-3d"],skew:[{skew:Te()}],"skew-x":[{"skew-x":Te()}],"skew-y":[{"skew-y":Te()}],transform:[{transform:[ae,oe,"","none","gpu","cpu"]}],"transform-origin":[{origin:R()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Pe()}],"translate-x":[{"translate-x":Pe()}],"translate-y":[{"translate-y":Pe()}],"translate-z":[{"translate-z":Pe()}],"translate-none":["translate-none"],accent:[{accent:D()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:D()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ae,oe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ae,oe]}],fill:[{fill:["none",...D()]}],"stroke-w":[{stroke:[Ee,Oo,as,gh]}],stroke:[{stroke:["none",...D()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},yI=JO(gI);function tt(...e){return yI(Ub(e))}const vI=Dc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Zn=w.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...o},a)=>{const l=r?AO:"button";return u.jsx(l,{className:tt(vI({variant:t,size:n,className:e})),ref:a,...o})});Zn.displayName="Button";const Ei=w.forwardRef(({className:e,type:t,...n},r)=>u.jsx("input",{type:t,className:tt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Ei.displayName="Input";var xI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ie=xI.reduce((e,t)=>{const n=na(`Primitive.${t}`),r=w.forwardRef((o,a)=>{const{asChild:l,...d}=o,h=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(h,{...d,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function wI(e,t){e&&ua.flushSync(()=>e.dispatchEvent(t))}var bI="Label",Jb=w.forwardRef((e,t)=>u.jsx(Ie.label,{...e,ref:t,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Jb.displayName=bI;var Qb=Jb;const SI=Dc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),bm=w.forwardRef(({className:e,...t},n)=>u.jsx(Qb,{ref:n,className:tt(SI(),e),...t}));bm.displayName=Qb.displayName;/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Zb=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:a,iconNode:l,...d},h)=>w.createElement("svg",{ref:h,...jI,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Zb("lucide",o),...d},[...l.map(([m,p])=>w.createElement(m,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=(e,t)=>{const n=w.forwardRef(({className:r,...o},a)=>w.createElement(CI,{ref:a,iconNode:t,className:Zb(`lucide-${_I(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],eS=rn("BookOpen",kI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],tS=rn("Check",EI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],nS=rn("ChevronDown",NI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],PI=rn("ChevronUp",TI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]],AI=rn("Handshake",RI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],II=rn("History",OI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],yc=rn("RotateCcw",DI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],rS=rn("Shield",LI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],$I=rn("Swords",MI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],sS=rn("User",FI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],VI=rn("X",UI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],zI=rn("Zap",BI);function WI({character:e,setCharacter:t}){const[n,r]=w.useState(!1),o=["Aeliana","Brynn","Caelan","Darius","Elara","Fenwick","Gareth","Hazel","Iorveth","Jasper","Kira","Lysander","Mira","Nolan","Orion","Petra","Quinn","Rowan","Sage","Theron","Ulric","Vera","Willem","Xara","Yorick","Zara"],a=["Brightblade","Stormwind","Ironforge","Goldleaf","Shadowmere","Fireborn","Moonwhisper","Earthshaker","Starweaver","Thornfield","Ravencrest","Lightbringer","Darkbane","Swiftstrike","Strongarm","Silverbough","Dragonheart","Winterfell","Summerwind","Nightfall","Dawnbreaker","Stormcaller","Flameheart","Frostborn"],l=async()=>{r(!0),setTimeout(()=>{const d=o[Math.floor(Math.random()*o.length)],h=a[Math.floor(Math.random()*a.length)],m=`${d} ${h}`;t(p=>({...p,name:m})),r(!1)},800)};return u.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx(sS,{className:"w-16 h-16 text-amber-400 mx-auto mb-4"}),u.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"What is your character's name?"}),u.jsx("p",{className:"text-white/70",children:"Choose a name that will echo through legend, or let fate decide."})]}),u.jsxs("div",{className:"max-w-md mx-auto space-y-4",children:[u.jsxs("div",{children:[u.jsx(bm,{className:"text-white mb-2 block text-lg",children:"Character Name"}),u.jsx(Ei,{placeholder:"Enter your character's name",value:e.name,onChange:d=>t(h=>({...h,name:d.target.value})),className:"bg-white/10 border-white/20 text-white placeholder-white/50 text-lg p-4 h-14"})]}),u.jsxs(Zn,{onClick:l,variant:"outline",className:"w-full bg-green-600/20 border-green-500/50 text-white hover:bg-green-600/30 h-12",children:[n?u.jsx(K.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 mr-2",children:u.jsx(yc,{className:"w-5 h-5"})}):u.jsx(yc,{className:"w-5 h-5 mr-2"}),n?"Generating...":"Randomize Name"]}),e.name&&u.jsxs(K.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center p-4 bg-white/10 rounded-lg border border-white/20",children:[u.jsx("p",{className:"text-white/70 mb-2",children:"Your character will be known as:"}),u.jsx("p",{className:"text-2xl font-bold text-white",children:e.name})]})]})]})}const HI=Dc("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Se({className:e,variant:t,...n}){return u.jsx("div",{className:tt(HI({variant:t}),e),...n})}function qI({character:e,setCharacter:t}){const n=[{name:"Human",icon:"🧑",description:"Versatile and ambitious, humans excel in any path they choose.",bonuses:"+1 to all abilities",traits:["Extra skill proficiency","Bonus feat"]},{name:"Elf",icon:"🧝",description:"Graceful and long-lived, with keen senses and magical affinity.",bonuses:"+2 Dexterity, +1 Intelligence",traits:["Darkvision","Keen senses","Magic resistance"]},{name:"Dwarf",icon:"🧔",description:"Hardy mountain folk known for their craftsmanship and resilience.",bonuses:"+2 Constitution, +1 Strength",traits:["Damage resistance","Tool proficiency","Mountain strength"]},{name:"Halfling",icon:"🧙‍♂️",description:"Small but brave, with natural luck and nimble fingers.",bonuses:"+2 Dexterity, +1 Charisma",traits:["Lucky","Brave","Nimble escape"]},{name:"Dragonborn",icon:"🐲",description:"Proud descendants of dragons with elemental breath weapons.",bonuses:"+2 Strength, +1 Charisma",traits:["Breath weapon","Damage resistance","Draconic ancestry"]}],r=[{name:"Fighter",icon:"⚔️",description:"Master of weapons and armor, excelling in direct combat.",primaryStat:"Strength or Dexterity",role:"Tank/Damage Dealer",complexity:"Beginner"},{name:"Wizard",icon:"🧙‍♂️",description:"Scholar of arcane magic with powerful spells and vast knowledge.",primaryStat:"Intelligence",role:"Spell Caster",complexity:"Advanced"},{name:"Rogue",icon:"🗡️",description:"Stealthy expert in skills, sneak attacks, and avoiding danger.",primaryStat:"Dexterity",role:"Skill Expert/Damage",complexity:"Intermediate"},{name:"Cleric",icon:"✨",description:"Divine spellcaster who can heal allies and turn undead.",primaryStat:"Wisdom",role:"Healer/Support",complexity:"Intermediate"},{name:"Ranger",icon:"🏹",description:"Nature's guardian with tracking skills and ranged combat prowess.",primaryStat:"Dexterity or Wisdom",role:"Scout/Ranged",complexity:"Intermediate"}],o=a=>{switch(a){case"Beginner":return"bg-green-600/20 text-green-400 border-green-500/50";case"Intermediate":return"bg-yellow-600/20 text-yellow-400 border-yellow-500/50";case"Advanced":return"bg-red-600/20 text-red-400 border-red-500/50";default:return"bg-gray-600/20 text-gray-400 border-gray-500/50"}};return u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("h3",{className:"text-2xl sm:text-3xl font-bold text-white mb-2",style:{fontFamily:"var(--font-heading)"},children:"Choose Your Race"}),u.jsx("p",{className:"text-white/70",children:"Your character's ancestry affects their abilities and traits."})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map((a,l)=>u.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l*.1},onClick:()=>t(d=>({...d,race:a.name})),className:`p-4 rounded-xl border-2 cursor-pointer transition-all duration-300 ${e.race===a.name?"bg-amber-600/20 border-amber-500/50 transform scale-105":"bg-white/10 border-white/20 hover:bg-white/15 hover:scale-102"}`,whileHover:{y:-2},children:[u.jsxs("div",{className:"text-center mb-3",children:[u.jsx("div",{className:"text-4xl mb-2",children:a.icon}),u.jsx("h4",{className:"text-lg font-bold text-white",children:a.name})]}),u.jsx("p",{className:"text-white/70 text-sm mb-3 text-center",children:a.description}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"bg-white/10 rounded p-2",children:[u.jsx("p",{className:"text-xs text-white/60 uppercase",children:"Ability Bonuses"}),u.jsx("p",{className:"text-sm text-white",children:a.bonuses})]}),u.jsxs("div",{className:"bg-white/10 rounded p-2",children:[u.jsx("p",{className:"text-xs text-white/60 uppercase",children:"Racial Traits"}),u.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:a.traits.map((d,h)=>u.jsx(Se,{className:"text-xs bg-blue-600/20 text-blue-300 border-blue-500/50",children:d},h))})]})]})]},a.name))})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("h3",{className:"text-2xl sm:text-3xl font-bold text-white mb-2",style:{fontFamily:"var(--font-heading)"},children:"Choose Your Class"}),u.jsx("p",{className:"text-white/70",children:"Your class determines your abilities, skills, and role in adventures."})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map((a,l)=>u.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l*.1},onClick:()=>t(d=>({...d,class:a.name})),className:`p-6 rounded-xl border-2 cursor-pointer transition-all duration-300 ${e.class===a.name?"bg-amber-600/20 border-amber-500/50 transform scale-105":"bg-white/10 border-white/20 hover:bg-white/15 hover:scale-102"}`,whileHover:{y:-2},children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"text-4xl",children:a.icon}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("h4",{className:"text-xl font-bold text-white",children:a.name}),u.jsx(Se,{className:`text-xs ${o(a.complexity)}`,children:a.complexity})]}),u.jsx("p",{className:"text-white/70 text-sm mb-3",children:a.description}),u.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[u.jsxs("div",{className:"bg-white/10 rounded p-2",children:[u.jsx("p",{className:"text-xs text-white/60 uppercase",children:"Primary Ability"}),u.jsx("p",{className:"text-sm text-white",children:a.primaryStat})]}),u.jsxs("div",{className:"bg-white/10 rounded p-2",children:[u.jsx("p",{className:"text-xs text-white/60 uppercase",children:"Role"}),u.jsx("p",{className:"text-sm text-white",children:a.role})]})]})]})]})},a.name))})]}),(e.race||e.class)&&u.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-amber-600/20 border border-amber-500/40 rounded-lg p-4",children:[u.jsx("h4",{className:"text-white font-medium mb-2",children:"Your Character"}),u.jsxs("div",{className:"flex items-center gap-4",children:[e.race&&u.jsx(Se,{className:"bg-blue-600/20 text-blue-300 border-blue-500/50",children:e.race}),e.class&&u.jsx(Se,{className:"bg-green-600/20 text-green-300 border-green-500/50",children:e.class})]})]})]})}function KI({character:e,setCharacter:t}){const[n,r]=w.useState(null),o=d=>{r(d),setTimeout(()=>{const h=Array.from({length:4},()=>Math.floor(Math.random()*6)+1);h.sort((p,y)=>y-p);const m=h.slice(0,3).reduce((p,y)=>p+y,0);t(p=>({...p,[d]:m})),r(null)},1500)},a=d=>{const h=Math.floor((d-10)/2);return h>=0?`+${h}`:`${h}`},l=[{key:"strength",name:"Strength",description:"Physical power, affects melee damage and carrying capacity"},{key:"dexterity",name:"Dexterity",description:"Agility and reflexes, affects armor class and ranged attacks"},{key:"constitution",name:"Constitution",description:"Health and stamina, affects hit points and endurance"},{key:"intelligence",name:"Intelligence",description:"Reasoning and memory, affects spell power for wizards"},{key:"wisdom",name:"Wisdom",description:"Awareness and insight, affects perception and divine magic"},{key:"charisma",name:"Charisma",description:"Force of personality, affects social interactions and some magic"}];return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h3",{className:"text-2xl sm:text-3xl font-bold text-white mb-4",style:{fontFamily:"var(--font-heading)"},children:"Roll Your Ability Scores"}),u.jsx("p",{className:"text-white/70 text-lg",children:"Roll 4d6, drop the lowest for each ability. These determine your character's natural talents."})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:l.map(d=>u.jsxs(K.div,{className:"bg-white/10 rounded-xl p-6 border border-white/20",whileHover:{scale:1.02},children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-xl font-bold text-white",children:d.name}),u.jsx("p",{className:"text-white/60 text-sm",children:d.description})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:n===d.key?u.jsx(K.span,{animate:{rotate:[0,360]},transition:{duration:.5,repeat:1/0},children:"🎲"}):e[d.key]}),u.jsx("div",{className:"text-white/70",children:a(e[d.key])})]})]}),u.jsx(Zn,{onClick:()=>o(d.key),disabled:n===d.key,className:"w-full bg-amber-600 hover:bg-amber-700",children:n===d.key?"Rolling...":"Roll 4d6"})]},d.key))}),u.jsx("div",{className:"bg-yellow-500/20 border border-yellow-500/40 rounded-lg p-4 mt-6",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-2xl",children:"💡"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-white font-medium",children:"Rolling Tip"}),u.jsx("p",{className:"text-white/70 text-sm",children:"Higher scores are better! 8-10 is below average, 11-13 is average, 14-15 is good, 16-17 is great, and 18 is exceptional."})]})]})})]})}const ra=w.forwardRef(({className:e,...t},n)=>u.jsx("textarea",{className:tt("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));ra.displayName="Textarea";function GI({character:e,setCharacter:t}){const[n,r]=w.useState(!1),o=["Born in the grand library of Candlekeep, you were destined for a life of quiet study and ink-stained fingers. You showed a prodigious talent for deciphering ancient and forbidden texts from a young age, often sneaking into restricted sections. This curiosity, however, became your undoing when you stumbled upon a tome detailing a forgotten, heretical prophecy that threatened the established order. Accused of treason for not immediately reporting your findings, you were branded a traitor and exiled from the only home you've ever known. Fearing for your life, you fled with only a satchel of scrolls and the dangerous knowledge you uncovered. Now you wander the land as a fugitive, seeking allies who might believe your story. The weight of the prophecy presses heavily upon you, a constant reminder of the life you lost and the future you must now protect.","You grew up under the vibrant tents of the 'Wandering Wonders,' a traveling circus renowned for its acrobats and illusionists. Your days were filled with laughter, applause, and the thrill of performing death-defying feats on the high wire. Tragedy struck when the circus master, a cruel and greedy man, fell into debt with a dangerous criminal guild. To save your 'found family', you began using your agility and sleight of hand for less-than-legal purposes at night. You became a ghost, lifting coin purses and precious jewels from wealthy merchants in the towns you visited. Though your actions saved the circus, the thrill of the heist and the guilt of your crimes created a deep conflict within you. Eventually, you left the circus behind, unable to reconcile your two lives, and now seek a legendary treasure, hoping one grand score will be enough to buy back your honor.","You were a proud member of the Stoneguard, a stoic order of warriors sworn to protect a vital mountain pass. For generations, your order held back the savage hordes that threatened the lowlands with unwavering resolve. During a particularly harsh winter, your fortress was besieged by an overwhelming force led by a terrifying hobgoblin warlord. You fought valiantly for weeks, but one by one, your comrades fell around you. In the final, bloody assault, you were knocked unconscious and left for dead beneath a pile of your kin. When you awoke, you were the sole survivor amidst a smoldering ruin, the pass breached. Consumed by survivor's guilt and a burning desire for vengeance, you now hunt the warlord responsible for your order's demise, carrying the shield of your fallen captain as a heavy burden and a symbol of your unending oath.","You once served as a revered cleric in a small, peaceful village, known for your gentle touch and miraculous healing abilities. Your powers stemmed from a pact with a benevolent nature spirit that resided in the nearby ancient woods. One day, a desperate noble brought his dying daughter to you, her body ravaged by a mysterious magical plague. In your attempt to save her, you drew too deeply from your power, inadvertently angering the nature spirit and twisting its benevolent energy. The child was saved, but a dark curse was transferred to you. Now, while you can still heal, each use of your power causes a creeping, shadowy blight to spread across your own skin, and plants wither at your touch. Cast out from your village as an abomination, you search for a way to break the curse, all while wrestling with the moral dilemma of using your tainted gift to help others."],a=async()=>{r(!0),setTimeout(()=>{const l=o[Math.floor(Math.random()*o.length)];t(d=>({...d,background:l})),r(!1)},800)};return u.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx(eS,{className:"w-16 h-16 text-amber-400 mx-auto mb-4"}),u.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Tell your character's story"}),u.jsx("p",{className:"text-white/70",children:"Create a rich background that explains how your character became an adventurer."})]}),u.jsxs("div",{className:"max-w-2xl mx-auto space-y-4",children:[u.jsxs("div",{children:[u.jsx(bm,{className:"text-white mb-2 block text-lg",children:"Background Story"}),u.jsx(ra,{placeholder:"Write your character's background story, or use the randomize button for inspiration...",value:e.background,onChange:l=>t(d=>({...d,background:l.target.value})),className:"bg-white/10 border-white/20 text-white placeholder-white/50 min-h-[200px] resize-none"})]}),u.jsxs(Zn,{onClick:a,variant:"outline",className:"w-full bg-green-600/20 border-green-500/50 text-white hover:bg-green-600/30 h-12",children:[n?u.jsx(K.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 mr-2",children:u.jsx(yc,{className:"w-5 h-5"})}):u.jsx(yc,{className:"w-5 h-5 mr-2"}),n?"Generating...":"Generate Random Background"]}),u.jsx(K.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center p-4 bg-blue-900/20 rounded-lg border border-blue-500/30",children:u.jsxs("p",{className:"text-blue-200 text-sm",children:[u.jsx("strong",{children:"Optional:"})," You can skip this step or add more details later. A good background adds depth to your character's motivations."]})})]})]})}function YI({character:e,setCharacter:t}){var m;const[n,r]=w.useState("weapons"),o={Fighter:{weapons:[{name:"Longsword",description:"Versatile one-handed sword, +1 to attack rolls",recommended:!0},{name:"Greatsword",description:"Powerful two-handed weapon, +2 damage but slower attacks"},{name:"Sword and Shield",description:"Balanced offense and defense, +1 AC when equipped"},{name:"Crossbow",description:"Ranged weapon for tactical combat, ignores some armor"}],armor:[{name:"Chain Mail",description:"Medium armor providing good protection, AC 16",recommended:!0},{name:"Plate Armor",description:"Heavy armor for maximum defense, AC 18 but disadvantage on stealth"},{name:"Leather Armor",description:"Light armor for mobility, AC 12 but allows better movement"}],tools:[{name:"Explorer's Pack",description:"Basic adventuring supplies: rope, rations, torches"},{name:"Healing Potions (2)",description:"Restores 2d4+2 hit points when consumed"},{name:"Whetstone",description:"Keep weapons sharp for maintained damage bonus"}]},Wizard:{weapons:[{name:"Quarterstaff",description:"Simple weapon for emergency combat, can be used two-handed",recommended:!0},{name:"Dagger",description:"Light, throwable weapon that can be concealed"},{name:"Light Crossbow",description:"Ranged option when spells aren't suitable"}],armor:[{name:"Robes",description:"Magical robes that don't restrict spellcasting, AC 10 + Dex",recommended:!0},{name:"Padded Armor",description:"Light protection that still allows full spellcasting"}],tools:[{name:"Spellbook",description:"Contains your known spells and formulas for learning new ones"},{name:"Component Pouch",description:"Material components needed for many spells",recommended:!0},{name:"Scholar's Pack",description:"Books, ink, parchment for magical research"},{name:"Arcane Focus",description:"Crystal or wand that helps focus magical energy"}]},Rogue:{weapons:[{name:"Shortsword",description:"Fast, agile weapon perfect for sneak attacks",recommended:!0},{name:"Daggers (2)",description:"Throwable backup weapons, perfect for surprise attacks"},{name:"Shortbow",description:"Silent ranged weapon for stealthy eliminations"}],armor:[{name:"Leather Armor",description:"Light protection that doesn't hinder stealth, AC 11 + Dex",recommended:!0},{name:"Studded Leather",description:"Slightly better protection while maintaining stealth, AC 12 + Dex"}],tools:[{name:"Thieves' Tools",description:"Lockpicks and tools for disabling traps and opening locks",recommended:!0},{name:"Burglar's Pack",description:"Rope, caltrops, crowbar for infiltration missions"},{name:"Poison Vials (3)",description:"Coat weapons for extra damage on successful hits"}]}},a={weapons:[{name:"Club",description:"Basic weapon available to all classes"},{name:"Dagger",description:"Light, versatile weapon for any adventurer"}],armor:[{name:"Traveler's Clothes",description:"Basic clothing with no armor value but comfortable"}],tools:[{name:"Adventurer's Pack",description:"Basic supplies for any journey"}]},l=o[e.class]||a,d=Object.keys(l),h=p=>{const y=e.equipment||[],v=y.includes(p.name);t(v?b=>({...b,equipment:y.filter(k=>k!==p.name)}):b=>({...b,equipment:[...y,p.name]}))};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h3",{className:"text-2xl sm:text-3xl font-bold text-white mb-4",style:{fontFamily:"var(--font-heading)"},children:"Choose Your Equipment"}),u.jsxs("p",{className:"text-white/70 text-lg",children:["Select starting gear for your ",e.class,". Recommended items are marked for your class."]})]}),u.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:d.map(p=>u.jsx("button",{onClick:()=>r(p),className:`px-6 py-3 rounded-lg font-medium transition-all duration-300 ${n===p?"bg-amber-600 text-white":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:p.charAt(0).toUpperCase()+p.slice(1)},p))}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(m=l[n])==null?void 0:m.map((p,y)=>{const v=(e.equipment||[]).includes(p.name);return u.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:y*.1},className:`p-4 rounded-xl border-2 cursor-pointer transition-all duration-300 ${v?"bg-amber-600/20 border-amber-500/50":"bg-white/10 border-white/20 hover:bg-white/15"}`,onClick:()=>h(p),children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsx("h4",{className:"text-lg font-bold text-white",children:p.name}),u.jsxs("div",{className:"flex gap-2",children:[p.recommended&&u.jsx(Se,{className:"bg-green-600/20 text-green-400 border-green-500/50 text-xs",children:"Recommended"}),v&&u.jsx(Se,{className:"bg-amber-600/20 text-amber-400 border-amber-500/50 text-xs",children:"Selected"})]})]}),u.jsx("p",{className:"text-white/70 text-sm mb-3",children:p.description}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-xs text-white/50 uppercase tracking-wide",children:n.slice(0,-1)}),u.jsx("div",{className:"w-6 h-6 rounded border-2 border-white/30 flex items-center justify-center",children:v&&u.jsx("span",{className:"text-amber-400",children:"✓"})})]})]},p.name)})}),u.jsx("div",{className:"bg-blue-500/20 border border-blue-500/40 rounded-lg p-4 mt-6",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-2xl",children:"⚔️"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-white font-medium",children:"Equipment Tip"}),u.jsxs("p",{className:"text-white/70 text-sm",children:["Your ",e.class," works best with the recommended items, but feel free to customize your loadout for your preferred playstyle."]})]})]})}),u.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[u.jsxs("h4",{className:"text-lg font-medium text-white mb-3",children:["Selected Equipment (",(e.equipment||[]).length," items)"]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:(e.equipment||[]).map((p,y)=>u.jsx(Se,{className:"bg-amber-600/20 text-amber-300 border-amber-500/50",children:p},y))}),(e.equipment||[]).length===0&&u.jsx("p",{className:"text-white/50 italic",children:"No equipment selected yet"})]})]})}function XI({character:e}){const t=r=>Math.floor((r-10)/2),n=r=>{const o=t(r);return o>=0?`+${o}`:`${o}`};return u.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx(tS,{className:"w-16 h-16 text-green-400 mx-auto mb-4"}),u.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Review Your Character"}),u.jsx("p",{className:"text-white/70",children:"Make sure everything looks correct before creating your hardcore character."})]}),u.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[u.jsxs(K.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white/10 rounded-lg p-6 border border-white/20",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(sS,{className:"w-6 h-6 text-amber-400"}),u.jsx("h4",{className:"text-xl font-bold text-white",children:"Character Identity"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:e.name}),u.jsxs("div",{className:"flex justify-center gap-2",children:[u.jsx(Se,{className:"bg-green-700/30 text-green-300 text-base",children:e.race}),u.jsx(Se,{className:"bg-red-700/30 text-red-300 text-base",children:e.class}),u.jsx(Se,{className:"bg-red-600/70 text-red-100 text-base",children:"HARDCORE"})]})]})]}),u.jsxs(K.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.1},className:"bg-white/10 rounded-lg p-6 border border-white/20",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(zI,{className:"w-6 h-6 text-amber-400"}),u.jsx("h4",{className:"text-xl font-bold text-white",children:"Ability Scores"})]}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:Object.entries({strength:"STR",dexterity:"DEX",constitution:"CON",intelligence:"INT",wisdom:"WIS",charisma:"CHA"}).map(([r,o])=>u.jsxs("div",{className:"bg-white/5 rounded-lg p-3 text-center border border-white/10",children:[u.jsx("div",{className:"text-white/70 text-sm uppercase tracking-wider",children:o}),u.jsx("div",{className:"text-2xl font-bold text-white",children:e[r]}),u.jsx("div",{className:"text-lg text-white/60",children:n(e[r])})]},r))})]}),e.background&&u.jsxs(K.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-white/10 rounded-lg p-6 border border-white/20",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(eS,{className:"w-6 h-6 text-amber-400"}),u.jsx("h4",{className:"text-xl font-bold text-white",children:"Background"})]}),u.jsxs("p",{className:"text-white/80 leading-relaxed whitespace-pre-line",children:[e.background.substring(0,200),"..."]})]}),e.equipment.length>0&&u.jsxs(K.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.3},className:"bg-white/10 rounded-lg p-6 border border-white/20",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(rS,{className:"w-6 h-6 text-amber-400"}),u.jsx("h4",{className:"text-xl font-bold text-white",children:"Starting Equipment"})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:e.equipment.map(r=>u.jsx(Se,{className:"bg-amber-700/30 text-amber-200 text-sm",children:r},r))})]}),u.jsxs(K.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.4},className:"bg-red-900/20 border-2 border-red-500/50 rounded-lg p-6 text-center",children:[u.jsx("div",{className:"text-3xl mb-3",children:"💀"}),u.jsx("h4",{className:"text-xl font-bold text-red-300 mb-2",children:"FINAL HARDCORE WARNING"}),u.jsxs("p",{className:"text-red-200/90",children:["Once created, ",u.jsx("strong",{children:e.name})," will be in permanent hardcore mode. If they die during any adventure, they will be immediately and irreversibly deleted. There are no second chances, resurrections, or recoveries."]})]})]})]})}const Er=[{id:"name",title:"Character Name",component:WI},{id:"race-class",title:"Race & Class",component:qI},{id:"abilities",title:"Ability Scores",component:KI},{id:"background",title:"Background",component:GI},{id:"equipment",title:"Equipment",component:YI},{id:"summary",title:"Review & Confirm",component:XI}];function JI({onCreateCharacter:e,onCancel:t}){const[n,r]=w.useState(0),[o,a]=w.useState(!1),[l,d]=w.useState({name:"",race:"",class:"",background:"",strength:10,dexterity:10,constitution:10,intelligence:10,wisdom:10,charisma:10,equipment:[]}),h=Er[n].component,m=n===Er.length-1,p=n===0,y=()=>{n<Er.length-1&&r(n+1)},v=()=>{n>0&&r(n-1)},b=async()=>{if(!l.name||!l.race||!l.class)return;a(!0);const S={...l,level:1,experience_points:0,hit_points:10+Math.floor((l.constitution-10)/2),max_hit_points:10+Math.floor((l.constitution-10)/2)};setTimeout(async()=>{await e(S),a(!1)},1500)},k=()=>{switch(n){case 0:return l.name.trim()!=="";case 1:return l.race&&l.class;case 2:return!0;case 3:return!0;case 4:return!0;case 5:return l.name&&l.race&&l.class;default:return!1}};return u.jsxs(K.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"parchment max-w-6xl mx-auto p-4 sm:p-8 md:p-12",children:[u.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6 sm:mb-8 border-b-4 border-double border-amber-800/30 pb-6",children:u.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[u.jsx("button",{onClick:t,className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors",children:u.jsx("span",{className:"text-xl",children:"⬅️"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Create Character"}),u.jsxs("p",{className:"text-white/70 text-sm sm:text-base",children:["Step ",n+1," of ",Er.length,": ",Er[n].title]})]})]})}),u.jsxs("div",{className:"mb-6 sm:mb-8",children:[u.jsx("div",{className:"flex justify-between items-center mb-2",children:Er.map((S,_)=>u.jsx("div",{className:`text-[10px] sm:text-xs font-medium ${_<=n?"text-white":"text-white/40"}`,children:S.title},S.id))}),u.jsx("div",{className:"w-full bg-white/20 rounded-full h-2",children:u.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 h-2 rounded-full transition-all duration-500",style:{width:`${(n+1)/Er.length*100}%`}})})]}),u.jsx("div",{className:"mb-8 min-h-[350px] sm:min-h-[400px]",children:u.jsx(_s,{mode:"wait",children:u.jsx(K.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:u.jsx(h,{character:l,setCharacter:d})},n)})}),u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 pt-6 border-t-2 border-amber-800/30",children:[u.jsxs("button",{onClick:v,disabled:p,className:"btn-scroll w-full sm:w-auto px-12 h-14 text-lg flex items-center justify-center gap-2",children:[u.jsx("span",{className:"text-xl",children:"⬅️"}),"Previous"]}),u.jsxs("div",{className:"text-center text-amber-900/60 text-lg hidden sm:block",style:{fontFamily:"var(--font-accent)"},children:[n+1," / ",Er.length]}),m?u.jsx("button",{onClick:b,disabled:o||!k(),className:"btn-scroll-danger w-full sm:w-auto px-8 h-16 text-lg flex items-center justify-center gap-2",children:o?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"animate-spin text-xl",children:"🔄"}),"Creating Character..."]}):u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-xl",children:"⚔️"}),"Create Character"]})}):u.jsxs("button",{onClick:y,disabled:!k(),className:"btn-scroll w-full sm:w-auto px-12 h-14 text-lg flex items-center justify-center gap-2",children:["Next",u.jsx("span",{className:"text-xl",children:"➡️"})]})]})]})}const QI=e=>Math.floor(e.current_xp/e.xp_to_next_level*100);function ZI({character:e,showDetailed:t=!1}){const n=QI(e);return u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(Se,{className:"bg-amber-600/30 text-amber-200 border-amber-500/50 text-lg",children:["Level ",e.level]}),t&&u.jsxs("span",{className:"text-white/70 text-sm",children:[e.current_xp," / ",e.xp_to_next_level," XP"]})]}),!t&&u.jsxs("span",{className:"text-white/70 text-sm font-medium",children:[n,"%"]})]}),u.jsx("div",{className:"w-full bg-gray-700/50 rounded-full h-4 border border-amber-500/30 overflow-hidden",children:u.jsx(K.div,{initial:{width:0},animate:{width:`${n}%`},transition:{duration:1,ease:"easeOut"},className:"h-full bg-gradient-to-r from-amber-600 via-orange-500 to-amber-600 relative",children:u.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})})}),t&&u.jsxs("div",{className:"flex items-center justify-between text-xs text-white/60",children:[u.jsxs("span",{children:["Total XP Earned: ",e.total_xp_earned]}),e.ability_points>0&&u.jsxs(Se,{className:"bg-green-600/30 text-green-200 text-xs",children:[e.ability_points," Points Available"]})]})]})}function eD({character:e,onUpdateCharacter:t}){const[n,r]=w.useState(!1),[o,a]=w.useState(!1),l=m=>Math.floor((m-10)/2),d=m=>{const p=l(m);return p>=0?`+${p}`:`${p}`},h=e.hit_points/e.max_hit_points*100;return u.jsxs(K.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"parchment p-4 sm:p-8",children:[u.jsx("div",{className:"mb-8 border-b-4 pb-4 border-double border-amber-800/30",children:u.jsxs("div",{children:[u.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl text-amber-900/90 mb-2",style:{fontFamily:"var(--font-heading)"},children:e.name}),u.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[u.jsxs(Se,{className:"bg-amber-800/70 text-amber-50 text-sm sm:text-base",style:{fontFamily:"var(--font-body)"},children:["Level ",e.level]}),u.jsx(Se,{className:"bg-green-800/70 text-green-50 text-sm sm:text-base",style:{fontFamily:"var(--font-body)"},children:e.race}),u.jsx(Se,{className:"bg-red-800/70 text-red-50 text-sm sm:text-base",style:{fontFamily:"var(--font-body)"},children:e.class})]}),u.jsx("div",{className:"mb-4",children:u.jsx(ZI,{character:e,showDetailed:!0})})]})}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 mb-8",children:[u.jsxs("div",{className:"bg-amber-800/10 rounded p-4 border border-amber-800/20",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2 text-lg sm:text-xl text-amber-900/90",children:[u.jsx("span",{className:"text-2xl text-red-700",children:"❤️"}),u.jsx("span",{children:"Hit Points"})]}),u.jsxs("div",{className:"text-2xl sm:text-3xl font-bold text-amber-900/90 mb-2",children:[e.hit_points," / ",e.max_hit_points]}),u.jsx("div",{className:"w-full bg-amber-800/20 rounded-full h-4 border border-amber-800/30",children:u.jsx("div",{className:"bg-red-600 h-full rounded-full",style:{width:`${h}%`}})})]}),u.jsxs("div",{className:"bg-amber-800/10 rounded p-4 border border-amber-800/20",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2 text-lg sm:text-xl text-amber-900/90",children:[u.jsx("span",{className:"text-2xl text-yellow-500",children:"⚡️"}),u.jsx("span",{children:"Experience"})]}),u.jsxs("div",{className:"text-2xl sm:text-3xl font-bold text-amber-900/90",children:[e.total_xp_earned," XP"]}),u.jsx("div",{className:"text-sm text-amber-900/70 mt-1",children:"Total earned across all adventures"})]})]}),e.milestones_unlocked&&e.milestones_unlocked.length>0&&u.jsxs("div",{className:"mb-8",children:[u.jsxs("h3",{className:"text-2xl sm:text-3xl text-amber-900/90 mb-4 flex items-center gap-2",style:{fontFamily:"var(--font-heading)"},children:[u.jsx("span",{className:"text-2xl",children:"🏆"}),"Achievements"]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:e.milestones_unlocked.map((m,p)=>u.jsx(Se,{className:"bg-yellow-800/20 text-yellow-900 border-yellow-500 text-sm",children:m.replace(/_/g," ").toUpperCase()},p))})]}),u.jsxs("div",{className:"mb-8",children:[u.jsxs("h3",{className:"text-2xl sm:text-3xl text-amber-900/90 mb-4 flex items-center gap-2",style:{fontFamily:"var(--font-heading)"},children:[u.jsx("span",{className:"text-2xl",children:"🛡️"}),"Ability Scores"]}),u.jsx("div",{className:"grid grid-cols-3 gap-4 max-w-2xl mx-auto",children:Object.entries({strength:"STR",dexterity:"DEX",constitution:"CON",intelligence:"INT",wisdom:"WIS",charisma:"CHA"}).map(([m,p])=>u.jsxs("div",{className:"bg-amber-800/10 rounded-lg p-3 sm:p-4 text-center border-2 border-amber-800/30",children:[u.jsx("div",{className:"text-lg sm:text-xl text-amber-900/80 mb-1",style:{fontFamily:"var(--font-accent)"},children:p}),u.jsx("div",{className:"text-2xl sm:text-4xl font-bold text-amber-900 mb-1",children:e[m]}),u.jsx("div",{className:"text-xl sm:text-2xl font-bold text-amber-900/70",children:d(e[m])})]},m))})]}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("button",{onClick:()=>r(!n),className:"w-full bg-amber-800/10 rounded-t-lg p-4 sm:p-6 border border-amber-800/20 flex items-center justify-between hover:bg-amber-800/15 transition-colors",children:[u.jsxs("h4",{className:"text-xl sm:text-2xl text-amber-900/90 flex items-center gap-2",style:{fontFamily:"var(--font-heading)"},children:[u.jsx("span",{className:"text-2xl",children:"⚔️"}),"Equipment"]}),u.jsx("span",{className:"text-2xl text-amber-900/70 transition-transform duration-200",style:{transform:n?"rotate(180deg)":"rotate(0deg)"},children:"🔽"})]}),u.jsx(K.div,{initial:!1,animate:{height:n?"auto":0,opacity:n?1:0},transition:{duration:.3},className:"overflow-hidden",children:u.jsx("div",{className:"bg-amber-800/5 rounded-b-lg p-4 sm:p-6 border-l border-r border-b border-amber-800/20",children:u.jsx("ul",{className:"list-disc list-inside space-y-2 text-base sm:text-lg text-amber-900/80",children:e.equipment&&e.equipment.length>0?e.equipment.map((m,p)=>u.jsx(K.li,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:p*.1},children:m},p)):u.jsx("li",{className:"italic",children:"No equipment listed"})})})})]}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("button",{onClick:()=>a(!o),className:"w-full bg-amber-800/10 rounded-t-lg p-4 sm:p-6 border border-amber-800/20 flex items-center justify-between hover:bg-amber-800/15 transition-colors",children:[u.jsxs("h4",{className:"text-xl sm:text-2xl text-amber-900/90 flex items-center gap-2",style:{fontFamily:"var(--font-heading)"},children:[u.jsx("span",{className:"text-2xl",children:"📜"}),"Background"]}),u.jsx("span",{className:"text-2xl text-amber-900/70 transition-transform duration-200",style:{transform:o?"rotate(180deg)":"rotate(0deg)"},children:"🔽"})]}),u.jsx(K.div,{initial:!1,animate:{height:o?"auto":0,opacity:o?1:0},transition:{duration:.3},className:"overflow-hidden",children:u.jsx("div",{className:"bg-amber-800/5 rounded-b-lg p-4 sm:p-6 border-l border-r border-b border-amber-800/20",children:u.jsx(K.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-base sm:text-lg text-amber-900/80 leading-relaxed whitespace-pre-line",children:e.background||"No background story yet..."})})})]})]})}function tD({characters:e,selectedCharacter:t,onSelectCharacter:n,onCreateNew:r}){return u.jsxs(K.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"parchment p-4 sm:p-6 h-full",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6 border-b-2 border-amber-800/20 pb-4 sticky top-0 z-10",style:{backgroundImage:"url('https://images.unsplash.com/photo-1615800098779-79a835eda3f6?q=80&w=1974')",backgroundSize:"cover",backgroundPosition:"center"},children:[u.jsxs("h3",{className:"text-xl sm:text-2xl text-amber-900/90 flex items-center gap-2",children:[u.jsx("span",{className:"text-2xl",children:"👤"}),"Your Heroes"]}),u.jsxs("button",{onClick:r,className:"btn-scroll w-24 h-12 text-sm sm:w-28 sm:h-12 sm:text-sm",children:[u.jsx("span",{className:"text-lg inline-block mr-1",children:"+"}),"New"]})]}),u.jsx("div",{className:"space-y-3",children:e.map(o=>u.jsxs("button",{onClick:()=>n(o),className:`w-full p-4 rounded-lg border-2 text-left transition-all duration-300 ${(t==null?void 0:t.id)===o.id?"bg-amber-800/20 border-amber-800/40":"bg-amber-800/5 border-amber-800/20 hover:bg-amber-800/10"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h4",{className:"text-lg sm:text-xl text-amber-900/90",style:{fontFamily:"var(--font-heading)"},children:o.name}),u.jsxs(Se,{className:"bg-amber-800/70 text-amber-50 text-xs sm:text-base",style:{fontFamily:"var(--font-body)"},children:["Lvl ",o.level]})]}),u.jsxs("div",{className:"flex gap-2 text-sm sm:text-base text-amber-900/70",children:[u.jsx("span",{children:o.race}),u.jsx("span",{children:"•"}),u.jsx("span",{children:o.class})]})]},o.id))}),e.length===0&&u.jsxs("div",{className:"text-center py-12",children:[u.jsx("p",{className:"text-base sm:text-lg text-amber-900/70 mb-4",children:"Your epic saga awaits a hero."}),u.jsx("button",{onClick:r,className:"btn-scroll w-52 h-16 text-base",children:"Forge a Character"})]})]})}function iS(){const[e,t]=w.useState([]),[n,r]=w.useState(null),[o,a]=w.useState(!1),[l,d]=w.useState(null),[h,m]=w.useState(!0),p=w.useCallback(async()=>{m(!0);try{const b=await Mr.me();d(b);const k=await Lr.filter({created_by:b.email},"-created_date");t(k),k.length>0&&!n?r(k[0]):k.length===0&&a(!0)}catch(b){console.error("Error loading character data:",b)}finally{m(!1)}},[n]);w.useEffect(()=>{p()},[p]);const y=async b=>{const k=await Lr.create(b);t([k,...e]),r(k),a(!1)},v=async(b,k)=>{await Lr.update(b,k),await p()};return h?u.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center",children:u.jsx(K.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-16 h-16 border-4 border-amber-500/30 border-t-amber-500 rounded-full"})}):u.jsx("div",{className:"min-h-screen p-4 sm:p-6 w-full",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs(K.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8 text-center",children:[u.jsx("h1",{className:"dynamic-title text-amber-100 mb-4",style:{fontFamily:"var(--font-heading)"},children:"Heroes of Legend"}),u.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-transparent via-amber-400 to-transparent mx-auto mb-4"}),u.jsx("p",{className:"text-lg sm:text-xl text-amber-200/80",style:{fontFamily:"var(--font-accent)"},children:"Forge your destiny and shape your legend"})]}),u.jsx(_s,{mode:"wait",children:o?u.jsx(JI,{onCreateCharacter:y,onCancel:()=>a(!1)}):u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8","data-character-content":!0,children:[u.jsx("div",{className:"lg:col-span-4",children:u.jsx(tD,{characters:e,selectedCharacter:n,onSelectCharacter:r,onCreateNew:()=>a(!0)})}),u.jsx("div",{className:"lg:col-span-8",children:n?u.jsx(eD,{character:n,onUpdateCharacter:v}):u.jsxs(K.div,{initial:{opacity:0},animate:{opacity:1},className:"parchment p-8 sm:p-12 text-center",children:[u.jsx("div",{className:"text-5xl sm:text-6xl mb-6",children:"🏰"}),u.jsx("h3",{className:"text-2xl sm:text-3xl font-bold text-amber-900 mb-4",style:{fontFamily:"var(--font-heading)"},children:"Your Tale Awaits"}),u.jsx("p",{className:"text-base sm:text-lg text-amber-800/80 mb-6",children:"Every legend begins with a single step. Create your first hero to embark upon epic adventures!"}),u.jsx("button",{onClick:()=>a(!0),className:"btn-scroll px-8 py-4 text-base sm:text-lg",children:"Forge a Hero"})]})})]})})]})})}const nD="https://aqqadsuukmvsoigzuvva.supabase.co",rD="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFxcWFkc3V1a212c29pZ3p1dnZhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3NjkzMDcsImV4cCI6MjA3NTM0NTMwN30.dDIkOUDnLrJ9CWD_BV03qQf75qMUsc8rJ-WDY7JFcUQ";async function oS(e,t){const n=await fetch(`${nD}/functions/v1/${e}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${rD}`},body:JSON.stringify(t)});if(!n.ok){const r=await n.text();throw new Error(`Edge function error: ${r}`)}return n.json()}const sD=async e=>oS("invoke-llm",e),iD=async e=>oS("send-email",e),oD=e=>{switch(e){case"safe":return{icon:u.jsx(rS,{className:"w-5 h-5 text-green-300"}),badge:"bg-green-700/30 text-green-300 border-green-500/50",button:"bg-green-900/10 hover:bg-green-900/20 border-green-800/30 hover:border-green-600/50"};case"risky":return{icon:u.jsx($I,{className:"w-5 h-5 text-red-400"}),badge:"bg-red-700/30 text-red-300 border-red-500/50",button:"bg-red-900/10 hover:bg-red-900/20 border-red-800/30 hover:border-red-600/50"};case"balanced":default:return{icon:u.jsx(AI,{className:"w-5 h-5 text-blue-300"}),badge:"bg-blue-700/30 text-blue-300 border-blue-500/50",button:"bg-blue-900/10 hover:bg-blue-900/20 border-blue-800/30 hover:border-blue-600/50"}}};function aD({actions:e,onChoice:t}){return u.jsxs(K.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-3",children:[u.jsx("h4",{className:"text-2xl text-amber-900/90",style:{fontFamily:"var(--font-heading)"},children:"What do you do?"}),e.map((n,r)=>{const o=oD(n.type);return u.jsxs(K.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:r*.1},whileHover:{transform:"translateX(5px)"},onClick:()=>t(n),className:`w-full p-4 text-left border-2 rounded-lg transition-all duration-300 ${o.button}`,children:[u.jsxs("div",{className:"flex items-center justify-between gap-3 mb-2",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[o.icon,u.jsx("span",{className:"text-lg text-amber-100 font-semibold",children:n.label})]}),u.jsx(Se,{className:o.badge,children:n.type})]}),u.jsx("p",{className:"text-amber-200/70 ml-8",children:n.description})]},r)})]})}var vt=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{};function lD(e,t){return w.useReducer((n,r)=>t[n][r]??n,e)}var ya=e=>{const{present:t,children:n}=e,r=cD(t),o=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),a=De(r.ref,uD(o));return typeof n=="function"||r.isPresent?w.cloneElement(o,{ref:a}):null};ya.displayName="Presence";function cD(e){const[t,n]=w.useState(),r=w.useRef(null),o=w.useRef(e),a=w.useRef("none"),l=e?"mounted":"unmounted",[d,h]=lD(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const m=Bl(r.current);a.current=d==="mounted"?m:"none"},[d]),vt(()=>{const m=r.current,p=o.current;if(p!==e){const v=a.current,b=Bl(m);e?h("MOUNT"):b==="none"||(m==null?void 0:m.display)==="none"?h("UNMOUNT"):h(p&&v!==b?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,h]),vt(()=>{if(t){let m;const p=t.ownerDocument.defaultView??window,y=b=>{const S=Bl(r.current).includes(CSS.escape(b.animationName));if(b.target===t&&S&&(h("ANIMATION_END"),!o.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",m=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},v=b=>{b.target===t&&(a.current=Bl(r.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",y),t.addEventListener("animationend",y),()=>{p.clearTimeout(m),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",y),t.removeEventListener("animationend",y)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:w.useCallback(m=>{r.current=m?getComputedStyle(m):null,n(m)},[])}}function Bl(e){return(e==null?void 0:e.animationName)||"none"}function uD(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function va(e,t=[]){let n=[];function r(a,l){const d=w.createContext(l),h=n.length;n=[...n,l];const m=y=>{var j;const{scope:v,children:b,...k}=y,S=((j=v==null?void 0:v[e])==null?void 0:j[h])||d,_=w.useMemo(()=>k,Object.values(k));return u.jsx(S.Provider,{value:_,children:b})};m.displayName=a+"Provider";function p(y,v){var S;const b=((S=v==null?void 0:v[e])==null?void 0:S[h])||d,k=w.useContext(b);if(k)return k;if(l!==void 0)return l;throw new Error(`\`${y}\` must be used within \`${a}\``)}return[m,p]}const o=()=>{const a=n.map(l=>w.createContext(l));return function(d){const h=(d==null?void 0:d[e])||a;return w.useMemo(()=>({[`__scope${e}`]:{...d,[e]:h}}),[d,h])}};return o.scopeName=e,[r,dD(o,...t)]}function dD(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const l=r.reduce((d,{useScope:h,scopeName:m})=>{const y=h(a)[`__scope${m}`];return{...d,...y}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function Lt(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}var hD=w.createContext(void 0);function Sm(e){const t=w.useContext(hD);return e||t||"ltr"}function sa(e,[t,n]){return Math.min(n,Math.max(t,e))}function Ae(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function fD(e,t){return w.useReducer((n,r)=>t[n][r]??n,e)}var _m="ScrollArea",[aS]=va(_m),[mD,sn]=aS(_m),lS=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:o,scrollHideDelay:a=600,...l}=e,[d,h]=w.useState(null),[m,p]=w.useState(null),[y,v]=w.useState(null),[b,k]=w.useState(null),[S,_]=w.useState(null),[j,N]=w.useState(0),[E,P]=w.useState(0),[R,M]=w.useState(!1),[I,$]=w.useState(!1),B=De(t,ee=>h(ee)),H=Sm(o);return u.jsx(mD,{scope:n,type:r,dir:H,scrollHideDelay:a,scrollArea:d,viewport:m,onViewportChange:p,content:y,onContentChange:v,scrollbarX:b,onScrollbarXChange:k,scrollbarXEnabled:R,onScrollbarXEnabledChange:M,scrollbarY:S,onScrollbarYChange:_,scrollbarYEnabled:I,onScrollbarYEnabledChange:$,onCornerWidthChange:N,onCornerHeightChange:P,children:u.jsx(Ie.div,{dir:H,...l,ref:B,style:{position:"relative","--radix-scroll-area-corner-width":j+"px","--radix-scroll-area-corner-height":E+"px",...e.style}})})});lS.displayName=_m;var cS="ScrollAreaViewport",uS=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:o,...a}=e,l=sn(cS,n),d=w.useRef(null),h=De(t,d,l.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),u.jsx(Ie.div,{"data-radix-scroll-area-viewport":"",...a,ref:h,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:u.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});uS.displayName=cS;var Ln="ScrollAreaScrollbar",jm=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=sn(Ln,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:l}=o,d=e.orientation==="horizontal";return w.useEffect(()=>(d?a(!0):l(!0),()=>{d?a(!1):l(!1)}),[d,a,l]),o.type==="hover"?u.jsx(pD,{...r,ref:t,forceMount:n}):o.type==="scroll"?u.jsx(gD,{...r,ref:t,forceMount:n}):o.type==="auto"?u.jsx(dS,{...r,ref:t,forceMount:n}):o.type==="always"?u.jsx(Cm,{...r,ref:t}):null});jm.displayName=Ln;var pD=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=sn(Ln,e.__scopeScrollArea),[a,l]=w.useState(!1);return w.useEffect(()=>{const d=o.scrollArea;let h=0;if(d){const m=()=>{window.clearTimeout(h),l(!0)},p=()=>{h=window.setTimeout(()=>l(!1),o.scrollHideDelay)};return d.addEventListener("pointerenter",m),d.addEventListener("pointerleave",p),()=>{window.clearTimeout(h),d.removeEventListener("pointerenter",m),d.removeEventListener("pointerleave",p)}}},[o.scrollArea,o.scrollHideDelay]),u.jsx(ya,{present:n||a,children:u.jsx(dS,{"data-state":a?"visible":"hidden",...r,ref:t})})}),gD=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=sn(Ln,e.__scopeScrollArea),a=e.orientation==="horizontal",l=Mc(()=>h("SCROLL_END"),100),[d,h]=fD("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(d==="idle"){const m=window.setTimeout(()=>h("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(m)}},[d,o.scrollHideDelay,h]),w.useEffect(()=>{const m=o.viewport,p=a?"scrollLeft":"scrollTop";if(m){let y=m[p];const v=()=>{const b=m[p];y!==b&&(h("SCROLL"),l()),y=b};return m.addEventListener("scroll",v),()=>m.removeEventListener("scroll",v)}},[o.viewport,a,h,l]),u.jsx(ya,{present:n||d!=="hidden",children:u.jsx(Cm,{"data-state":d==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Ae(e.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:Ae(e.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),dS=w.forwardRef((e,t)=>{const n=sn(Ln,e.__scopeScrollArea),{forceMount:r,...o}=e,[a,l]=w.useState(!1),d=e.orientation==="horizontal",h=Mc(()=>{if(n.viewport){const m=n.viewport.offsetWidth<n.viewport.scrollWidth,p=n.viewport.offsetHeight<n.viewport.scrollHeight;l(d?m:p)}},10);return Ni(n.viewport,h),Ni(n.content,h),u.jsx(ya,{present:r||a,children:u.jsx(Cm,{"data-state":a?"visible":"hidden",...o,ref:t})})}),Cm=w.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,o=sn(Ln,e.__scopeScrollArea),a=w.useRef(null),l=w.useRef(0),[d,h]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=gS(d.viewport,d.content),p={...r,sizes:d,onSizesChange:h,hasThumb:m>0&&m<1,onThumbChange:v=>a.current=v,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:v=>l.current=v};function y(v,b){return SD(v,l.current,d,b)}return n==="horizontal"?u.jsx(yD,{...p,ref:t,onThumbPositionChange:()=>{if(o.viewport&&a.current){const v=o.viewport.scrollLeft,b=q0(v,d,o.dir);a.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:v=>{o.viewport&&(o.viewport.scrollLeft=v)},onDragScroll:v=>{o.viewport&&(o.viewport.scrollLeft=y(v,o.dir))}}):n==="vertical"?u.jsx(vD,{...p,ref:t,onThumbPositionChange:()=>{if(o.viewport&&a.current){const v=o.viewport.scrollTop,b=q0(v,d);a.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:v=>{o.viewport&&(o.viewport.scrollTop=v)},onDragScroll:v=>{o.viewport&&(o.viewport.scrollTop=y(v))}}):null}),yD=w.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,a=sn(Ln,e.__scopeScrollArea),[l,d]=w.useState(),h=w.useRef(null),m=De(t,h,a.onScrollbarXChange);return w.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),u.jsx(fS,{"data-orientation":"horizontal",...o,ref:m,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Lc(n)+"px",...e.style},onThumbPointerDown:p=>e.onThumbPointerDown(p.x),onDragScroll:p=>e.onDragScroll(p.x),onWheelScroll:(p,y)=>{if(a.viewport){const v=a.viewport.scrollLeft+p.deltaX;e.onWheelScroll(v),vS(v,y)&&p.preventDefault()}},onResize:()=>{h.current&&a.viewport&&l&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:xc(l.paddingLeft),paddingEnd:xc(l.paddingRight)}})}})}),vD=w.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,a=sn(Ln,e.__scopeScrollArea),[l,d]=w.useState(),h=w.useRef(null),m=De(t,h,a.onScrollbarYChange);return w.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),u.jsx(fS,{"data-orientation":"vertical",...o,ref:m,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Lc(n)+"px",...e.style},onThumbPointerDown:p=>e.onThumbPointerDown(p.y),onDragScroll:p=>e.onDragScroll(p.y),onWheelScroll:(p,y)=>{if(a.viewport){const v=a.viewport.scrollTop+p.deltaY;e.onWheelScroll(v),vS(v,y)&&p.preventDefault()}},onResize:()=>{h.current&&a.viewport&&l&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:xc(l.paddingTop),paddingEnd:xc(l.paddingBottom)}})}})}),[xD,hS]=aS(Ln),fS=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:o,onThumbChange:a,onThumbPointerUp:l,onThumbPointerDown:d,onThumbPositionChange:h,onDragScroll:m,onWheelScroll:p,onResize:y,...v}=e,b=sn(Ln,n),[k,S]=w.useState(null),_=De(t,B=>S(B)),j=w.useRef(null),N=w.useRef(""),E=b.viewport,P=r.content-r.viewport,R=Lt(p),M=Lt(h),I=Mc(y,10);function $(B){if(j.current){const H=B.clientX-j.current.left,ee=B.clientY-j.current.top;m({x:H,y:ee})}}return w.useEffect(()=>{const B=H=>{const ee=H.target;(k==null?void 0:k.contains(ee))&&R(H,P)};return document.addEventListener("wheel",B,{passive:!1}),()=>document.removeEventListener("wheel",B,{passive:!1})},[E,k,P,R]),w.useEffect(M,[r,M]),Ni(k,I),Ni(b.content,I),u.jsx(xD,{scope:n,scrollbar:k,hasThumb:o,onThumbChange:Lt(a),onThumbPointerUp:Lt(l),onThumbPositionChange:M,onThumbPointerDown:Lt(d),children:u.jsx(Ie.div,{...v,ref:_,style:{position:"absolute",...v.style},onPointerDown:Ae(e.onPointerDown,B=>{B.button===0&&(B.target.setPointerCapture(B.pointerId),j.current=k.getBoundingClientRect(),N.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),$(B))}),onPointerMove:Ae(e.onPointerMove,$),onPointerUp:Ae(e.onPointerUp,B=>{const H=B.target;H.hasPointerCapture(B.pointerId)&&H.releasePointerCapture(B.pointerId),document.body.style.webkitUserSelect=N.current,b.viewport&&(b.viewport.style.scrollBehavior=""),j.current=null})})})}),vc="ScrollAreaThumb",mS=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=hS(vc,e.__scopeScrollArea);return u.jsx(ya,{present:n||o.hasThumb,children:u.jsx(wD,{ref:t,...r})})}),wD=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...o}=e,a=sn(vc,n),l=hS(vc,n),{onThumbPositionChange:d}=l,h=De(t,y=>l.onThumbChange(y)),m=w.useRef(void 0),p=Mc(()=>{m.current&&(m.current(),m.current=void 0)},100);return w.useEffect(()=>{const y=a.viewport;if(y){const v=()=>{if(p(),!m.current){const b=_D(y,d);m.current=b,d()}};return d(),y.addEventListener("scroll",v),()=>y.removeEventListener("scroll",v)}},[a.viewport,p,d]),u.jsx(Ie.div,{"data-state":l.hasThumb?"visible":"hidden",...o,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ae(e.onPointerDownCapture,y=>{const b=y.target.getBoundingClientRect(),k=y.clientX-b.left,S=y.clientY-b.top;l.onThumbPointerDown({x:k,y:S})}),onPointerUp:Ae(e.onPointerUp,l.onThumbPointerUp)})});mS.displayName=vc;var km="ScrollAreaCorner",pS=w.forwardRef((e,t)=>{const n=sn(km,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?u.jsx(bD,{...e,ref:t}):null});pS.displayName=km;var bD=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,o=sn(km,n),[a,l]=w.useState(0),[d,h]=w.useState(0),m=!!(a&&d);return Ni(o.scrollbarX,()=>{var y;const p=((y=o.scrollbarX)==null?void 0:y.offsetHeight)||0;o.onCornerHeightChange(p),h(p)}),Ni(o.scrollbarY,()=>{var y;const p=((y=o.scrollbarY)==null?void 0:y.offsetWidth)||0;o.onCornerWidthChange(p),l(p)}),m?u.jsx(Ie.div,{...r,ref:t,style:{width:a,height:d,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function xc(e){return e?parseInt(e,10):0}function gS(e,t){const n=e/t;return isNaN(n)?0:n}function Lc(e){const t=gS(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function SD(e,t,n,r="ltr"){const o=Lc(n),a=o/2,l=t||a,d=o-l,h=n.scrollbar.paddingStart+l,m=n.scrollbar.size-n.scrollbar.paddingEnd-d,p=n.content-n.viewport,y=r==="ltr"?[0,p]:[p*-1,0];return yS([h,m],y)(e)}function q0(e,t,n="ltr"){const r=Lc(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-o,l=t.content-t.viewport,d=a-r,h=n==="ltr"?[0,l]:[l*-1,0],m=sa(e,h);return yS([0,l],[0,d])(m)}function yS(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function vS(e,t){return e>0&&e<t}var _D=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return(function o(){const a={left:e.scrollLeft,top:e.scrollTop},l=n.left!==a.left,d=n.top!==a.top;(l||d)&&t(),n=a,r=window.requestAnimationFrame(o)})(),()=>window.cancelAnimationFrame(r)};function Mc(e,t){const n=Lt(e),r=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),w.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Ni(e,t){const n=Lt(t);vt(()=>{let r=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(r),o.unobserve(e)}}},[e,n])}var xS=lS,jD=uS,CD=pS;const Em=w.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(xS,{ref:r,className:tt("relative overflow-hidden",e),...n,children:[u.jsx(jD,{className:"h-full w-full rounded-[inherit]",children:t}),u.jsx(wS,{}),u.jsx(CD,{})]}));Em.displayName=xS.displayName;const wS=w.forwardRef(({className:e,orientation:t="vertical",...n},r)=>u.jsx(jm,{ref:r,orientation:t,className:tt("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:u.jsx(mS,{className:"relative flex-1 rounded-full bg-border"})}));wS.displayName=jm.displayName;function kD({log:e}){const t=w.useRef(null),n=w.useMemo(()=>e||[],[e]);return w.useEffect(()=>{t.current&&setTimeout(()=>{const r=t.current.querySelector("[data-radix-scroll-area-viewport]");r&&(r.scrollTop=r.scrollHeight)},100)},[n]),u.jsxs("div",{className:"bg-black/20 backdrop-blur-sm border border-white/10 rounded-xl p-4 h-full flex flex-col",children:[u.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2 flex-shrink-0",children:[u.jsx(II,{className:"w-5 h-5"}),"Adventure Log"]}),u.jsx(Em,{className:"flex-grow pr-4",ref:t,children:u.jsx("div",{className:"space-y-4",children:n.length===0?u.jsx("div",{className:"text-center py-12 text-white/50",children:u.jsx("p",{children:"Your story has yet to be written."})}):n.map((r,o)=>u.jsxs(K.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-white/80 border-l-2 border-white/10 pl-4",children:[u.jsxs("p",{className:"font-bold text-amber-300",children:["Depth ",o+1]}),u.jsx("p",{className:"italic text-white/70",children:r})]},o))})})]})}function ED({character:e,onConfirmDeath:t}){return u.jsx(K.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:u.jsxs(K.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-red-900/20 backdrop-blur-md border-2 border-red-500/50 rounded-2xl p-8 max-w-md text-center",children:[u.jsx("div",{className:"text-6xl mb-4",children:"💀"}),u.jsxs("h3",{className:"text-3xl font-bold text-red-300 mb-4",style:{fontFamily:"var(--font-heading)"},children:[e.name," Has Fallen"]}),u.jsx("p",{className:"text-red-200/90 mb-6 leading-relaxed",children:"Your character has met their demise. In this unforgiving world, death is final. Their story ends here, and they will be permanently deleted from the annals of history."}),u.jsx(Zn,{onClick:t,className:"w-full bg-red-600 hover:bg-red-700 text-white text-lg py-6",children:"Accept Your Fate"})]})})}function ND({character:e,currentHP:t,conditions:n=[],isActive:r}){const o=t/e.max_hit_points*100,a=()=>o>=75?"bg-green-500":o>=50?"bg-yellow-500":o>=25?"bg-orange-500":"bg-red-500",l={hidden:"👻",dodging:"🛡️",disengaged:"🏃",prone:"🔻",frightened:"😨",poisoned:"🤢",stunned:"💫",paralyzed:"🥶",unconscious:"😵"};return u.jsxs(K.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:`bg-gradient-to-br from-blue-900/30 to-amber-900/30 backdrop-blur-sm border-2 rounded-xl p-6 ${r?"border-green-500 shadow-lg shadow-green-500/50":"border-blue-500/50"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-2xl font-bold text-white mb-1",style:{fontFamily:"var(--font-heading)"},children:e.name}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Se,{className:"bg-green-600/30 text-green-200 border-green-500/50",children:e.race}),u.jsx(Se,{className:"bg-red-600/30 text-red-200 border-red-500/50",children:e.class}),u.jsxs(Se,{className:"bg-amber-600/30 text-amber-200 border-amber-500/50",children:["Lvl ",e.level]})]})]}),u.jsx("div",{className:"text-6xl",children:"⚔️"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("div",{className:"flex justify-between text-sm text-white/70 mb-2",children:[u.jsx("span",{children:"Hit Points"}),u.jsxs("span",{className:"font-bold",children:[t," / ",e.max_hit_points]})]}),u.jsx("div",{className:"w-full bg-gray-700/50 rounded-full h-6 border border-gray-600",children:u.jsx(K.div,{initial:{width:`${o}%`},animate:{width:`${o}%`},transition:{duration:.5},className:`${a()} h-full rounded-full flex items-center justify-end px-2`,children:u.jsxs("span",{className:"text-xs font-bold text-white",children:[Math.round(o),"%"]})})})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[u.jsxs("div",{className:"bg-black/30 rounded p-2 text-center",children:[u.jsx("div",{className:"text-xs text-white/60",children:"AC"}),u.jsx("div",{className:"text-lg font-bold text-white",children:10+Math.floor((e.dexterity-10)/2)})]}),u.jsxs("div",{className:"bg-black/30 rounded p-2 text-center",children:[u.jsx("div",{className:"text-xs text-white/60",children:"STR"}),u.jsxs("div",{className:"text-lg font-bold text-white",children:[e.strength," (",Math.floor((e.strength-10)/2)>=0?"+":"",Math.floor((e.strength-10)/2),")"]})]}),u.jsxs("div",{className:"bg-black/30 rounded p-2 text-center",children:[u.jsx("div",{className:"text-xs text-white/60",children:"DEX"}),u.jsxs("div",{className:"text-lg font-bold text-white",children:[e.dexterity," (",Math.floor((e.dexterity-10)/2)>=0?"+":"",Math.floor((e.dexterity-10)/2),")"]})]})]}),n.length>0&&u.jsxs("div",{className:"mt-4",children:[u.jsx("div",{className:"text-xs text-white/60 mb-2",children:"Active Conditions:"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((d,h)=>u.jsxs(Se,{className:"bg-yellow-600/30 text-yellow-200 border-yellow-500/50",children:[l[d]||"●"," ",d]},h))})]}),r&&u.jsx("div",{className:"mt-4 text-center",children:u.jsx(Se,{className:"bg-green-600/50 text-green-100 border-green-400 text-sm animate-pulse",children:"⚡ YOUR TURN ⚡"})})]})}function TD({enemy:e,conditions:t=[],onTarget:n,isTargetable:r}){const o=e.hp/e.max_hit_points*100,a=()=>o>=75?"bg-green-500":o>=50?"bg-yellow-500":o>=25?"bg-orange-500":"bg-red-500",l={beast:"🐺",humanoid:"🧟",undead:"💀",dragon:"🐉",aberration:"👾",construct:"🤖",elemental:"🔥"};return u.jsxs(K.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},whileHover:r?{scale:1.02,boxShadow:"0 0 20px rgba(239, 68, 68, 0.5)"}:{},onClick:r?n:void 0,className:`bg-gradient-to-br from-red-900/30 to-orange-900/30 backdrop-blur-sm border-2 rounded-xl p-6 transition-all ${r?"cursor-pointer border-red-500/50 hover:border-red-400":"border-gray-600/50 opacity-50"} ${e.hp===0?"grayscale":""}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-2xl font-bold text-white mb-1",style:{fontFamily:"var(--font-heading)"},children:[e.name,e.hp===0&&" ☠️"]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Se,{className:"bg-red-600/30 text-red-200 border-red-500/50",children:e.type}),u.jsxs(Se,{className:"bg-orange-600/30 text-orange-200 border-orange-500/50",children:["CR ",e.level]})]})]}),u.jsx("div",{className:"text-6xl",children:l[e.type]||"👹"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("div",{className:"flex justify-between text-sm text-white/70 mb-2",children:[u.jsx("span",{children:"Hit Points"}),u.jsxs("span",{className:"font-bold",children:[e.hp," / ",e.max_hit_points]})]}),u.jsx("div",{className:"w-full bg-gray-700/50 rounded-full h-6 border border-gray-600",children:u.jsx(K.div,{initial:{width:`${o}%`},animate:{width:`${o}%`},transition:{duration:.5},className:`${a()} h-full rounded-full flex items-center justify-end px-2`,children:u.jsxs("span",{className:"text-xs font-bold text-white",children:[Math.round(o),"%"]})})})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[u.jsxs("div",{className:"bg-black/30 rounded p-2 text-center",children:[u.jsx("div",{className:"text-xs text-white/60",children:"AC"}),u.jsx("div",{className:"text-lg font-bold text-white",children:e.armor_class})]}),u.jsxs("div",{className:"bg-black/30 rounded p-2 text-center",children:[u.jsx("div",{className:"text-xs text-white/60",children:"Attack"}),u.jsxs("div",{className:"text-lg font-bold text-white",children:["+",e.attack_bonus]})]}),u.jsxs("div",{className:"bg-black/30 rounded p-2 text-center",children:[u.jsx("div",{className:"text-xs text-white/60",children:"Damage"}),u.jsx("div",{className:"text-sm font-bold text-white",children:e.damage_dice})]})]}),t.length>0&&u.jsxs("div",{className:"mt-4",children:[u.jsx("div",{className:"text-xs text-white/60 mb-2",children:"Conditions:"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:t.map((d,h)=>u.jsx(Se,{className:"bg-amber-600/30 text-amber-200 border-amber-500/50 text-xs",children:d},h))})]}),r&&e.hp>0&&u.jsx("div",{className:"mt-4 text-center",children:u.jsx("div",{className:"text-sm text-red-300 font-medium animate-pulse",children:"Click to Attack"})})]})}function PD({onDash:e,onDisengage:t,onDodge:n,onHide:r,onFlee:o,onEndTurn:a,actionUsed:l,bonusActionUsed:d,character:h}){const[m,p]=w.useState(!1),y=[{name:"Attack",icon:"⚔️",action:()=>{},description:"Click an enemy to attack",type:"action",disabled:l},{name:"Dash",icon:"🏃",action:e,description:"Double your movement speed",type:"action",disabled:l},{name:"Disengage",icon:"🏃‍♂️",action:t,description:"Avoid opportunity attacks",type:"action",disabled:l},{name:"Dodge",icon:"🛡️",action:n,description:"Impose disadvantage on attacks",type:"action",disabled:l},{name:"Hide",icon:"👻",action:r,description:"Make a Stealth check",type:"action",disabled:l},{name:"Flee",icon:"🏃💨",action:o,description:"Attempt to escape combat",type:"special",disabled:!1}];return u.jsx("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-50",children:u.jsxs("div",{className:"bg-black/80 backdrop-blur-lg border-2 border-amber-500/50 rounded-2xl p-4 shadow-2xl",children:[u.jsx("div",{className:"flex flex-wrap justify-center gap-3 mb-4",children:y.map((v,b)=>u.jsxs(K.button,{whileHover:v.disabled?{}:{scale:1.05},whileTap:v.disabled?{}:{scale:.95},onClick:v.action,disabled:v.disabled,className:`px-6 py-3 rounded-lg font-bold transition-all ${v.disabled?"bg-gray-700/50 text-gray-500 cursor-not-allowed":v.type==="special"?"bg-yellow-600/80 hover:bg-yellow-500 text-white":"bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-500 hover:to-orange-500 text-white"}`,title:v.description,children:[u.jsx("span",{className:"text-xl mr-2",children:v.icon}),v.name]},b))}),u.jsx("div",{className:"flex justify-center",children:u.jsx(Zn,{onClick:a,className:"bg-green-600 hover:bg-green-700 text-white px-8 py-3 text-lg font-bold",children:"✓ End Turn"})}),u.jsx("div",{className:"mt-3 text-center text-xs text-white/50",children:"Tip: Conserve your action for attacks or use tactical options"})]})})}function RD({messages:e}){const t=w.useRef(null);w.useEffect(()=>{if(t.current){const r=t.current.querySelector("[data-radix-scroll-area-viewport]");r&&(r.scrollTop=r.scrollHeight)}},[e]);const n=r=>{switch(r){case"critical":return"text-yellow-300 font-bold border-l-4 border-yellow-500 pl-3";case"hit":return"text-green-300 border-l-4 border-green-500 pl-3";case"miss":return"text-gray-400 border-l-4 border-gray-600 pl-3";case"fumble":return"text-red-400 font-bold border-l-4 border-red-500 pl-3";case"defeat":return"text-amber-300 font-bold border-l-4 border-amber-500 pl-3";case"action":return"text-blue-300 border-l-4 border-blue-500 pl-3";case"enemy-action":return"text-orange-300 border-l-4 border-orange-500 pl-3";case"success":return"text-green-400 font-bold border-l-4 border-green-500 pl-3";case"error":return"text-red-300 border-l-4 border-red-500 pl-3";default:return"text-white/70 border-l-4 border-white/30 pl-3"}};return u.jsxs("div",{className:"mt-8 bg-black/40 backdrop-blur-sm border border-white/10 rounded-xl p-6",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:"📜 Combat Log"}),u.jsx(Em,{className:"h-64 pr-4",ref:t,children:u.jsx(_s,{children:e.map((r,o)=>u.jsx(K.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05},className:`mb-2 p-2 rounded ${n(r.type)}`,children:r.message},r.timestamp))})})]})}function AD(){return u.jsx(K.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center",children:u.jsx(K.div,{animate:{rotate:[0,360,720,1080],scale:[1,1.2,1,1.2,1]},transition:{duration:1.5,ease:"easeInOut"},className:"text-9xl",children:"🎲"})})}function OD({character:e,outcome:t,rounds:n,damageDealt:r,damageTaken:o,enemies:a,onContinue:l}){const d=t==="victory",h=t==="fled";return u.jsx(K.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"min-h-screen flex items-center justify-center p-4",children:u.jsxs("div",{className:`max-w-2xl w-full rounded-2xl border-4 p-8 ${d?"bg-gradient-to-br from-green-900/40 to-yellow-900/40 border-yellow-500":h?"bg-gradient-to-br from-blue-900/40 to-gray-900/40 border-blue-500":"bg-gradient-to-br from-red-900/40 to-gray-900/40 border-red-500"}`,children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"text-8xl mb-4",children:d?"🏆":h?"🏃":"💀"}),u.jsx("h2",{className:"text-4xl font-bold text-white mb-2",style:{fontFamily:"var(--font-heading)"},children:d?"Victory!":h?"Escaped!":"Defeat..."}),u.jsx("p",{className:"text-white/70 text-lg",children:d?"Your valor has triumphed over adversity!":h?"You live to fight another day!":"Your journey ends here..."})]}),u.jsxs("div",{className:"space-y-4 mb-8",children:[u.jsxs("div",{className:"bg-black/30 rounded-lg p-4",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Battle Statistics"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 text-white",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-white/60 text-sm",children:"Combat Rounds"}),u.jsx("div",{className:"text-2xl font-bold",children:n})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-white/60 text-sm",children:"Enemies Faced"}),u.jsx("div",{className:"text-2xl font-bold",children:a.length})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-white/60 text-sm",children:"Damage Dealt"}),u.jsx("div",{className:"text-2xl font-bold text-red-400",children:r})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-white/60 text-sm",children:"Damage Taken"}),u.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:o})]})]})]}),d&&u.jsxs("div",{className:"bg-yellow-900/20 border border-yellow-500/50 rounded-lg p-4",children:[u.jsx("h3",{className:"text-xl font-bold text-yellow-300 mb-2",children:"⭐ Rewards"}),u.jsxs("div",{className:"text-white/90",children:[u.jsxs("div",{children:["💰 Experience Gained: ",r*10," XP"]}),u.jsxs("div",{children:["🏅 Gold Found: ",Math.floor(r/2)," GP"]})]})]}),u.jsxs("div",{className:"bg-black/30 rounded-lg p-4",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Enemies Encountered"}),u.jsx("div",{className:"space-y-2",children:a.map((m,p)=>u.jsxs("div",{className:"flex items-center justify-between text-white/80",children:[u.jsx("span",{children:m.name}),u.jsxs(Se,{className:"bg-red-600/30 text-red-200",children:["CR ",m.level]})]},p))})]})]}),u.jsx("div",{className:"flex justify-center",children:u.jsx(Zn,{onClick:l,className:`px-12 py-6 text-xl font-bold ${d||h?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:d||h?"Continue Adventure":"Accept Fate"})})]})})}function ID({character:e,enemies:t,onCombatEnd:n}){const[r,o]=w.useState({round:1,currentTurn:"player",playerHP:e.hit_points,enemiesState:t.map(_=>({..._,hp:_.max_hit_points})),combatLog:[],isRolling:!1,lastRoll:null,battleEnded:!1,outcome:null,totalDamageDealt:0,totalDamageTaken:0,actionUsed:!1,bonusActionUsed:!1,reactionUsed:!1,movementRemaining:30,playerConditions:[],enemyConditions:t.map(()=>[]),hasAdvantage:!1,hasDisadvantage:!1});w.useEffect(()=>{r.playerHP<=0?a("defeat"):r.enemiesState.every(_=>_.hp<=0)&&a("victory")},[r.playerHP,r.enemiesState]);const a=_=>{o(j=>({...j,battleEnded:!0,outcome:_}))},l=(_,j="info")=>{o(N=>({...N,combatLog:[...N.combatLog,{message:_,type:j,timestamp:Date.now()}]}))},d=(_,j=0,N=!1,E=!1)=>new Promise(P=>{o(R=>({...R,isRolling:!0})),setTimeout(()=>{let R=Math.floor(Math.random()*_)+1,M=N||E?Math.floor(Math.random()*_)+1:R,I=R;N&&!E?I=Math.max(R,M):E&&!N&&(I=Math.min(R,M));const $=I+j,B=_===20&&(I===1||I===20);o(H=>({...H,isRolling:!1,lastRoll:{roll:I,roll1:R,roll2:N||E?M:null,bonus:j,total:$,isCritical:B,type:I===20?"critical":I===1?"fumble":"normal",advantage:N,disadvantage:E}})),P({roll:I,total:$,isCritical:B})},1500)}),h=async(_,j="action")=>{var ee;if(j==="action"&&r.actionUsed){l("You've already used your action this turn!","error");return}if(j==="bonus"&&r.bonusActionUsed){l("You've already used your bonus action this turn!","error");return}const N=r.enemiesState[_];l(`${e.name} attacks ${N.name}!`,"action");const E=r.playerConditions.includes("hidden")||((ee=N.conditions)==null?void 0:ee.includes("prone")),P=r.playerConditions.includes("prone")||r.playerConditions.includes("frightened"),R=Math.floor((e.strength-10)/2)+2,M=await d(20,R,E,P);if(M.isCritical&&M.roll===1){l(`💀 CRITICAL MISS! ${e.name}'s attack goes wide!`,"fumble"),o(te=>({...te,[j==="action"?"actionUsed":"bonusActionUsed"]:!0}));return}if(M.total<N.armor_class&&!M.isCritical){l(`Miss! Roll: ${M.total} vs AC: ${N.armor_class}`,"miss"),o(te=>({...te,[j==="action"?"actionUsed":"bonusActionUsed"]:!0}));return}const I=Math.floor((e.strength-10)/2),$=M.isCritical&&M.roll===20?2:1;let B=0;for(let te=0;te<$;te++){const ue=await d(8,te===0?I:0);B+=te===0?ue.total:ue.roll}M.isCritical&&M.roll===20?l(`💥 CRITICAL HIT! ${B} damage to ${N.name}!`,"critical"):l(`Hit! ${B} damage to ${N.name}!`,"hit");const H=[...r.enemiesState];H[_].hp=Math.max(0,N.hp-B),H[_].hp===0&&l(`${N.name} has been defeated!`,"defeat"),o(te=>({...te,enemiesState:H,totalDamageDealt:te.totalDamageDealt+B,[j==="action"?"actionUsed":"bonusActionUsed"]:!0}))},m=()=>{if(r.actionUsed){l("You've already used your action this turn!","error");return}l(`${e.name} dashes, doubling movement speed!`,"action"),o(_=>({..._,actionUsed:!0,movementRemaining:_.movementRemaining+30}))},p=()=>{if(r.actionUsed){l("You've already used your action this turn!","error");return}l(`${e.name} disengages! Movement won't provoke opportunity attacks.`,"action"),o(_=>({..._,actionUsed:!0,playerConditions:[..._.playerConditions,"disengaged"]}))},y=()=>{if(r.actionUsed){l("You've already used your action this turn!","error");return}l(`${e.name} takes the Dodge action! Attacks against you have disadvantage.`,"action"),o(_=>({..._,actionUsed:!0,playerConditions:[..._.playerConditions,"dodging"]}))},v=async()=>{if(r.actionUsed){l("You've already used your action this turn!","error");return}l(`${e.name} attempts to hide...`,"action");const _=Math.floor((e.dexterity-10)/2),j=await d(20,_),N=12;j.total>=N?(l(`Successfully hidden! (Stealth: ${j.total})`,"success"),o(E=>({...E,actionUsed:!0,playerConditions:[...E.playerConditions,"hidden"]}))):(l(`Failed to hide. (Stealth: ${j.total} vs Perception: ${N})`,"miss"),o(E=>({...E,actionUsed:!0})))},b=async()=>{l(`${e.name} attempts to flee!`,"action"),(await d(20)).total>=12?(l("Successfully escaped from combat!","success"),a("fled")):(l("Failed to escape! The enemy blocks your path!","miss"),k())},k=()=>{const _=r.playerConditions.filter(j=>j!=="disengaged"&&j!=="dodging");o(j=>({...j,currentTurn:"enemy",playerConditions:_})),setTimeout(()=>S(),1e3)},S=async()=>{const _=r.enemiesState.filter(j=>j.hp>0);for(const j of _){await new Promise(le=>setTimeout(le,800)),l(`${j.name} attacks ${e.name}!`,"enemy-action");const N=r.playerConditions.includes("prone"),E=r.playerConditions.includes("dodging"),P=await d(20,j.attack_bonus,N,E),R=10+Math.floor((e.dexterity-10)/2);if(P.total<R){l(`${j.name} misses!`,"miss");continue}const[M,I]=j.damage_dice.split("+"),[$,B]=M.split("d").map(Number);let ee=parseInt(I)||0;const te=P.isCritical&&P.roll===20,ue=te?$*2:$;for(let le=0;le<ue;le++){const ve=Math.floor(Math.random()*B)+1;ee+=ve}te?l(`💥 CRITICAL HIT! ${j.name} deals ${ee} damage!`,"critical"):l(`${j.name} hits for ${ee} damage!`,"hit"),o(le=>({...le,playerHP:Math.max(0,le.playerHP-ee),totalDamageTaken:le.totalDamageTaken+ee}))}o(j=>({...j,round:j.round+1,currentTurn:"player",actionUsed:!1,bonusActionUsed:!1,reactionUsed:!1,movementRemaining:30}))};return r.battleEnded?u.jsx(OD,{character:e,outcome:r.outcome,rounds:r.round,damageDealt:r.totalDamageDealt,damageTaken:r.totalDamageTaken,enemies:t,onContinue:()=>n(r)}):u.jsx("div",{className:"min-h-screen p-4 sm:p-6",children:u.jsxs(K.div,{initial:{opacity:0},animate:{opacity:1},className:"max-w-7xl mx-auto",children:[u.jsxs("div",{className:"mb-6 text-center",children:[u.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-amber-100 mb-2",style:{fontFamily:"var(--font-heading)"},children:"⚔️ Combat! ⚔️"}),u.jsxs("div",{className:"flex justify-center gap-4 flex-wrap",children:[u.jsxs(Se,{className:"bg-blue-600/30 text-blue-200 border-blue-500/50 text-lg",children:["Round ",r.round]}),u.jsx(Se,{className:`text-lg ${r.currentTurn==="player"?"bg-green-600/30 text-green-200 border-green-500/50":"bg-red-600/30 text-red-200 border-red-500/50"}`,children:r.currentTurn==="player"?"Your Turn":"Enemy Turn"})]})]}),r.currentTurn==="player"&&u.jsxs("div",{className:"mb-6 flex justify-center gap-4 flex-wrap",children:[u.jsxs(Se,{className:r.actionUsed?"bg-gray-600/50":"bg-green-600/50",children:["Action ",r.actionUsed?"✓":"○"]}),u.jsxs(Se,{className:r.bonusActionUsed?"bg-gray-600/50":"bg-yellow-600/50",children:["Bonus Action ",r.bonusActionUsed?"✓":"○"]}),u.jsxs(Se,{className:r.reactionUsed?"bg-gray-600/50":"bg-blue-600/50",children:["Reaction ",r.reactionUsed?"✓":"○"]}),u.jsxs(Se,{className:"bg-blue-600/50",children:["Movement: ",r.movementRemaining,"ft"]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-xl font-bold text-amber-100 mb-4",style:{fontFamily:"var(--font-heading)"},children:"Your Party"}),u.jsx(ND,{character:e,currentHP:r.playerHP,conditions:r.playerConditions,isActive:r.currentTurn==="player"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-xl font-bold text-amber-100 mb-4",style:{fontFamily:"var(--font-heading)"},children:"Enemies"}),r.enemiesState.map((_,j)=>u.jsx(TD,{enemy:_,conditions:r.enemyConditions[j]||[],onTarget:()=>r.currentTurn==="player"&&!r.actionUsed&&h(j),isTargetable:r.currentTurn==="player"&&!r.actionUsed&&_.hp>0&&!r.isRolling},j))]})]}),u.jsx(_s,{children:r.isRolling&&u.jsx(AD,{})}),r.lastRoll&&!r.isRolling&&u.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6 text-center",children:u.jsxs("div",{className:`inline-block px-6 py-3 rounded-lg ${r.lastRoll.type==="critical"?"bg-yellow-600/30 border-2 border-yellow-500":r.lastRoll.type==="fumble"?"bg-red-600/30 border-2 border-red-500":"bg-blue-600/20 border border-blue-500/50"}`,children:[r.lastRoll.advantage&&u.jsx("div",{className:"text-xs text-green-300 mb-1",children:"WITH ADVANTAGE"}),r.lastRoll.disadvantage&&u.jsx("div",{className:"text-xs text-red-300 mb-1",children:"WITH DISADVANTAGE"}),u.jsxs("span",{className:"text-2xl font-bold text-white",children:[r.lastRoll.type==="critical"&&"🎯 ",r.lastRoll.type==="fumble"&&"💀 ",r.lastRoll.roll2!==null&&r.lastRoll.roll2!==r.lastRoll.roll&&u.jsxs("span",{className:"text-white/50",children:["(",r.lastRoll.roll1,", ",r.lastRoll.roll2,") → "]}),"Roll: ",r.lastRoll.roll,r.lastRoll.bonus!==0&&` + ${r.lastRoll.bonus}`," = ",r.lastRoll.total]})]})}),r.currentTurn==="player"&&!r.isRolling&&u.jsx(PD,{onDash:m,onDisengage:p,onDodge:y,onHide:v,onFlee:b,onEndTurn:k,actionUsed:r.actionUsed,bonusActionUsed:r.bonusActionUsed,character:e}),u.jsx(RD,{messages:r.combatLog})]})})}const DD={type:"object",properties:{nodes:{type:"array",description:"An array of exactly 5 new, unique nodes representing the outcomes of the 5 choices.",minItems:5,maxItems:5,items:{type:"object",properties:{scene_description:{type:"string",description:"A rich, atmospheric description for this new scene (3-5 sentences)."},encounter_type:{type:"string",enum:["combat","social","exploration","puzzle","trap","resolution"],description:"The type of encounter, based on weighted probabilities (40% combat, 25% social, 20% exploration, 15% other)."},details:{type:"string",description:"Details for the encounter, like monster names, NPC dialogue hooks, or location descriptions."}},required:["scene_description","encounter_type","details"]}},choices:{type:"array",description:"An array of exactly 5 choices for the player at the CURRENT node.",minItems:5,maxItems:5,items:{type:"object",properties:{label:{type:"string",description:"A concise, compelling label for the action button (3-5 words)."},description:{type:"string",description:"A one-sentence description of the action, hinting at risk/reward."},type:{type:"string",enum:["safe","risky","balanced"]},theme:{type:"string",enum:["social","exploration","strategy","combat","utility"]},child_node_index:{type:"number",description:"The 0-based index of the node in the 'nodes' array that this choice leads to."}},required:["label","description","type","theme","child_node_index"]}}},required:["nodes","choices"]},LD=(e,t,n)=>{const r={combat:[{name:"Goblin Scout",type:"humanoid",damage_dice:"1d6+1"},{name:"Orc Warrior",type:"humanoid",damage_dice:"1d8+2"},{name:"Skeleton",type:"undead",damage_dice:"1d6+1"},{name:"Wolf",type:"beast",damage_dice:"2d4+2"},{name:"Bandit",type:"humanoid",damage_dice:"1d6+2"}]},o=Math.min(Math.floor(t/2)+1,3),a=[];for(let l=0;l<o;l++){const d=r.combat[Math.floor(Math.random()*r.combat.length)],h=Math.floor(Math.random()*3)-1,m=Math.max(1,t+h);a.push({...d,level:m,max_hit_points:m*8+10,armor_class:10+m,attack_bonus:Math.floor(m/2)+2})}return a};function MD({character:e,adventure:t,onAdventureUpdate:n,onCharacterDeath:r}){var P;const[o,a]=w.useState(null),[l,d]=w.useState(!1),[h,m]=w.useState(!1),[p,y]=w.useState([]),[v,b]=w.useState(!1),[k,S]=w.useState([]),_=w.useCallback(async R=>{d(!0);const M=(t.path_log||[]).map(($,B)=>{var H;return{depth:B,description:((H=$.content)==null?void 0:H.scene_description)||""}}),I=`
            You are a master D&D Dungeon Master generating a procedural adventure based on a decision tree.
            Adventure Seed: ${t.seed}
            Character: ${e.name}, a level ${e.level} ${e.race} ${e.class}.
            Current Node (Depth ${R.depth}): ${R.content.scene_description}
            Adventure History Summary: ${JSON.stringify(M.slice(-5))}

            Your task is to generate the next layer of the tree. Create exactly 5 new potential outcome nodes and 5 choices for the current node that lead to them.
            
            RULES:
            1.  **Generate 5 distinct choices** for the current node: one 'safe', one 'risky', and three 'balanced' with varied themes (social, exploration, etc.).
            2.  **Generate 5 corresponding outcome nodes.** Each choice must map to one of these new nodes.
            3.  **Overlap Constraint:** Among the 5 new outcome nodes, a maximum of 2 can be identical. You must generate at least 3 unique nodes. For example, two choices could lead to the same 'Goblin Ambush' node, but three cannot.
            4.  **Weighted Encounters:** The 'encounter_type' for the new nodes should loosely follow these weights: 40% combat, 25% social, 20% exploration, 15% other (puzzle, trap, resolution).
            5.  **Be Creative:** The story must be engaging and react to the character and history. Depth is critical. A node at depth ${R.depth+1} must feel like a progression.
            
            Respond ONLY with the JSON matching the provided schema. Ensure the 'child_node_index' correctly maps each choice to its outcome node.
        `;try{const $=await sD({prompt:I,response_json_schema:DD}),B=$.nodes.map((te,ue)=>({id:`${t.id}_${Date.now()}_${ue}`,depth:R.depth+1,content:te,choices:[]})),H=$.choices.map(te=>({...te,child_node_id:B[te.child_node_index].id}));return{updatedParent:{...R,choices:H},newNodes:B}}catch($){throw console.error("Error generating next nodes:",$),d(!1),$}},[t,e]),j=w.useCallback(async()=>{if(t){d(!0);try{const R=t.path_log||[];let M=R.length-1,I=R[M];if(I||(I={id:"start",depth:0,content:{scene_description:t.seed||"Your adventure begins...",encounter_type:"exploration",details:"The journey starts here."},choices:[]},M=0),!I.choices||I.choices.length===0){const{updatedParent:$,newNodes:B}=await _(I);I=$;const H=[...R];H[M]=I,await n({path_log:H,nodes_cache:[...t.nodes_cache||[],...B]})}y(R.map($=>{var B;return((B=$.content)==null?void 0:B.scene_description)||""})),a(I)}catch(R){console.error("Error loading or generating node:",R)}finally{d(!1)}}},[t,_]);w.useEffect(()=>{v||j()},[j,v]);const N=async R=>{if(l||v)return;const I=(t.nodes_cache||[]).find(B=>B.id===R.child_node_id);if(I.content.encounter_type==="combat"){const B=LD(I.content.encounter_type,e.level,I.content.scene_description);S(B),b(!0);const H=[...t.path_log||[],I];await n({path_log:H});return}if(R.type==="risky"&&e.hit_points<5&&Math.random()<.5){m(!0);return}const $=[...t.path_log||[],I];await n({path_log:$})},E=async R=>{if(b(!1),S([]),R.outcome==="defeat"){m(!0);return}await Lr.update(e.id,{hit_points:R.playerHP,experience_points:e.experience_points+R.totalDamageDealt*10})};return h?u.jsx(ED,{character:e,onConfirmDeath:()=>r(e.id)}):v?u.jsx(ID,{character:e,enemies:k,onCombatEnd:E}):u.jsxs(K.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"flex flex-col lg:flex-row gap-8 h-full",children:[u.jsx("div",{className:"lg:w-2/3 flex flex-col gap-6",children:u.jsxs("div",{className:"parchment p-6 flex-grow",children:[u.jsx("h3",{className:"text-3xl md:text-4xl text-amber-900/90 mb-4",style:{fontFamily:"var(--font-heading)"},children:"The Unfolding Tale"}),u.jsx("p",{className:"text-lg text-amber-900/80 leading-relaxed mb-6",children:((P=o==null?void 0:o.content)==null?void 0:P.scene_description)||"Your adventure is about to begin..."}),u.jsx("div",{className:"w-full h-px bg-amber-800/30 my-6"}),u.jsx(_s,{mode:"wait",children:l||!o?u.jsxs(K.div,{className:"flex flex-col items-center justify-center h-64 text-amber-900/80",children:[u.jsx("span",{className:"text-5xl animate-spin mb-4",children:"🔄"}),u.jsx("p",{className:"text-xl",style:{fontFamily:"var(--font-heading)"},children:"The Dungeon Master is pondering your fate..."})]},"loading"):u.jsx(aD,{actions:(o==null?void 0:o.choices)||[],onChoice:N},"actions")})]})}),u.jsx("div",{className:"lg:w-1/3",children:u.jsx(kD,{log:p})})]})}function bS(){const[e,t]=w.useState(null),[n,r]=w.useState(null),[o,a]=w.useState(!0),l=Ss(),d=nn(),h=new URLSearchParams(d.search).get("characterId"),m=w.useCallback(async()=>{if(!h){l(Ue("QuestSelection"));return}a(!0);try{const[v,b]=await Promise.all([Lr.get(h),bi.filter({character_id:h})]);if(!v)throw new Error("Character not found");if(t(v),b.length>0)r(b[0]);else{l(Ue(`QuestStart?characterId=${h}`));return}}catch(v){console.error("Error loading adventure data:",v),l(Ue("QuestSelection"))}finally{a(!1)}},[h,l]);w.useEffect(()=>{m()},[m]);const p=async v=>{if(!n)return;const b={...n,...v};await bi.update(n.id,v),r(b)},y=async()=>{try{await Lr.delete(h),l(Ue("QuestSelection"))}catch(v){console.error("Error deleting character:",v)}};return o||!e||!n?u.jsx("div",{className:"min-h-screen p-4 sm:p-6 w-full flex items-center justify-center",children:u.jsx("p",{className:"text-amber-100 text-lg",children:"Loading your adventure..."})}):u.jsx("div",{className:"min-h-screen p-4 sm:p-6 w-full",children:u.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col h-full",children:[u.jsxs(K.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[u.jsxs("h1",{className:"dynamic-title text-amber-100 mb-2",style:{fontFamily:"var(--font-heading)"},children:["The Unfolding Tale of ",e.name]}),u.jsx("p",{className:"text-amber-200/80 text-lg",style:{fontFamily:"var(--font-accent)"},children:"Embark on epic quests and write your legend"})]}),u.jsx("div",{className:"flex-grow","data-adventure-content":!0,children:u.jsx(MD,{character:e,adventure:n,onAdventureUpdate:p,onCharacterDeath:y},n.id)})]})})}function SS(e){const t=e+"CollectionProvider",[n,r]=va(t),[o,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=S=>{const{scope:_,children:j}=S,N=Nr.useRef(null),E=Nr.useRef(new Map).current;return u.jsx(o,{scope:_,itemMap:E,collectionRef:N,children:j})};l.displayName=t;const d=e+"CollectionSlot",h=na(d),m=Nr.forwardRef((S,_)=>{const{scope:j,children:N}=S,E=a(d,j),P=De(_,E.collectionRef);return u.jsx(h,{ref:P,children:N})});m.displayName=d;const p=e+"CollectionItemSlot",y="data-radix-collection-item",v=na(p),b=Nr.forwardRef((S,_)=>{const{scope:j,children:N,...E}=S,P=Nr.useRef(null),R=De(_,P),M=a(p,j);return Nr.useEffect(()=>(M.itemMap.set(P,{ref:P,...E}),()=>void M.itemMap.delete(P))),u.jsx(v,{[y]:"",ref:R,children:N})});b.displayName=p;function k(S){const _=a(e+"CollectionConsumer",S);return Nr.useCallback(()=>{const N=_.collectionRef.current;if(!N)return[];const E=Array.from(N.querySelectorAll(`[${y}]`));return Array.from(_.itemMap.values()).sort((M,I)=>E.indexOf(M.ref.current)-E.indexOf(I.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:l,Slot:m,ItemSlot:b},k,r]}function $D(e,t=globalThis==null?void 0:globalThis.document){const n=Lt(e);w.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var FD="DismissableLayer",mf="dismissableLayer.update",UD="dismissableLayer.pointerDownOutside",VD="dismissableLayer.focusOutside",K0,_S=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jS=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:l,onDismiss:d,...h}=e,m=w.useContext(_S),[p,y]=w.useState(null),v=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=w.useState({}),k=De(t,I=>y(I)),S=Array.from(m.layers),[_]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),j=S.indexOf(_),N=p?S.indexOf(p):-1,E=m.layersWithOutsidePointerEventsDisabled.size>0,P=N>=j,R=WD(I=>{const $=I.target,B=[...m.branches].some(H=>H.contains($));!P||B||(o==null||o(I),l==null||l(I),I.defaultPrevented||d==null||d())},v),M=HD(I=>{const $=I.target;[...m.branches].some(H=>H.contains($))||(a==null||a(I),l==null||l(I),I.defaultPrevented||d==null||d())},v);return $D(I=>{N===m.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&d&&(I.preventDefault(),d()))},v),w.useEffect(()=>{if(p)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(K0=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(p)),m.layers.add(p),G0(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=K0)}},[p,v,n,m]),w.useEffect(()=>()=>{p&&(m.layers.delete(p),m.layersWithOutsidePointerEventsDisabled.delete(p),G0())},[p,m]),w.useEffect(()=>{const I=()=>b({});return document.addEventListener(mf,I),()=>document.removeEventListener(mf,I)},[]),u.jsx(Ie.div,{...h,ref:k,style:{pointerEvents:E?P?"auto":"none":void 0,...e.style},onFocusCapture:Ae(e.onFocusCapture,M.onFocusCapture),onBlurCapture:Ae(e.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Ae(e.onPointerDownCapture,R.onPointerDownCapture)})});jS.displayName=FD;var BD="DismissableLayerBranch",zD=w.forwardRef((e,t)=>{const n=w.useContext(_S),r=w.useRef(null),o=De(t,r);return w.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),u.jsx(Ie.div,{...e,ref:o})});zD.displayName=BD;function WD(e,t=globalThis==null?void 0:globalThis.document){const n=Lt(e),r=w.useRef(!1),o=w.useRef(()=>{});return w.useEffect(()=>{const a=d=>{if(d.target&&!r.current){let h=function(){CS(UD,n,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=h,t.addEventListener("click",o.current,{once:!0})):h()}else t.removeEventListener("click",o.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",a),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function HD(e,t=globalThis==null?void 0:globalThis.document){const n=Lt(e),r=w.useRef(!1);return w.useEffect(()=>{const o=a=>{a.target&&!r.current&&CS(VD,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function G0(){const e=new CustomEvent(mf);document.dispatchEvent(e)}function CS(e,t,n,{discrete:r}){const o=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?wI(o,a):o.dispatchEvent(a)}var yh=0;function qD(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Y0()),document.body.insertAdjacentElement("beforeend",e[1]??Y0()),yh++,()=>{yh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),yh--}},[])}function Y0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var vh="focusScope.autoFocusOnMount",xh="focusScope.autoFocusOnUnmount",X0={bubbles:!1,cancelable:!0},KD="FocusScope",kS=w.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...l}=e,[d,h]=w.useState(null),m=Lt(o),p=Lt(a),y=w.useRef(null),v=De(t,S=>h(S)),b=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let S=function(E){if(b.paused||!d)return;const P=E.target;d.contains(P)?y.current=P:Ar(y.current,{select:!0})},_=function(E){if(b.paused||!d)return;const P=E.relatedTarget;P!==null&&(d.contains(P)||Ar(y.current,{select:!0}))},j=function(E){if(document.activeElement===document.body)for(const R of E)R.removedNodes.length>0&&Ar(d)};document.addEventListener("focusin",S),document.addEventListener("focusout",_);const N=new MutationObserver(j);return d&&N.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",_),N.disconnect()}}},[r,d,b.paused]),w.useEffect(()=>{if(d){Q0.add(b);const S=document.activeElement;if(!d.contains(S)){const j=new CustomEvent(vh,X0);d.addEventListener(vh,m),d.dispatchEvent(j),j.defaultPrevented||(GD(ZD(ES(d)),{select:!0}),document.activeElement===S&&Ar(d))}return()=>{d.removeEventListener(vh,m),setTimeout(()=>{const j=new CustomEvent(xh,X0);d.addEventListener(xh,p),d.dispatchEvent(j),j.defaultPrevented||Ar(S??document.body,{select:!0}),d.removeEventListener(xh,p),Q0.remove(b)},0)}}},[d,m,p,b]);const k=w.useCallback(S=>{if(!n&&!r||b.paused)return;const _=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,j=document.activeElement;if(_&&j){const N=S.currentTarget,[E,P]=YD(N);E&&P?!S.shiftKey&&j===P?(S.preventDefault(),n&&Ar(E,{select:!0})):S.shiftKey&&j===E&&(S.preventDefault(),n&&Ar(P,{select:!0})):j===N&&S.preventDefault()}},[n,r,b.paused]);return u.jsx(Ie.div,{tabIndex:-1,...l,ref:v,onKeyDown:k})});kS.displayName=KD;function GD(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ar(r,{select:t}),document.activeElement!==n)return}function YD(e){const t=ES(e),n=J0(t,e),r=J0(t.reverse(),e);return[n,r]}function ES(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function J0(e,t){for(const n of e)if(!XD(n,{upTo:t}))return n}function XD(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function JD(e){return e instanceof HTMLInputElement&&"select"in e}function Ar(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&JD(e)&&t&&e.select()}}var Q0=QD();function QD(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Z0(e,t),e.unshift(t)},remove(t){var n;e=Z0(e,t),(n=e[0])==null||n.resume()}}}function Z0(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function ZD(e){return e.filter(t=>t.tagName!=="A")}var eL=vx[" useId ".trim().toString()]||(()=>{}),tL=0;function Nm(e){const[t,n]=w.useState(eL());return vt(()=>{n(r=>r??String(tL++))},[e]),t?`radix-${t}`:""}const nL=["top","right","bottom","left"],Fr=Math.min,Wt=Math.max,wc=Math.round,zl=Math.floor,Rn=e=>({x:e,y:e}),rL={left:"right",right:"left",bottom:"top",top:"bottom"},sL={start:"end",end:"start"};function pf(e,t,n){return Wt(e,Fr(t,n))}function er(e,t){return typeof e=="function"?e(t):e}function tr(e){return e.split("-")[0]}function Fi(e){return e.split("-")[1]}function Tm(e){return e==="x"?"y":"x"}function Pm(e){return e==="y"?"height":"width"}const iL=new Set(["top","bottom"]);function Nn(e){return iL.has(tr(e))?"y":"x"}function Rm(e){return Tm(Nn(e))}function oL(e,t,n){n===void 0&&(n=!1);const r=Fi(e),o=Rm(e),a=Pm(o);let l=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(l=bc(l)),[l,bc(l)]}function aL(e){const t=bc(e);return[gf(e),t,gf(t)]}function gf(e){return e.replace(/start|end/g,t=>sL[t])}const ex=["left","right"],tx=["right","left"],lL=["top","bottom"],cL=["bottom","top"];function uL(e,t,n){switch(e){case"top":case"bottom":return n?t?tx:ex:t?ex:tx;case"left":case"right":return t?lL:cL;default:return[]}}function dL(e,t,n,r){const o=Fi(e);let a=uL(tr(e),n==="start",r);return o&&(a=a.map(l=>l+"-"+o),t&&(a=a.concat(a.map(gf)))),a}function bc(e){return e.replace(/left|right|bottom|top/g,t=>rL[t])}function hL(e){return{top:0,right:0,bottom:0,left:0,...e}}function NS(e){return typeof e!="number"?hL(e):{top:e,right:e,bottom:e,left:e}}function Sc(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function nx(e,t,n){let{reference:r,floating:o}=e;const a=Nn(t),l=Rm(t),d=Pm(l),h=tr(t),m=a==="y",p=r.x+r.width/2-o.width/2,y=r.y+r.height/2-o.height/2,v=r[d]/2-o[d]/2;let b;switch(h){case"top":b={x:p,y:r.y-o.height};break;case"bottom":b={x:p,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y};break;case"left":b={x:r.x-o.width,y};break;default:b={x:r.x,y:r.y}}switch(Fi(t)){case"start":b[l]-=v*(n&&m?-1:1);break;case"end":b[l]+=v*(n&&m?-1:1);break}return b}const fL=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:a=[],platform:l}=n,d=a.filter(Boolean),h=await(l.isRTL==null?void 0:l.isRTL(t));let m=await l.getElementRects({reference:e,floating:t,strategy:o}),{x:p,y}=nx(m,r,h),v=r,b={},k=0;for(let S=0;S<d.length;S++){const{name:_,fn:j}=d[S],{x:N,y:E,data:P,reset:R}=await j({x:p,y,initialPlacement:r,placement:v,strategy:o,middlewareData:b,rects:m,platform:l,elements:{reference:e,floating:t}});p=N??p,y=E??y,b={...b,[_]:{...b[_],...P}},R&&k<=50&&(k++,typeof R=="object"&&(R.placement&&(v=R.placement),R.rects&&(m=R.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:o}):R.rects),{x:p,y}=nx(m,v,h)),S=-1)}return{x:p,y,placement:v,strategy:o,middlewareData:b}};async function ia(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:a,rects:l,elements:d,strategy:h}=e,{boundary:m="clippingAncestors",rootBoundary:p="viewport",elementContext:y="floating",altBoundary:v=!1,padding:b=0}=er(t,e),k=NS(b),_=d[v?y==="floating"?"reference":"floating":y],j=Sc(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(_)))==null||n?_:_.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(d.floating)),boundary:m,rootBoundary:p,strategy:h})),N=y==="floating"?{x:r,y:o,width:l.floating.width,height:l.floating.height}:l.reference,E=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d.floating)),P=await(a.isElement==null?void 0:a.isElement(E))?await(a.getScale==null?void 0:a.getScale(E))||{x:1,y:1}:{x:1,y:1},R=Sc(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:N,offsetParent:E,strategy:h}):N);return{top:(j.top-R.top+k.top)/P.y,bottom:(R.bottom-j.bottom+k.bottom)/P.y,left:(j.left-R.left+k.left)/P.x,right:(R.right-j.right+k.right)/P.x}}const mL=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:a,platform:l,elements:d,middlewareData:h}=t,{element:m,padding:p=0}=er(e,t)||{};if(m==null)return{};const y=NS(p),v={x:n,y:r},b=Rm(o),k=Pm(b),S=await l.getDimensions(m),_=b==="y",j=_?"top":"left",N=_?"bottom":"right",E=_?"clientHeight":"clientWidth",P=a.reference[k]+a.reference[b]-v[b]-a.floating[k],R=v[b]-a.reference[b],M=await(l.getOffsetParent==null?void 0:l.getOffsetParent(m));let I=M?M[E]:0;(!I||!await(l.isElement==null?void 0:l.isElement(M)))&&(I=d.floating[E]||a.floating[k]);const $=P/2-R/2,B=I/2-S[k]/2-1,H=Fr(y[j],B),ee=Fr(y[N],B),te=H,ue=I-S[k]-ee,le=I/2-S[k]/2+$,ve=pf(te,le,ue),re=!h.arrow&&Fi(o)!=null&&le!==ve&&a.reference[k]/2-(le<te?H:ee)-S[k]/2<0,Z=re?le<te?le-te:le-ue:0;return{[b]:v[b]+Z,data:{[b]:ve,centerOffset:le-ve-Z,...re&&{alignmentOffset:Z}},reset:re}}}),pL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:a,rects:l,initialPlacement:d,platform:h,elements:m}=t,{mainAxis:p=!0,crossAxis:y=!0,fallbackPlacements:v,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:S=!0,..._}=er(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const j=tr(o),N=Nn(d),E=tr(d)===d,P=await(h.isRTL==null?void 0:h.isRTL(m.floating)),R=v||(E||!S?[bc(d)]:aL(d)),M=k!=="none";!v&&M&&R.push(...dL(d,S,k,P));const I=[d,...R],$=await ia(t,_),B=[];let H=((r=a.flip)==null?void 0:r.overflows)||[];if(p&&B.push($[j]),y){const le=oL(o,l,P);B.push($[le[0]],$[le[1]])}if(H=[...H,{placement:o,overflows:B}],!B.every(le=>le<=0)){var ee,te;const le=(((ee=a.flip)==null?void 0:ee.index)||0)+1,ve=I[le];if(ve&&(!(y==="alignment"?N!==Nn(ve):!1)||H.every(D=>Nn(D.placement)===N?D.overflows[0]>0:!0)))return{data:{index:le,overflows:H},reset:{placement:ve}};let re=(te=H.filter(Z=>Z.overflows[0]<=0).sort((Z,D)=>Z.overflows[1]-D.overflows[1])[0])==null?void 0:te.placement;if(!re)switch(b){case"bestFit":{var ue;const Z=(ue=H.filter(D=>{if(M){const J=Nn(D.placement);return J===N||J==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(J=>J>0).reduce((J,Y)=>J+Y,0)]).sort((D,J)=>D[1]-J[1])[0])==null?void 0:ue[0];Z&&(re=Z);break}case"initialPlacement":re=d;break}if(o!==re)return{reset:{placement:re}}}return{}}}};function rx(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function sx(e){return nL.some(t=>e[t]>=0)}const gL=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=er(e,t);switch(r){case"referenceHidden":{const a=await ia(t,{...o,elementContext:"reference"}),l=rx(a,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:sx(l)}}}case"escaped":{const a=await ia(t,{...o,altBoundary:!0}),l=rx(a,n.floating);return{data:{escapedOffsets:l,escaped:sx(l)}}}default:return{}}}}},TS=new Set(["left","top"]);async function yL(e,t){const{placement:n,platform:r,elements:o}=e,a=await(r.isRTL==null?void 0:r.isRTL(o.floating)),l=tr(n),d=Fi(n),h=Nn(n)==="y",m=TS.has(l)?-1:1,p=a&&h?-1:1,y=er(t,e);let{mainAxis:v,crossAxis:b,alignmentAxis:k}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return d&&typeof k=="number"&&(b=d==="end"?k*-1:k),h?{x:b*p,y:v*m}:{x:v*m,y:b*p}}const vL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:a,placement:l,middlewareData:d}=t,h=await yL(t,e);return l===((n=d.offset)==null?void 0:n.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:o+h.x,y:a+h.y,data:{...h,placement:l}}}}},xL=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:a=!0,crossAxis:l=!1,limiter:d={fn:_=>{let{x:j,y:N}=_;return{x:j,y:N}}},...h}=er(e,t),m={x:n,y:r},p=await ia(t,h),y=Nn(tr(o)),v=Tm(y);let b=m[v],k=m[y];if(a){const _=v==="y"?"top":"left",j=v==="y"?"bottom":"right",N=b+p[_],E=b-p[j];b=pf(N,b,E)}if(l){const _=y==="y"?"top":"left",j=y==="y"?"bottom":"right",N=k+p[_],E=k-p[j];k=pf(N,k,E)}const S=d.fn({...t,[v]:b,[y]:k});return{...S,data:{x:S.x-n,y:S.y-r,enabled:{[v]:a,[y]:l}}}}}},wL=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:a,middlewareData:l}=t,{offset:d=0,mainAxis:h=!0,crossAxis:m=!0}=er(e,t),p={x:n,y:r},y=Nn(o),v=Tm(y);let b=p[v],k=p[y];const S=er(d,t),_=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(h){const E=v==="y"?"height":"width",P=a.reference[v]-a.floating[E]+_.mainAxis,R=a.reference[v]+a.reference[E]-_.mainAxis;b<P?b=P:b>R&&(b=R)}if(m){var j,N;const E=v==="y"?"width":"height",P=TS.has(tr(o)),R=a.reference[y]-a.floating[E]+(P&&((j=l.offset)==null?void 0:j[y])||0)+(P?0:_.crossAxis),M=a.reference[y]+a.reference[E]+(P?0:((N=l.offset)==null?void 0:N[y])||0)-(P?_.crossAxis:0);k<R?k=R:k>M&&(k=M)}return{[v]:b,[y]:k}}}},bL=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:a,platform:l,elements:d}=t,{apply:h=()=>{},...m}=er(e,t),p=await ia(t,m),y=tr(o),v=Fi(o),b=Nn(o)==="y",{width:k,height:S}=a.floating;let _,j;y==="top"||y==="bottom"?(_=y,j=v===(await(l.isRTL==null?void 0:l.isRTL(d.floating))?"start":"end")?"left":"right"):(j=y,_=v==="end"?"top":"bottom");const N=S-p.top-p.bottom,E=k-p.left-p.right,P=Fr(S-p[_],N),R=Fr(k-p[j],E),M=!t.middlewareData.shift;let I=P,$=R;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&($=E),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(I=N),M&&!v){const H=Wt(p.left,0),ee=Wt(p.right,0),te=Wt(p.top,0),ue=Wt(p.bottom,0);b?$=k-2*(H!==0||ee!==0?H+ee:Wt(p.left,p.right)):I=S-2*(te!==0||ue!==0?te+ue:Wt(p.top,p.bottom))}await h({...t,availableWidth:$,availableHeight:I});const B=await l.getDimensions(d.floating);return k!==B.width||S!==B.height?{reset:{rects:!0}}:{}}}};function $c(){return typeof window<"u"}function Ui(e){return PS(e)?(e.nodeName||"").toLowerCase():"#document"}function Ht(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Mn(e){var t;return(t=(PS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function PS(e){return $c()?e instanceof Node||e instanceof Ht(e).Node:!1}function xn(e){return $c()?e instanceof Element||e instanceof Ht(e).Element:!1}function In(e){return $c()?e instanceof HTMLElement||e instanceof Ht(e).HTMLElement:!1}function ix(e){return!$c()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ht(e).ShadowRoot}const SL=new Set(["inline","contents"]);function xa(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=wn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!SL.has(o)}const _L=new Set(["table","td","th"]);function jL(e){return _L.has(Ui(e))}const CL=[":popover-open",":modal"];function Fc(e){return CL.some(t=>{try{return e.matches(t)}catch{return!1}})}const kL=["transform","translate","scale","rotate","perspective"],EL=["transform","translate","scale","rotate","perspective","filter"],NL=["paint","layout","strict","content"];function Am(e){const t=Om(),n=xn(e)?wn(e):e;return kL.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||EL.some(r=>(n.willChange||"").includes(r))||NL.some(r=>(n.contain||"").includes(r))}function TL(e){let t=Ur(e);for(;In(t)&&!Ti(t);){if(Am(t))return t;if(Fc(t))return null;t=Ur(t)}return null}function Om(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const PL=new Set(["html","body","#document"]);function Ti(e){return PL.has(Ui(e))}function wn(e){return Ht(e).getComputedStyle(e)}function Uc(e){return xn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ur(e){if(Ui(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ix(e)&&e.host||Mn(e);return ix(t)?t.host:t}function RS(e){const t=Ur(e);return Ti(t)?e.ownerDocument?e.ownerDocument.body:e.body:In(t)&&xa(t)?t:RS(t)}function oa(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=RS(e),a=o===((r=e.ownerDocument)==null?void 0:r.body),l=Ht(o);if(a){const d=yf(l);return t.concat(l,l.visualViewport||[],xa(o)?o:[],d&&n?oa(d):[])}return t.concat(o,oa(o,[],n))}function yf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function AS(e){const t=wn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=In(e),a=o?e.offsetWidth:n,l=o?e.offsetHeight:r,d=wc(n)!==a||wc(r)!==l;return d&&(n=a,r=l),{width:n,height:r,$:d}}function Im(e){return xn(e)?e:e.contextElement}function Si(e){const t=Im(e);if(!In(t))return Rn(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:a}=AS(t);let l=(a?wc(n.width):n.width)/r,d=(a?wc(n.height):n.height)/o;return(!l||!Number.isFinite(l))&&(l=1),(!d||!Number.isFinite(d))&&(d=1),{x:l,y:d}}const RL=Rn(0);function OS(e){const t=Ht(e);return!Om()||!t.visualViewport?RL:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function AL(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ht(e)?!1:t}function xs(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),a=Im(e);let l=Rn(1);t&&(r?xn(r)&&(l=Si(r)):l=Si(e));const d=AL(a,n,r)?OS(a):Rn(0);let h=(o.left+d.x)/l.x,m=(o.top+d.y)/l.y,p=o.width/l.x,y=o.height/l.y;if(a){const v=Ht(a),b=r&&xn(r)?Ht(r):r;let k=v,S=yf(k);for(;S&&r&&b!==k;){const _=Si(S),j=S.getBoundingClientRect(),N=wn(S),E=j.left+(S.clientLeft+parseFloat(N.paddingLeft))*_.x,P=j.top+(S.clientTop+parseFloat(N.paddingTop))*_.y;h*=_.x,m*=_.y,p*=_.x,y*=_.y,h+=E,m+=P,k=Ht(S),S=yf(k)}}return Sc({width:p,height:y,x:h,y:m})}function Vc(e,t){const n=Uc(e).scrollLeft;return t?t.left+n:xs(Mn(e)).left+n}function IS(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Vc(e,n),o=n.top+t.scrollTop;return{x:r,y:o}}function OL(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const a=o==="fixed",l=Mn(r),d=t?Fc(t.floating):!1;if(r===l||d&&a)return n;let h={scrollLeft:0,scrollTop:0},m=Rn(1);const p=Rn(0),y=In(r);if((y||!y&&!a)&&((Ui(r)!=="body"||xa(l))&&(h=Uc(r)),In(r))){const b=xs(r);m=Si(r),p.x=b.x+r.clientLeft,p.y=b.y+r.clientTop}const v=l&&!y&&!a?IS(l,h):Rn(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-h.scrollLeft*m.x+p.x+v.x,y:n.y*m.y-h.scrollTop*m.y+p.y+v.y}}function IL(e){return Array.from(e.getClientRects())}function DL(e){const t=Mn(e),n=Uc(e),r=e.ownerDocument.body,o=Wt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Wt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+Vc(e);const d=-n.scrollTop;return wn(r).direction==="rtl"&&(l+=Wt(t.clientWidth,r.clientWidth)-o),{width:o,height:a,x:l,y:d}}const ox=25;function LL(e,t){const n=Ht(e),r=Mn(e),o=n.visualViewport;let a=r.clientWidth,l=r.clientHeight,d=0,h=0;if(o){a=o.width,l=o.height;const p=Om();(!p||p&&t==="fixed")&&(d=o.offsetLeft,h=o.offsetTop)}const m=Vc(r);if(m<=0){const p=r.ownerDocument,y=p.body,v=getComputedStyle(y),b=p.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,k=Math.abs(r.clientWidth-y.clientWidth-b);k<=ox&&(a-=k)}else m<=ox&&(a+=m);return{width:a,height:l,x:d,y:h}}const ML=new Set(["absolute","fixed"]);function $L(e,t){const n=xs(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,a=In(e)?Si(e):Rn(1),l=e.clientWidth*a.x,d=e.clientHeight*a.y,h=o*a.x,m=r*a.y;return{width:l,height:d,x:h,y:m}}function ax(e,t,n){let r;if(t==="viewport")r=LL(e,n);else if(t==="document")r=DL(Mn(e));else if(xn(t))r=$L(t,n);else{const o=OS(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Sc(r)}function DS(e,t){const n=Ur(e);return n===t||!xn(n)||Ti(n)?!1:wn(n).position==="fixed"||DS(n,t)}function FL(e,t){const n=t.get(e);if(n)return n;let r=oa(e,[],!1).filter(d=>xn(d)&&Ui(d)!=="body"),o=null;const a=wn(e).position==="fixed";let l=a?Ur(e):e;for(;xn(l)&&!Ti(l);){const d=wn(l),h=Am(l);!h&&d.position==="fixed"&&(o=null),(a?!h&&!o:!h&&d.position==="static"&&!!o&&ML.has(o.position)||xa(l)&&!h&&DS(e,l))?r=r.filter(p=>p!==l):o=d,l=Ur(l)}return t.set(e,r),r}function UL(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const l=[...n==="clippingAncestors"?Fc(t)?[]:FL(t,this._c):[].concat(n),r],d=l[0],h=l.reduce((m,p)=>{const y=ax(t,p,o);return m.top=Wt(y.top,m.top),m.right=Fr(y.right,m.right),m.bottom=Fr(y.bottom,m.bottom),m.left=Wt(y.left,m.left),m},ax(t,d,o));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function VL(e){const{width:t,height:n}=AS(e);return{width:t,height:n}}function BL(e,t,n){const r=In(t),o=Mn(t),a=n==="fixed",l=xs(e,!0,a,t);let d={scrollLeft:0,scrollTop:0};const h=Rn(0);function m(){h.x=Vc(o)}if(r||!r&&!a)if((Ui(t)!=="body"||xa(o))&&(d=Uc(t)),r){const b=xs(t,!0,a,t);h.x=b.x+t.clientLeft,h.y=b.y+t.clientTop}else o&&m();a&&!r&&o&&m();const p=o&&!r&&!a?IS(o,d):Rn(0),y=l.left+d.scrollLeft-h.x-p.x,v=l.top+d.scrollTop-h.y-p.y;return{x:y,y:v,width:l.width,height:l.height}}function wh(e){return wn(e).position==="static"}function lx(e,t){if(!In(e)||wn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Mn(e)===n&&(n=n.ownerDocument.body),n}function LS(e,t){const n=Ht(e);if(Fc(e))return n;if(!In(e)){let o=Ur(e);for(;o&&!Ti(o);){if(xn(o)&&!wh(o))return o;o=Ur(o)}return n}let r=lx(e,t);for(;r&&jL(r)&&wh(r);)r=lx(r,t);return r&&Ti(r)&&wh(r)&&!Am(r)?n:r||TL(e)||n}const zL=async function(e){const t=this.getOffsetParent||LS,n=this.getDimensions,r=await n(e.floating);return{reference:BL(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function WL(e){return wn(e).direction==="rtl"}const HL={convertOffsetParentRelativeRectToViewportRelativeRect:OL,getDocumentElement:Mn,getClippingRect:UL,getOffsetParent:LS,getElementRects:zL,getClientRects:IL,getDimensions:VL,getScale:Si,isElement:xn,isRTL:WL};function MS(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function qL(e,t){let n=null,r;const o=Mn(e);function a(){var d;clearTimeout(r),(d=n)==null||d.disconnect(),n=null}function l(d,h){d===void 0&&(d=!1),h===void 0&&(h=1),a();const m=e.getBoundingClientRect(),{left:p,top:y,width:v,height:b}=m;if(d||t(),!v||!b)return;const k=zl(y),S=zl(o.clientWidth-(p+v)),_=zl(o.clientHeight-(y+b)),j=zl(p),E={rootMargin:-k+"px "+-S+"px "+-_+"px "+-j+"px",threshold:Wt(0,Fr(1,h))||1};let P=!0;function R(M){const I=M[0].intersectionRatio;if(I!==h){if(!P)return l();I?l(!1,I):r=setTimeout(()=>{l(!1,1e-7)},1e3)}I===1&&!MS(m,e.getBoundingClientRect())&&l(),P=!1}try{n=new IntersectionObserver(R,{...E,root:o.ownerDocument})}catch{n=new IntersectionObserver(R,E)}n.observe(e)}return l(!0),a}function KL(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,m=Im(e),p=o||a?[...m?oa(m):[],...oa(t)]:[];p.forEach(j=>{o&&j.addEventListener("scroll",n,{passive:!0}),a&&j.addEventListener("resize",n)});const y=m&&d?qL(m,n):null;let v=-1,b=null;l&&(b=new ResizeObserver(j=>{let[N]=j;N&&N.target===m&&b&&(b.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var E;(E=b)==null||E.observe(t)})),n()}),m&&!h&&b.observe(m),b.observe(t));let k,S=h?xs(e):null;h&&_();function _(){const j=xs(e);S&&!MS(S,j)&&n(),S=j,k=requestAnimationFrame(_)}return n(),()=>{var j;p.forEach(N=>{o&&N.removeEventListener("scroll",n),a&&N.removeEventListener("resize",n)}),y==null||y(),(j=b)==null||j.disconnect(),b=null,h&&cancelAnimationFrame(k)}}const GL=vL,YL=xL,XL=pL,JL=bL,QL=gL,cx=mL,ZL=wL,eM=(e,t,n)=>{const r=new Map,o={platform:HL,...n},a={...o.platform,_c:r};return fL(e,t,{...o,platform:a})};var tM=typeof document<"u",nM=function(){},nc=tM?w.useLayoutEffect:nM;function _c(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!_c(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const a=o[r];if(!(a==="_owner"&&e.$$typeof)&&!_c(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function $S(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ux(e,t){const n=$S(e);return Math.round(t*n)/n}function bh(e){const t=w.useRef(e);return nc(()=>{t.current=e}),t}function rM(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:a,floating:l}={},transform:d=!0,whileElementsMounted:h,open:m}=e,[p,y]=w.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[v,b]=w.useState(r);_c(v,r)||b(r);const[k,S]=w.useState(null),[_,j]=w.useState(null),N=w.useCallback(D=>{D!==M.current&&(M.current=D,S(D))},[]),E=w.useCallback(D=>{D!==I.current&&(I.current=D,j(D))},[]),P=a||k,R=l||_,M=w.useRef(null),I=w.useRef(null),$=w.useRef(p),B=h!=null,H=bh(h),ee=bh(o),te=bh(m),ue=w.useCallback(()=>{if(!M.current||!I.current)return;const D={placement:t,strategy:n,middleware:v};ee.current&&(D.platform=ee.current),eM(M.current,I.current,D).then(J=>{const Y={...J,isPositioned:te.current!==!1};le.current&&!_c($.current,Y)&&($.current=Y,ua.flushSync(()=>{y(Y)}))})},[v,t,n,ee,te]);nc(()=>{m===!1&&$.current.isPositioned&&($.current.isPositioned=!1,y(D=>({...D,isPositioned:!1})))},[m]);const le=w.useRef(!1);nc(()=>(le.current=!0,()=>{le.current=!1}),[]),nc(()=>{if(P&&(M.current=P),R&&(I.current=R),P&&R){if(H.current)return H.current(P,R,ue);ue()}},[P,R,ue,H,B]);const ve=w.useMemo(()=>({reference:M,floating:I,setReference:N,setFloating:E}),[N,E]),re=w.useMemo(()=>({reference:P,floating:R}),[P,R]),Z=w.useMemo(()=>{const D={position:n,left:0,top:0};if(!re.floating)return D;const J=ux(re.floating,p.x),Y=ux(re.floating,p.y);return d?{...D,transform:"translate("+J+"px, "+Y+"px)",...$S(re.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:J,top:Y}},[n,d,re.floating,p.x,p.y]);return w.useMemo(()=>({...p,update:ue,refs:ve,elements:re,floatingStyles:Z}),[p,ue,ve,re,Z])}const sM=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?cx({element:r.current,padding:o}).fn(n):{}:r?cx({element:r,padding:o}).fn(n):{}}}},iM=(e,t)=>({...GL(e),options:[e,t]}),oM=(e,t)=>({...YL(e),options:[e,t]}),aM=(e,t)=>({...ZL(e),options:[e,t]}),lM=(e,t)=>({...XL(e),options:[e,t]}),cM=(e,t)=>({...JL(e),options:[e,t]}),uM=(e,t)=>({...QL(e),options:[e,t]}),dM=(e,t)=>({...sM(e),options:[e,t]});var hM="Arrow",FS=w.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...a}=e;return u.jsx(Ie.svg,{...a,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});FS.displayName=hM;var fM=FS;function US(e){const[t,n]=w.useState(void 0);return vt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let l,d;if("borderBoxSize"in a){const h=a.borderBoxSize,m=Array.isArray(h)?h[0]:h;l=m.inlineSize,d=m.blockSize}else l=e.offsetWidth,d=e.offsetHeight;n({width:l,height:d})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Dm="Popper",[VS,BS]=va(Dm),[mM,zS]=VS(Dm),WS=e=>{const{__scopePopper:t,children:n}=e,[r,o]=w.useState(null);return u.jsx(mM,{scope:t,anchor:r,onAnchorChange:o,children:n})};WS.displayName=Dm;var HS="PopperAnchor",qS=w.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,a=zS(HS,n),l=w.useRef(null),d=De(t,l),h=w.useRef(null);return w.useEffect(()=>{const m=h.current;h.current=(r==null?void 0:r.current)||l.current,m!==h.current&&a.onAnchorChange(h.current)}),r?null:u.jsx(Ie.div,{...o,ref:d})});qS.displayName=HS;var Lm="PopperContent",[pM,gM]=VS(Lm),KS=w.forwardRef((e,t)=>{var X,me,be,_e,Te,Pe;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:a="center",alignOffset:l=0,arrowPadding:d=0,avoidCollisions:h=!0,collisionBoundary:m=[],collisionPadding:p=0,sticky:y="partial",hideWhenDetached:v=!1,updatePositionStrategy:b="optimized",onPlaced:k,...S}=e,_=zS(Lm,n),[j,N]=w.useState(null),E=De(t,ut=>N(ut)),[P,R]=w.useState(null),M=US(P),I=(M==null?void 0:M.width)??0,$=(M==null?void 0:M.height)??0,B=r+(a!=="center"?"-"+a:""),H=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},ee=Array.isArray(m)?m:[m],te=ee.length>0,ue={padding:H,boundary:ee.filter(vM),altBoundary:te},{refs:le,floatingStyles:ve,placement:re,isPositioned:Z,middlewareData:D}=rM({strategy:"fixed",placement:B,whileElementsMounted:(...ut)=>KL(...ut,{animationFrame:b==="always"}),elements:{reference:_.anchor},middleware:[iM({mainAxis:o+$,alignmentAxis:l}),h&&oM({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?aM():void 0,...ue}),h&&lM({...ue}),cM({...ue,apply:({elements:ut,rects:Nt,availableWidth:rr,availableHeight:sr})=>{const{width:$n,height:wa}=Nt.reference,ir=ut.floating.style;ir.setProperty("--radix-popper-available-width",`${rr}px`),ir.setProperty("--radix-popper-available-height",`${sr}px`),ir.setProperty("--radix-popper-anchor-width",`${$n}px`),ir.setProperty("--radix-popper-anchor-height",`${wa}px`)}}),P&&dM({element:P,padding:d}),xM({arrowWidth:I,arrowHeight:$}),v&&uM({strategy:"referenceHidden",...ue})]}),[J,Y]=XS(re),L=Lt(k);vt(()=>{Z&&(L==null||L())},[Z,L]);const z=(X=D.arrow)==null?void 0:X.x,de=(me=D.arrow)==null?void 0:me.y,he=((be=D.arrow)==null?void 0:be.centerOffset)!==0,[je,ke]=w.useState();return vt(()=>{j&&ke(window.getComputedStyle(j).zIndex)},[j]),u.jsx("div",{ref:le.setFloating,"data-radix-popper-content-wrapper":"",style:{...ve,transform:Z?ve.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:je,"--radix-popper-transform-origin":[(_e=D.transformOrigin)==null?void 0:_e.x,(Te=D.transformOrigin)==null?void 0:Te.y].join(" "),...((Pe=D.hide)==null?void 0:Pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:u.jsx(pM,{scope:n,placedSide:J,onArrowChange:R,arrowX:z,arrowY:de,shouldHideArrow:he,children:u.jsx(Ie.div,{"data-side":J,"data-align":Y,...S,ref:E,style:{...S.style,animation:Z?void 0:"none"}})})})});KS.displayName=Lm;var GS="PopperArrow",yM={top:"bottom",right:"left",bottom:"top",left:"right"},YS=w.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,a=gM(GS,r),l=yM[a.placedSide];return u.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:u.jsx(fM,{...o,ref:n,style:{...o.style,display:"block"}})})});YS.displayName=GS;function vM(e){return e!==null}var xM=e=>({name:"transformOrigin",options:e,fn(t){var _,j,N;const{placement:n,rects:r,middlewareData:o}=t,l=((_=o.arrow)==null?void 0:_.centerOffset)!==0,d=l?0:e.arrowWidth,h=l?0:e.arrowHeight,[m,p]=XS(n),y={start:"0%",center:"50%",end:"100%"}[p],v=(((j=o.arrow)==null?void 0:j.x)??0)+d/2,b=(((N=o.arrow)==null?void 0:N.y)??0)+h/2;let k="",S="";return m==="bottom"?(k=l?y:`${v}px`,S=`${-h}px`):m==="top"?(k=l?y:`${v}px`,S=`${r.floating.height+h}px`):m==="right"?(k=`${-h}px`,S=l?y:`${b}px`):m==="left"&&(k=`${r.floating.width+h}px`,S=l?y:`${b}px`),{data:{x:k,y:S}}}});function XS(e){const[t,n="center"]=e.split("-");return[t,n]}var wM=WS,bM=qS,SM=KS,_M=YS,jM="Portal",JS=w.forwardRef((e,t)=>{var d;const{container:n,...r}=e,[o,a]=w.useState(!1);vt(()=>a(!0),[]);const l=n||o&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return l?Qk.createPortal(u.jsx(Ie.div,{...r,ref:t}),l):null});JS.displayName=jM;var CM=vx[" useInsertionEffect ".trim().toString()]||vt;function vf({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[o,a,l]=kM({defaultProp:t,onChange:n}),d=e!==void 0,h=d?e:o;{const p=w.useRef(e!==void 0);w.useEffect(()=>{const y=p.current;y!==d&&console.warn(`${r} is changing from ${y?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=d},[d,r])}const m=w.useCallback(p=>{var y;if(d){const v=EM(p)?p(e):p;v!==e&&((y=l.current)==null||y.call(l,v))}else a(p)},[d,e,a,l]);return[h,m]}function kM({defaultProp:e,onChange:t}){const[n,r]=w.useState(e),o=w.useRef(n),a=w.useRef(t);return CM(()=>{a.current=t},[t]),w.useEffect(()=>{var l;o.current!==n&&((l=a.current)==null||l.call(a,n),o.current=n)},[n,o]),[n,r,a]}function EM(e){return typeof e=="function"}function QS(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var ZS=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),NM="VisuallyHidden",TM=w.forwardRef((e,t)=>u.jsx(Ie.span,{...e,ref:t,style:{...ZS,...e.style}}));TM.displayName=NM;var PM=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},li=new WeakMap,Wl=new WeakMap,Hl={},Sh=0,e1=function(e){return e&&(e.host||e1(e.parentNode))},RM=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=e1(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},AM=function(e,t,n,r){var o=RM(t,Array.isArray(e)?e:[e]);Hl[n]||(Hl[n]=new WeakMap);var a=Hl[n],l=[],d=new Set,h=new Set(o),m=function(y){!y||d.has(y)||(d.add(y),m(y.parentNode))};o.forEach(m);var p=function(y){!y||h.has(y)||Array.prototype.forEach.call(y.children,function(v){if(d.has(v))p(v);else try{var b=v.getAttribute(r),k=b!==null&&b!=="false",S=(li.get(v)||0)+1,_=(a.get(v)||0)+1;li.set(v,S),a.set(v,_),l.push(v),S===1&&k&&Wl.set(v,!0),_===1&&v.setAttribute(n,"true"),k||v.setAttribute(r,"true")}catch(j){console.error("aria-hidden: cannot operate on ",v,j)}})};return p(t),d.clear(),Sh++,function(){l.forEach(function(y){var v=li.get(y)-1,b=a.get(y)-1;li.set(y,v),a.set(y,b),v||(Wl.has(y)||y.removeAttribute(r),Wl.delete(y)),b||y.removeAttribute(n)}),Sh--,Sh||(li=new WeakMap,li=new WeakMap,Wl=new WeakMap,Hl={})}},OM=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=PM(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),AM(r,o,n,"aria-hidden")):function(){return null}},En=function(){return En=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},En.apply(this,arguments)};function t1(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function IM(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,a;r<o;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var rc="right-scroll-bar-position",sc="width-before-scroll-bar",DM="with-scroll-bars-hidden",LM="--removed-body-scroll-bar-size";function _h(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function MM(e,t){var n=w.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var $M=typeof window<"u"?w.useLayoutEffect:w.useEffect,dx=new WeakMap;function FM(e,t){var n=MM(null,function(r){return e.forEach(function(o){return _h(o,r)})});return $M(function(){var r=dx.get(n);if(r){var o=new Set(r),a=new Set(e),l=n.current;o.forEach(function(d){a.has(d)||_h(d,null)}),a.forEach(function(d){o.has(d)||_h(d,l)})}dx.set(n,e)},[e]),n}function UM(e){return e}function VM(e,t){t===void 0&&(t=UM);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var l=t(a,r);return n.push(l),function(){n=n.filter(function(d){return d!==l})}},assignSyncMedium:function(a){for(r=!0;n.length;){var l=n;n=[],l.forEach(a)}n={push:function(d){return a(d)},filter:function(){return n}}},assignMedium:function(a){r=!0;var l=[];if(n.length){var d=n;n=[],d.forEach(a),l=n}var h=function(){var p=l;l=[],p.forEach(a)},m=function(){return Promise.resolve().then(h)};m(),n={push:function(p){l.push(p),m()},filter:function(p){return l=l.filter(p),n}}}};return o}function BM(e){e===void 0&&(e={});var t=VM(null);return t.options=En({async:!0,ssr:!1},e),t}var n1=function(e){var t=e.sideCar,n=t1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,En({},n))};n1.isSideCarExport=!0;function zM(e,t){return e.useMedium(t),n1}var r1=BM(),jh=function(){},Bc=w.forwardRef(function(e,t){var n=w.useRef(null),r=w.useState({onScrollCapture:jh,onWheelCapture:jh,onTouchMoveCapture:jh}),o=r[0],a=r[1],l=e.forwardProps,d=e.children,h=e.className,m=e.removeScrollBar,p=e.enabled,y=e.shards,v=e.sideCar,b=e.noRelative,k=e.noIsolation,S=e.inert,_=e.allowPinchZoom,j=e.as,N=j===void 0?"div":j,E=e.gapMode,P=t1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=v,M=FM([n,t]),I=En(En({},P),o);return w.createElement(w.Fragment,null,p&&w.createElement(R,{sideCar:r1,removeScrollBar:m,shards:y,noRelative:b,noIsolation:k,inert:S,setCallbacks:a,allowPinchZoom:!!_,lockRef:n,gapMode:E}),l?w.cloneElement(w.Children.only(d),En(En({},I),{ref:M})):w.createElement(N,En({},I,{className:h,ref:M}),d))});Bc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Bc.classNames={fullWidth:sc,zeroRight:rc};var WM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function HM(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=WM();return t&&e.setAttribute("nonce",t),e}function qM(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function KM(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var GM=function(){var e=0,t=null;return{add:function(n){e==0&&(t=HM())&&(qM(t,n),KM(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},YM=function(){var e=GM();return function(t,n){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},s1=function(){var e=YM(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},XM={left:0,top:0,right:0,gap:0},Ch=function(e){return parseInt(e||"",10)||0},JM=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Ch(n),Ch(r),Ch(o)]},QM=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return XM;var t=JM(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},ZM=s1(),_i="data-scroll-locked",e3=function(e,t,n,r){var o=e.left,a=e.top,l=e.right,d=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(DM,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat(_i,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(rc,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(sc,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(rc," .").concat(rc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(sc," .").concat(sc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(_i,`] {
    `).concat(LM,": ").concat(d,`px;
  }
`)},hx=function(){var e=parseInt(document.body.getAttribute(_i)||"0",10);return isFinite(e)?e:0},t3=function(){w.useEffect(function(){return document.body.setAttribute(_i,(hx()+1).toString()),function(){var e=hx()-1;e<=0?document.body.removeAttribute(_i):document.body.setAttribute(_i,e.toString())}},[])},n3=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;t3();var a=w.useMemo(function(){return QM(o)},[o]);return w.createElement(ZM,{styles:e3(a,!t,o,n?"":"!important")})},xf=!1;if(typeof window<"u")try{var ql=Object.defineProperty({},"passive",{get:function(){return xf=!0,!0}});window.addEventListener("test",ql,ql),window.removeEventListener("test",ql,ql)}catch{xf=!1}var ci=xf?{passive:!1}:!1,r3=function(e){return e.tagName==="TEXTAREA"},i1=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!r3(e)&&n[t]==="visible")},s3=function(e){return i1(e,"overflowY")},i3=function(e){return i1(e,"overflowX")},fx=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=o1(e,r);if(o){var a=a1(e,r),l=a[1],d=a[2];if(l>d)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},o3=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},a3=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},o1=function(e,t){return e==="v"?s3(t):i3(t)},a1=function(e,t){return e==="v"?o3(t):a3(t)},l3=function(e,t){return e==="h"&&t==="rtl"?-1:1},c3=function(e,t,n,r,o){var a=l3(e,window.getComputedStyle(t).direction),l=a*r,d=n.target,h=t.contains(d),m=!1,p=l>0,y=0,v=0;do{if(!d)break;var b=a1(e,d),k=b[0],S=b[1],_=b[2],j=S-_-a*k;(k||j)&&o1(e,d)&&(y+=j,v+=k);var N=d.parentNode;d=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!h&&d!==document.body||h&&(t.contains(d)||t===d));return(p&&Math.abs(y)<1||!p&&Math.abs(v)<1)&&(m=!0),m},Kl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},mx=function(e){return[e.deltaX,e.deltaY]},px=function(e){return e&&"current"in e?e.current:e},u3=function(e,t){return e[0]===t[0]&&e[1]===t[1]},d3=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},h3=0,ui=[];function f3(e){var t=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),o=w.useState(h3++)[0],a=w.useState(s1)[0],l=w.useRef(e);w.useEffect(function(){l.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var S=IM([e.lockRef.current],(e.shards||[]).map(px),!0).filter(Boolean);return S.forEach(function(_){return _.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),S.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var d=w.useCallback(function(S,_){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!l.current.allowPinchZoom;var j=Kl(S),N=n.current,E="deltaX"in S?S.deltaX:N[0]-j[0],P="deltaY"in S?S.deltaY:N[1]-j[1],R,M=S.target,I=Math.abs(E)>Math.abs(P)?"h":"v";if("touches"in S&&I==="h"&&M.type==="range")return!1;var $=fx(I,M);if(!$)return!0;if($?R=I:(R=I==="v"?"h":"v",$=fx(I,M)),!$)return!1;if(!r.current&&"changedTouches"in S&&(E||P)&&(r.current=R),!R)return!0;var B=r.current||R;return c3(B,_,S,B==="h"?E:P)},[]),h=w.useCallback(function(S){var _=S;if(!(!ui.length||ui[ui.length-1]!==a)){var j="deltaY"in _?mx(_):Kl(_),N=t.current.filter(function(R){return R.name===_.type&&(R.target===_.target||_.target===R.shadowParent)&&u3(R.delta,j)})[0];if(N&&N.should){_.cancelable&&_.preventDefault();return}if(!N){var E=(l.current.shards||[]).map(px).filter(Boolean).filter(function(R){return R.contains(_.target)}),P=E.length>0?d(_,E[0]):!l.current.noIsolation;P&&_.cancelable&&_.preventDefault()}}},[]),m=w.useCallback(function(S,_,j,N){var E={name:S,delta:_,target:j,should:N,shadowParent:m3(j)};t.current.push(E),setTimeout(function(){t.current=t.current.filter(function(P){return P!==E})},1)},[]),p=w.useCallback(function(S){n.current=Kl(S),r.current=void 0},[]),y=w.useCallback(function(S){m(S.type,mx(S),S.target,d(S,e.lockRef.current))},[]),v=w.useCallback(function(S){m(S.type,Kl(S),S.target,d(S,e.lockRef.current))},[]);w.useEffect(function(){return ui.push(a),e.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:v}),document.addEventListener("wheel",h,ci),document.addEventListener("touchmove",h,ci),document.addEventListener("touchstart",p,ci),function(){ui=ui.filter(function(S){return S!==a}),document.removeEventListener("wheel",h,ci),document.removeEventListener("touchmove",h,ci),document.removeEventListener("touchstart",p,ci)}},[]);var b=e.removeScrollBar,k=e.inert;return w.createElement(w.Fragment,null,k?w.createElement(a,{styles:d3(o)}):null,b?w.createElement(n3,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function m3(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const p3=zM(r1,f3);var l1=w.forwardRef(function(e,t){return w.createElement(Bc,En({},e,{ref:t,sideCar:p3}))});l1.classNames=Bc.classNames;var g3=[" ","Enter","ArrowUp","ArrowDown"],y3=[" ","Enter"],ws="Select",[zc,Wc,v3]=SS(ws),[Vi]=va(ws,[v3,BS]),Hc=BS(),[x3,zr]=Vi(ws),[w3,b3]=Vi(ws),c1=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:o,onOpenChange:a,value:l,defaultValue:d,onValueChange:h,dir:m,name:p,autoComplete:y,disabled:v,required:b,form:k}=e,S=Hc(t),[_,j]=w.useState(null),[N,E]=w.useState(null),[P,R]=w.useState(!1),M=Sm(m),[I,$]=vf({prop:r,defaultProp:o??!1,onChange:a,caller:ws}),[B,H]=vf({prop:l,defaultProp:d,onChange:h,caller:ws}),ee=w.useRef(null),te=_?k||!!_.closest("form"):!0,[ue,le]=w.useState(new Set),ve=Array.from(ue).map(re=>re.props.value).join(";");return u.jsx(wM,{...S,children:u.jsxs(x3,{required:b,scope:t,trigger:_,onTriggerChange:j,valueNode:N,onValueNodeChange:E,valueNodeHasChildren:P,onValueNodeHasChildrenChange:R,contentId:Nm(),value:B,onValueChange:H,open:I,onOpenChange:$,dir:M,triggerPointerDownPosRef:ee,disabled:v,children:[u.jsx(zc.Provider,{scope:t,children:u.jsx(w3,{scope:e.__scopeSelect,onNativeOptionAdd:w.useCallback(re=>{le(Z=>new Set(Z).add(re))},[]),onNativeOptionRemove:w.useCallback(re=>{le(Z=>{const D=new Set(Z);return D.delete(re),D})},[]),children:n})}),te?u.jsxs(O1,{"aria-hidden":!0,required:b,tabIndex:-1,name:p,autoComplete:y,value:B,onChange:re=>H(re.target.value),disabled:v,form:k,children:[B===void 0?u.jsx("option",{value:""}):null,Array.from(ue)]},ve):null]})})};c1.displayName=ws;var u1="SelectTrigger",d1=w.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...o}=e,a=Hc(n),l=zr(u1,n),d=l.disabled||r,h=De(t,l.onTriggerChange),m=Wc(n),p=w.useRef("touch"),[y,v,b]=D1(S=>{const _=m().filter(E=>!E.disabled),j=_.find(E=>E.value===l.value),N=L1(_,S,j);N!==void 0&&l.onValueChange(N.value)}),k=S=>{d||(l.onOpenChange(!0),b()),S&&(l.triggerPointerDownPosRef.current={x:Math.round(S.pageX),y:Math.round(S.pageY)})};return u.jsx(bM,{asChild:!0,...a,children:u.jsx(Ie.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":I1(l.value)?"":void 0,...o,ref:h,onClick:Ae(o.onClick,S=>{S.currentTarget.focus(),p.current!=="mouse"&&k(S)}),onPointerDown:Ae(o.onPointerDown,S=>{p.current=S.pointerType;const _=S.target;_.hasPointerCapture(S.pointerId)&&_.releasePointerCapture(S.pointerId),S.button===0&&S.ctrlKey===!1&&S.pointerType==="mouse"&&(k(S),S.preventDefault())}),onKeyDown:Ae(o.onKeyDown,S=>{const _=y.current!=="";!(S.ctrlKey||S.altKey||S.metaKey)&&S.key.length===1&&v(S.key),!(_&&S.key===" ")&&g3.includes(S.key)&&(k(),S.preventDefault())})})})});d1.displayName=u1;var h1="SelectValue",f1=w.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,children:a,placeholder:l="",...d}=e,h=zr(h1,n),{onValueNodeHasChildrenChange:m}=h,p=a!==void 0,y=De(t,h.onValueNodeChange);return vt(()=>{m(p)},[m,p]),u.jsx(Ie.span,{...d,ref:y,style:{pointerEvents:"none"},children:I1(h.value)?u.jsx(u.Fragment,{children:l}):a})});f1.displayName=h1;var S3="SelectIcon",m1=w.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...o}=e;return u.jsx(Ie.span,{"aria-hidden":!0,...o,ref:t,children:r||"▼"})});m1.displayName=S3;var _3="SelectPortal",p1=e=>u.jsx(JS,{asChild:!0,...e});p1.displayName=_3;var bs="SelectContent",g1=w.forwardRef((e,t)=>{const n=zr(bs,e.__scopeSelect),[r,o]=w.useState();if(vt(()=>{o(new DocumentFragment)},[]),!n.open){const a=r;return a?ua.createPortal(u.jsx(y1,{scope:e.__scopeSelect,children:u.jsx(zc.Slot,{scope:e.__scopeSelect,children:u.jsx("div",{children:e.children})})}),a):null}return u.jsx(v1,{...e,ref:t})});g1.displayName=bs;var pn=10,[y1,Wr]=Vi(bs),j3="SelectContentImpl",C3=na("SelectContent.RemoveScroll"),v1=w.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:l,side:d,sideOffset:h,align:m,alignOffset:p,arrowPadding:y,collisionBoundary:v,collisionPadding:b,sticky:k,hideWhenDetached:S,avoidCollisions:_,...j}=e,N=zr(bs,n),[E,P]=w.useState(null),[R,M]=w.useState(null),I=De(t,X=>P(X)),[$,B]=w.useState(null),[H,ee]=w.useState(null),te=Wc(n),[ue,le]=w.useState(!1),ve=w.useRef(!1);w.useEffect(()=>{if(E)return OM(E)},[E]),qD();const re=w.useCallback(X=>{const[me,...be]=te().map(Pe=>Pe.ref.current),[_e]=be.slice(-1),Te=document.activeElement;for(const Pe of X)if(Pe===Te||(Pe==null||Pe.scrollIntoView({block:"nearest"}),Pe===me&&R&&(R.scrollTop=0),Pe===_e&&R&&(R.scrollTop=R.scrollHeight),Pe==null||Pe.focus(),document.activeElement!==Te))return},[te,R]),Z=w.useCallback(()=>re([$,E]),[re,$,E]);w.useEffect(()=>{ue&&Z()},[ue,Z]);const{onOpenChange:D,triggerPointerDownPosRef:J}=N;w.useEffect(()=>{if(E){let X={x:0,y:0};const me=_e=>{var Te,Pe;X={x:Math.abs(Math.round(_e.pageX)-(((Te=J.current)==null?void 0:Te.x)??0)),y:Math.abs(Math.round(_e.pageY)-(((Pe=J.current)==null?void 0:Pe.y)??0))}},be=_e=>{X.x<=10&&X.y<=10?_e.preventDefault():E.contains(_e.target)||D(!1),document.removeEventListener("pointermove",me),J.current=null};return J.current!==null&&(document.addEventListener("pointermove",me),document.addEventListener("pointerup",be,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",me),document.removeEventListener("pointerup",be,{capture:!0})}}},[E,D,J]),w.useEffect(()=>{const X=()=>D(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[D]);const[Y,L]=D1(X=>{const me=te().filter(Te=>!Te.disabled),be=me.find(Te=>Te.ref.current===document.activeElement),_e=L1(me,X,be);_e&&setTimeout(()=>_e.ref.current.focus())}),z=w.useCallback((X,me,be)=>{const _e=!ve.current&&!be;(N.value!==void 0&&N.value===me||_e)&&(B(X),_e&&(ve.current=!0))},[N.value]),de=w.useCallback(()=>E==null?void 0:E.focus(),[E]),he=w.useCallback((X,me,be)=>{const _e=!ve.current&&!be;(N.value!==void 0&&N.value===me||_e)&&ee(X)},[N.value]),je=r==="popper"?wf:x1,ke=je===wf?{side:d,sideOffset:h,align:m,alignOffset:p,arrowPadding:y,collisionBoundary:v,collisionPadding:b,sticky:k,hideWhenDetached:S,avoidCollisions:_}:{};return u.jsx(y1,{scope:n,content:E,viewport:R,onViewportChange:M,itemRefCallback:z,selectedItem:$,onItemLeave:de,itemTextRefCallback:he,focusSelectedItem:Z,selectedItemText:H,position:r,isPositioned:ue,searchRef:Y,children:u.jsx(l1,{as:C3,allowPinchZoom:!0,children:u.jsx(kS,{asChild:!0,trapped:N.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:Ae(o,X=>{var me;(me=N.trigger)==null||me.focus({preventScroll:!0}),X.preventDefault()}),children:u.jsx(jS,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:u.jsx(je,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:X=>X.preventDefault(),...j,...ke,onPlaced:()=>le(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:Ae(j.onKeyDown,X=>{const me=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!me&&X.key.length===1&&L(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let _e=te().filter(Te=>!Te.disabled).map(Te=>Te.ref.current);if(["ArrowUp","End"].includes(X.key)&&(_e=_e.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const Te=X.target,Pe=_e.indexOf(Te);_e=_e.slice(Pe+1)}setTimeout(()=>re(_e)),X.preventDefault()}})})})})})})});v1.displayName=j3;var k3="SelectItemAlignedPosition",x1=w.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...o}=e,a=zr(bs,n),l=Wr(bs,n),[d,h]=w.useState(null),[m,p]=w.useState(null),y=De(t,I=>p(I)),v=Wc(n),b=w.useRef(!1),k=w.useRef(!0),{viewport:S,selectedItem:_,selectedItemText:j,focusSelectedItem:N}=l,E=w.useCallback(()=>{if(a.trigger&&a.valueNode&&d&&m&&S&&_&&j){const I=a.trigger.getBoundingClientRect(),$=m.getBoundingClientRect(),B=a.valueNode.getBoundingClientRect(),H=j.getBoundingClientRect();if(a.dir!=="rtl"){const Te=H.left-$.left,Pe=B.left-Te,ut=I.left-Pe,Nt=I.width+ut,rr=Math.max(Nt,$.width),sr=window.innerWidth-pn,$n=sa(Pe,[pn,Math.max(pn,sr-rr)]);d.style.minWidth=Nt+"px",d.style.left=$n+"px"}else{const Te=$.right-H.right,Pe=window.innerWidth-B.right-Te,ut=window.innerWidth-I.right-Pe,Nt=I.width+ut,rr=Math.max(Nt,$.width),sr=window.innerWidth-pn,$n=sa(Pe,[pn,Math.max(pn,sr-rr)]);d.style.minWidth=Nt+"px",d.style.right=$n+"px"}const ee=v(),te=window.innerHeight-pn*2,ue=S.scrollHeight,le=window.getComputedStyle(m),ve=parseInt(le.borderTopWidth,10),re=parseInt(le.paddingTop,10),Z=parseInt(le.borderBottomWidth,10),D=parseInt(le.paddingBottom,10),J=ve+re+ue+D+Z,Y=Math.min(_.offsetHeight*5,J),L=window.getComputedStyle(S),z=parseInt(L.paddingTop,10),de=parseInt(L.paddingBottom,10),he=I.top+I.height/2-pn,je=te-he,ke=_.offsetHeight/2,X=_.offsetTop+ke,me=ve+re+X,be=J-me;if(me<=he){const Te=ee.length>0&&_===ee[ee.length-1].ref.current;d.style.bottom="0px";const Pe=m.clientHeight-S.offsetTop-S.offsetHeight,ut=Math.max(je,ke+(Te?de:0)+Pe+Z),Nt=me+ut;d.style.height=Nt+"px"}else{const Te=ee.length>0&&_===ee[0].ref.current;d.style.top="0px";const ut=Math.max(he,ve+S.offsetTop+(Te?z:0)+ke)+be;d.style.height=ut+"px",S.scrollTop=me-he+S.offsetTop}d.style.margin=`${pn}px 0`,d.style.minHeight=Y+"px",d.style.maxHeight=te+"px",r==null||r(),requestAnimationFrame(()=>b.current=!0)}},[v,a.trigger,a.valueNode,d,m,S,_,j,a.dir,r]);vt(()=>E(),[E]);const[P,R]=w.useState();vt(()=>{m&&R(window.getComputedStyle(m).zIndex)},[m]);const M=w.useCallback(I=>{I&&k.current===!0&&(E(),N==null||N(),k.current=!1)},[E,N]);return u.jsx(N3,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:b,onScrollButtonChange:M,children:u.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:u.jsx(Ie.div,{...o,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});x1.displayName=k3;var E3="SelectPopperPosition",wf=w.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=pn,...a}=e,l=Hc(n);return u.jsx(SM,{...l,...a,ref:t,align:r,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});wf.displayName=E3;var[N3,Mm]=Vi(bs,{}),bf="SelectViewport",w1=w.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...o}=e,a=Wr(bf,n),l=Mm(bf,n),d=De(t,a.onViewportChange),h=w.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(zc.Slot,{scope:n,children:u.jsx(Ie.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Ae(o.onScroll,m=>{const p=m.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:v}=l;if(v!=null&&v.current&&y){const b=Math.abs(h.current-p.scrollTop);if(b>0){const k=window.innerHeight-pn*2,S=parseFloat(y.style.minHeight),_=parseFloat(y.style.height),j=Math.max(S,_);if(j<k){const N=j+b,E=Math.min(k,N),P=N-E;y.style.height=E+"px",y.style.bottom==="0px"&&(p.scrollTop=P>0?P:0,y.style.justifyContent="flex-end")}}}h.current=p.scrollTop})})})]})});w1.displayName=bf;var b1="SelectGroup",[T3,P3]=Vi(b1),R3=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=Nm();return u.jsx(T3,{scope:n,id:o,children:u.jsx(Ie.div,{role:"group","aria-labelledby":o,...r,ref:t})})});R3.displayName=b1;var S1="SelectLabel",_1=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=P3(S1,n);return u.jsx(Ie.div,{id:o.id,...r,ref:t})});_1.displayName=S1;var jc="SelectItem",[A3,j1]=Vi(jc),C1=w.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:a,...l}=e,d=zr(jc,n),h=Wr(jc,n),m=d.value===r,[p,y]=w.useState(a??""),[v,b]=w.useState(!1),k=De(t,N=>{var E;return(E=h.itemRefCallback)==null?void 0:E.call(h,N,r,o)}),S=Nm(),_=w.useRef("touch"),j=()=>{o||(d.onValueChange(r),d.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(A3,{scope:n,value:r,disabled:o,textId:S,isSelected:m,onItemTextChange:w.useCallback(N=>{y(E=>E||((N==null?void 0:N.textContent)??"").trim())},[]),children:u.jsx(zc.ItemSlot,{scope:n,value:r,disabled:o,textValue:p,children:u.jsx(Ie.div,{role:"option","aria-labelledby":S,"data-highlighted":v?"":void 0,"aria-selected":m&&v,"data-state":m?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...l,ref:k,onFocus:Ae(l.onFocus,()=>b(!0)),onBlur:Ae(l.onBlur,()=>b(!1)),onClick:Ae(l.onClick,()=>{_.current!=="mouse"&&j()}),onPointerUp:Ae(l.onPointerUp,()=>{_.current==="mouse"&&j()}),onPointerDown:Ae(l.onPointerDown,N=>{_.current=N.pointerType}),onPointerMove:Ae(l.onPointerMove,N=>{var E;_.current=N.pointerType,o?(E=h.onItemLeave)==null||E.call(h):_.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ae(l.onPointerLeave,N=>{var E;N.currentTarget===document.activeElement&&((E=h.onItemLeave)==null||E.call(h))}),onKeyDown:Ae(l.onKeyDown,N=>{var P;((P=h.searchRef)==null?void 0:P.current)!==""&&N.key===" "||(y3.includes(N.key)&&j(),N.key===" "&&N.preventDefault())})})})})});C1.displayName=jc;var Lo="SelectItemText",k1=w.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,...a}=e,l=zr(Lo,n),d=Wr(Lo,n),h=j1(Lo,n),m=b3(Lo,n),[p,y]=w.useState(null),v=De(t,j=>y(j),h.onItemTextChange,j=>{var N;return(N=d.itemTextRefCallback)==null?void 0:N.call(d,j,h.value,h.disabled)}),b=p==null?void 0:p.textContent,k=w.useMemo(()=>u.jsx("option",{value:h.value,disabled:h.disabled,children:b},h.value),[h.disabled,h.value,b]),{onNativeOptionAdd:S,onNativeOptionRemove:_}=m;return vt(()=>(S(k),()=>_(k)),[S,_,k]),u.jsxs(u.Fragment,{children:[u.jsx(Ie.span,{id:h.textId,...a,ref:v}),h.isSelected&&l.valueNode&&!l.valueNodeHasChildren?ua.createPortal(a.children,l.valueNode):null]})});k1.displayName=Lo;var E1="SelectItemIndicator",N1=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return j1(E1,n).isSelected?u.jsx(Ie.span,{"aria-hidden":!0,...r,ref:t}):null});N1.displayName=E1;var Sf="SelectScrollUpButton",T1=w.forwardRef((e,t)=>{const n=Wr(Sf,e.__scopeSelect),r=Mm(Sf,e.__scopeSelect),[o,a]=w.useState(!1),l=De(t,r.onScrollButtonChange);return vt(()=>{if(n.viewport&&n.isPositioned){let d=function(){const m=h.scrollTop>0;a(m)};const h=n.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),o?u.jsx(R1,{...e,ref:l,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=n;d&&h&&(d.scrollTop=d.scrollTop-h.offsetHeight)}}):null});T1.displayName=Sf;var _f="SelectScrollDownButton",P1=w.forwardRef((e,t)=>{const n=Wr(_f,e.__scopeSelect),r=Mm(_f,e.__scopeSelect),[o,a]=w.useState(!1),l=De(t,r.onScrollButtonChange);return vt(()=>{if(n.viewport&&n.isPositioned){let d=function(){const m=h.scrollHeight-h.clientHeight,p=Math.ceil(h.scrollTop)<m;a(p)};const h=n.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),o?u.jsx(R1,{...e,ref:l,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=n;d&&h&&(d.scrollTop=d.scrollTop+h.offsetHeight)}}):null});P1.displayName=_f;var R1=w.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=e,a=Wr("SelectScrollButton",n),l=w.useRef(null),d=Wc(n),h=w.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return w.useEffect(()=>()=>h(),[h]),vt(()=>{var p;const m=d().find(y=>y.ref.current===document.activeElement);(p=m==null?void 0:m.ref.current)==null||p.scrollIntoView({block:"nearest"})},[d]),u.jsx(Ie.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:Ae(o.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:Ae(o.onPointerMove,()=>{var m;(m=a.onItemLeave)==null||m.call(a),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:Ae(o.onPointerLeave,()=>{h()})})}),O3="SelectSeparator",A1=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return u.jsx(Ie.div,{"aria-hidden":!0,...r,ref:t})});A1.displayName=O3;var jf="SelectArrow",I3=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=Hc(n),a=zr(jf,n),l=Wr(jf,n);return a.open&&l.position==="popper"?u.jsx(_M,{...o,...r,ref:t}):null});I3.displayName=jf;var D3="SelectBubbleInput",O1=w.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const o=w.useRef(null),a=De(r,o),l=QS(t);return w.useEffect(()=>{const d=o.current;if(!d)return;const h=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(h,"value").set;if(l!==t&&p){const y=new Event("change",{bubbles:!0});p.call(d,t),d.dispatchEvent(y)}},[l,t]),u.jsx(Ie.select,{...n,style:{...ZS,...n.style},ref:a,defaultValue:t})});O1.displayName=D3;function I1(e){return e===""||e===void 0}function D1(e){const t=Lt(e),n=w.useRef(""),r=w.useRef(0),o=w.useCallback(l=>{const d=n.current+l;t(d),(function h(m){n.current=m,window.clearTimeout(r.current),m!==""&&(r.current=window.setTimeout(()=>h(""),1e3))})(d)},[t]),a=w.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,a]}function L1(e,t,n){const o=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let l=L3(e,Math.max(a,0));o.length===1&&(l=l.filter(m=>m!==n));const h=l.find(m=>m.textValue.toLowerCase().startsWith(o.toLowerCase()));return h!==n?h:void 0}function L3(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var M3=c1,M1=d1,$3=f1,F3=m1,U3=p1,$1=g1,V3=w1,F1=_1,U1=C1,B3=k1,z3=N1,V1=T1,B1=P1,z1=A1;const ps=M3,gs=$3,Ir=w.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(M1,{ref:r,className:tt("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,u.jsx(F3,{asChild:!0,children:u.jsx(nS,{className:"h-4 w-4 opacity-50"})})]}));Ir.displayName=M1.displayName;const W1=w.forwardRef(({className:e,...t},n)=>u.jsx(V1,{ref:n,className:tt("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(PI,{className:"h-4 w-4"})}));W1.displayName=V1.displayName;const H1=w.forwardRef(({className:e,...t},n)=>u.jsx(B1,{ref:n,className:tt("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(nS,{className:"h-4 w-4"})}));H1.displayName=B1.displayName;const Dr=w.forwardRef(({className:e,children:t,position:n="popper",...r},o)=>u.jsx(U3,{children:u.jsxs($1,{ref:o,className:tt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[u.jsx(W1,{}),u.jsx(V3,{className:tt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),u.jsx(H1,{})]})}));Dr.displayName=$1.displayName;const W3=w.forwardRef(({className:e,...t},n)=>u.jsx(F1,{ref:n,className:tt("px-2 py-1.5 text-sm font-semibold",e),...t}));W3.displayName=F1.displayName;const Me=w.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(U1,{ref:r,className:tt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[u.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(z3,{children:u.jsx(tS,{className:"h-4 w-4"})})}),u.jsx(B3,{children:t})]}));Me.displayName=U1.displayName;const H3=w.forwardRef(({className:e,...t},n)=>u.jsx(z1,{ref:n,className:tt("-mx-1 my-1 h-px bg-muted",e),...t}));H3.displayName=z1.displayName;var q1=["PageUp","PageDown"],K1=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],G1={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Bi="Slider",[Cf,q3,K3]=SS(Bi),[Y1]=va(Bi,[K3]),[G3,qc]=Y1(Bi),X1=w.forwardRef((e,t)=>{const{name:n,min:r=0,max:o=100,step:a=1,orientation:l="horizontal",disabled:d=!1,minStepsBetweenThumbs:h=0,defaultValue:m=[r],value:p,onValueChange:y=()=>{},onValueCommit:v=()=>{},inverted:b=!1,form:k,...S}=e,_=w.useRef(new Set),j=w.useRef(0),E=l==="horizontal"?Y3:X3,[P=[],R]=vf({prop:p,defaultProp:m,onChange:ee=>{var ue;(ue=[..._.current][j.current])==null||ue.focus(),y(ee)}}),M=w.useRef(P);function I(ee){const te=t4(P,ee);H(ee,te)}function $(ee){H(ee,j.current)}function B(){const ee=M.current[j.current];P[j.current]!==ee&&v(P)}function H(ee,te,{commit:ue}={commit:!1}){const le=i4(a),ve=o4(Math.round((ee-r)/a)*a+r,le),re=sa(ve,[r,o]);R((Z=[])=>{const D=Z3(Z,re,te);if(s4(D,h*a)){j.current=D.indexOf(re);const J=String(D)!==String(Z);return J&&ue&&v(D),J?D:Z}else return Z})}return u.jsx(G3,{scope:e.__scopeSlider,name:n,disabled:d,min:r,max:o,valueIndexToChangeRef:j,thumbs:_.current,values:P,orientation:l,form:k,children:u.jsx(Cf.Provider,{scope:e.__scopeSlider,children:u.jsx(Cf.Slot,{scope:e.__scopeSlider,children:u.jsx(E,{"aria-disabled":d,"data-disabled":d?"":void 0,...S,ref:t,onPointerDown:Ae(S.onPointerDown,()=>{d||(M.current=P)}),min:r,max:o,inverted:b,onSlideStart:d?void 0:I,onSlideMove:d?void 0:$,onSlideEnd:d?void 0:B,onHomeKeyDown:()=>!d&&H(r,0,{commit:!0}),onEndKeyDown:()=>!d&&H(o,P.length-1,{commit:!0}),onStepKeyDown:({event:ee,direction:te})=>{if(!d){const ve=q1.includes(ee.key)||ee.shiftKey&&K1.includes(ee.key)?10:1,re=j.current,Z=P[re],D=a*ve*te;H(Z+D,re,{commit:!0})}}})})})})});X1.displayName=Bi;var[J1,Q1]=Y1(Bi,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Y3=w.forwardRef((e,t)=>{const{min:n,max:r,dir:o,inverted:a,onSlideStart:l,onSlideMove:d,onSlideEnd:h,onStepKeyDown:m,...p}=e,[y,v]=w.useState(null),b=De(t,E=>v(E)),k=w.useRef(void 0),S=Sm(o),_=S==="ltr",j=_&&!a||!_&&a;function N(E){const P=k.current||y.getBoundingClientRect(),R=[0,P.width],I=$m(R,j?[n,r]:[r,n]);return k.current=P,I(E-P.left)}return u.jsx(J1,{scope:e.__scopeSlider,startEdge:j?"left":"right",endEdge:j?"right":"left",direction:j?1:-1,size:"width",children:u.jsx(Z1,{dir:S,"data-orientation":"horizontal",...p,ref:b,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:E=>{const P=N(E.clientX);l==null||l(P)},onSlideMove:E=>{const P=N(E.clientX);d==null||d(P)},onSlideEnd:()=>{k.current=void 0,h==null||h()},onStepKeyDown:E=>{const R=G1[j?"from-left":"from-right"].includes(E.key);m==null||m({event:E,direction:R?-1:1})}})})}),X3=w.forwardRef((e,t)=>{const{min:n,max:r,inverted:o,onSlideStart:a,onSlideMove:l,onSlideEnd:d,onStepKeyDown:h,...m}=e,p=w.useRef(null),y=De(t,p),v=w.useRef(void 0),b=!o;function k(S){const _=v.current||p.current.getBoundingClientRect(),j=[0,_.height],E=$m(j,b?[r,n]:[n,r]);return v.current=_,E(S-_.top)}return u.jsx(J1,{scope:e.__scopeSlider,startEdge:b?"bottom":"top",endEdge:b?"top":"bottom",size:"height",direction:b?1:-1,children:u.jsx(Z1,{"data-orientation":"vertical",...m,ref:y,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:S=>{const _=k(S.clientY);a==null||a(_)},onSlideMove:S=>{const _=k(S.clientY);l==null||l(_)},onSlideEnd:()=>{v.current=void 0,d==null||d()},onStepKeyDown:S=>{const j=G1[b?"from-bottom":"from-top"].includes(S.key);h==null||h({event:S,direction:j?-1:1})}})})}),Z1=w.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:o,onSlideEnd:a,onHomeKeyDown:l,onEndKeyDown:d,onStepKeyDown:h,...m}=e,p=qc(Bi,n);return u.jsx(Ie.span,{...m,ref:t,onKeyDown:Ae(e.onKeyDown,y=>{y.key==="Home"?(l(y),y.preventDefault()):y.key==="End"?(d(y),y.preventDefault()):q1.concat(K1).includes(y.key)&&(h(y),y.preventDefault())}),onPointerDown:Ae(e.onPointerDown,y=>{const v=y.target;v.setPointerCapture(y.pointerId),y.preventDefault(),p.thumbs.has(v)?v.focus():r(y)}),onPointerMove:Ae(e.onPointerMove,y=>{y.target.hasPointerCapture(y.pointerId)&&o(y)}),onPointerUp:Ae(e.onPointerUp,y=>{const v=y.target;v.hasPointerCapture(y.pointerId)&&(v.releasePointerCapture(y.pointerId),a(y))})})}),e_="SliderTrack",t_=w.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=qc(e_,n);return u.jsx(Ie.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...r,ref:t})});t_.displayName=e_;var kf="SliderRange",n_=w.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=qc(kf,n),a=Q1(kf,n),l=w.useRef(null),d=De(t,l),h=o.values.length,m=o.values.map(v=>i_(v,o.min,o.max)),p=h>1?Math.min(...m):0,y=100-Math.max(...m);return u.jsx(Ie.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...r,ref:d,style:{...e.style,[a.startEdge]:p+"%",[a.endEdge]:y+"%"}})});n_.displayName=kf;var Ef="SliderThumb",r_=w.forwardRef((e,t)=>{const n=q3(e.__scopeSlider),[r,o]=w.useState(null),a=De(t,d=>o(d)),l=w.useMemo(()=>r?n().findIndex(d=>d.ref.current===r):-1,[n,r]);return u.jsx(J3,{...e,ref:a,index:l})}),J3=w.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:o,...a}=e,l=qc(Ef,n),d=Q1(Ef,n),[h,m]=w.useState(null),p=De(t,N=>m(N)),y=h?l.form||!!h.closest("form"):!0,v=US(h),b=l.values[r],k=b===void 0?0:i_(b,l.min,l.max),S=e4(r,l.values.length),_=v==null?void 0:v[d.size],j=_?n4(_,k,d.direction):0;return w.useEffect(()=>{if(h)return l.thumbs.add(h),()=>{l.thumbs.delete(h)}},[h,l.thumbs]),u.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[d.startEdge]:`calc(${k}% + ${j}px)`},children:[u.jsx(Cf.ItemSlot,{scope:e.__scopeSlider,children:u.jsx(Ie.span,{role:"slider","aria-label":e["aria-label"]||S,"aria-valuemin":l.min,"aria-valuenow":b,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...a,ref:p,style:b===void 0?{display:"none"}:e.style,onFocus:Ae(e.onFocus,()=>{l.valueIndexToChangeRef.current=r})})}),y&&u.jsx(s_,{name:o??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:b},r)]})});r_.displayName=Ef;var Q3="RadioBubbleInput",s_=w.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const o=w.useRef(null),a=De(o,r),l=QS(t);return w.useEffect(()=>{const d=o.current;if(!d)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"value").set;if(l!==t&&p){const y=new Event("input",{bubbles:!0});p.call(d,t),d.dispatchEvent(y)}},[l,t]),u.jsx(Ie.input,{style:{display:"none"},...n,ref:a,defaultValue:t})});s_.displayName=Q3;function Z3(e=[],t,n){const r=[...e];return r[n]=t,r.sort((o,a)=>o-a)}function i_(e,t,n){const a=100/(n-t)*(e-t);return sa(a,[0,100])}function e4(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function t4(e,t){if(e.length===1)return 0;const n=e.map(o=>Math.abs(o-t)),r=Math.min(...n);return n.indexOf(r)}function n4(e,t,n){const r=e/2,a=$m([0,50],[0,r]);return(r-a(t)*n)*n}function r4(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function s4(e,t){if(t>0){const n=r4(e);return Math.min(...n)>=t}return!0}function $m(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function i4(e){return(String(e).split(".")[1]||"").length}function o4(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var o_=X1,a4=t_,l4=n_,c4=r_;const u4=w.forwardRef(({className:e,...t},n)=>u.jsxs(o_,{ref:n,className:tt("relative flex w-full touch-none select-none items-center",e),...t,children:[u.jsx(a4,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:u.jsx(l4,{className:"absolute h-full bg-primary"})}),u.jsx(c4,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));u4.displayName=o_.displayName;function a_(){return u.jsxs("div",{children:[u.jsx("h1",{children:"This page was not fully implemented and caused an error. I have removed the broken code."}),u.jsx("p",{children:"You can ask me to implement the adventure generator functionality on this page."})]})}const d4=({character:e,status:t,hasAdventure:n})=>{const r=Ss(),o={Human:"🧑",Elf:"🧝",Dwarf:"🧔",Halfling:"🧙‍♂️",Dragonborn:"🐲",Gnome:"🧚‍♂️","Half-Elf":"🧑‍🧝","Half-Orc":"🧑‍🔥",Tiefling:"😈"},a={Fighter:"⚔️",Wizard:"🧙‍♂️",Rogue:"🗡️",Cleric:"✨",Ranger:"🏹",Barbarian:"🪓",Bard:"🎵",Druid:"🌿",Monk:"👊",Paladin:"🛡️",Sorcerer:"🔮",Warlock:"👁️"},d=(()=>{const h=e.hit_points/e.max_hit_points*100;return h>=75?{color:"text-green-400",status:"Healthy"}:h>=50?{color:"text-yellow-400",status:"Injured"}:h>=25?{color:"text-orange-400",status:"Wounded"}:{color:"text-red-400",status:"Critical"}})();return u.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-5,scale:1.02},className:"bg-gradient-to-br from-white/15 to-white/5 backdrop-blur-md border border-white/20 rounded-2xl p-6 flex flex-col text-center items-center shadow-2xl",children:[u.jsxs("div",{className:"relative mb-4",children:[u.jsxs("div",{className:"text-6xl mb-2 relative",children:[o[e.race]||"👤",u.jsx("div",{className:"absolute -bottom-1 -right-1 text-2xl",children:a[e.class]||"⚔️"})]}),n&&u.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-white text-xs",children:"!"})})]}),u.jsx("h3",{className:"text-2xl font-bold text-white mb-2",style:{fontFamily:"var(--font-heading)"},children:e.name}),u.jsxs("p",{className:"text-white/70 mb-3",children:[e.race," ",e.class]}),u.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:[u.jsxs(Se,{className:"bg-blue-600/20 text-blue-300 border-blue-500/50 text-sm",children:["Level ",e.level]}),u.jsxs(Se,{className:`bg-transparent border ${d.color} text-sm`,children:["HP: ",e.hit_points,"/",e.max_hit_points]}),e.experience_points>0&&u.jsxs(Se,{className:"bg-amber-600/20 text-amber-300 border-amber-500/50 text-sm",children:[e.experience_points," XP"]})]}),u.jsxs("div",{className:`mb-6 text-sm font-semibold ${n?"text-green-400":d.color}`,children:["Status: ",n?"On Quest":d.status]}),u.jsx(K.button,{onClick:()=>r(Ue(`QuestStart?characterId=${e.id}`)),whileHover:{scale:1.05},whileTap:{scale:.95},className:"btn-scroll mt-auto w-full py-3 text-lg",children:n?"Continue Quest":"Begin Adventure"})]})};function l_(){const[e,t]=w.useState([]),[n,r]=w.useState([]),[o,a]=w.useState(!0);w.useEffect(()=>{(async()=>{a(!0);try{const h=await Mr.me(),[m,p]=await Promise.all([Lr.filter({created_by:h.email},"-created_date"),bi.filter({created_by:h.email})]);t(m),r(p)}catch(h){console.error("Error loading selection data:",h)}finally{a(!1)}})()},[]);const l=d=>n.some(h=>h.character_id===d);return o?u.jsx("div",{className:"min-h-screen p-6 w-full flex items-center justify-center",children:u.jsx(K.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-16 h-16 border-4 border-amber-500/30 border-t-amber-500 rounded-full"})}):e.length===0?u.jsx("div",{className:"min-h-screen p-6 w-full flex flex-col items-center justify-center text-center",children:u.jsxs(K.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"parchment max-w-2xl p-8 sm:p-12",children:[u.jsx("div",{className:"text-6xl mb-6",children:"🏰"}),u.jsx("h1",{className:"dynamic-title text-amber-900 mb-4",style:{fontFamily:"var(--font-heading)"},children:"Your Adventure Awaits"}),u.jsx("p",{className:"text-amber-800/80 text-lg mb-8 max-w-md mx-auto",children:"Every legend begins with a hero. Create your first character to embark upon epic quests and forge your destiny!"}),u.jsx(en,{to:Ue("Character"),className:"btn-scroll px-8 py-4 text-lg",children:"Create Your First Character"})]})}):u.jsx("div",{className:"min-h-screen p-4 sm:p-6 w-full",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs(K.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[u.jsx("h1",{className:"dynamic-title text-amber-100 mb-2",style:{fontFamily:"var(--font-heading)"},children:"Choose Your Hero"}),u.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-transparent via-amber-400 to-transparent mx-auto mb-4"}),u.jsx("p",{className:"text-amber-200/80 text-lg",style:{fontFamily:"var(--font-accent)"},children:"Select an adventurer to begin or continue their epic journey"})]}),u.jsx(K.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-12",children:e.map((d,h)=>u.jsx(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:h*.1},children:u.jsx(d4,{character:d,hasAdventure:l(d.id)})},d.id))}),u.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"text-center",children:u.jsx(en,{to:Ue("Character"),children:u.jsxs(K.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"btn-scroll-danger px-8 py-4 text-lg",children:[u.jsx("span",{className:"text-xl mr-2",children:"✨"}),"Create New Character"]})})})]})})}function c_(){var k;const[e,t]=w.useState(null),[n,r]=w.useState(null),[o,a]=w.useState(!0),l=Ss(),d=nn(),h=new URLSearchParams(d.search).get("characterId"),m=w.useCallback(async()=>{if(!h){l(Ue("QuestSelection"));return}a(!0);try{const S=await Lr.get(h);t(S);const _=await bi.filter({character_id:S.id});_.length>0?r(_[0]):r(null)}catch(S){console.error("Error loading quest start data:",S),l(Ue("QuestSelection"))}finally{a(!1)}},[h,l]);w.useEffect(()=>{m()},[m]);const p=async()=>{if(e){a(!0);try{const S={id:"start",depth:0,content:{scene_description:`The story of ${e.name}, the ${e.race} ${e.class}, is about to begin. An old map, a mysterious whisper, or a sudden danger pulls them from a life of obscurity into the annals of legend. The path ahead is shrouded in mystery.`,encounter_type:"hook",details:"This is the starting point of the adventure."},choices:[]},_=`${e.name} the ${e.race} ${e.class} embarks on an epic adventure`,j=await bi.create({character_id:e.id,seed:_,path_log:[S],nodes_cache:[],status:"active"});l(Ue(`Adventure?characterId=${e.id}`))}catch(S){console.error("Error starting new quest:",S),a(!1)}}},y=()=>{l(Ue(`Adventure?characterId=${e.id}`))},v=async()=>{if(!(!n||!window.confirm("Are you sure you want to abandon this quest? All progress will be lost permanently."))){a(!0);try{await bi.delete(n.id),r(null)}catch(S){console.error("Error abandoning quest:",S)}finally{a(!1)}}};if(o||!e)return u.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center",children:u.jsx("p",{className:"text-amber-100 text-lg",children:"Loading quest details..."})});const b=((k=n==null?void 0:n.path_log)==null?void 0:k.length)||0;return u.jsx("div",{className:"min-h-screen p-4 sm:p-6 w-full flex items-center justify-center",children:u.jsxs(K.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"parchment max-w-4xl w-full mx-auto p-8 sm:p-12 text-center",children:[u.jsx("h1",{className:"dynamic-title text-amber-900 mb-4",style:{fontFamily:"var(--font-heading)"},children:n?`Welcome Back, ${e.name}`:`Begin Your Adventure, ${e.name}`}),u.jsxs("div",{className:"flex justify-center flex-wrap gap-2 mb-8",children:[u.jsx(Se,{className:"bg-green-800/70 text-green-50 text-base",children:e.race}),u.jsx(Se,{className:"bg-red-800/70 text-red-50 text-base",children:e.class}),u.jsxs(Se,{className:"bg-blue-800/70 text-blue-50 text-base",children:["Level ",e.level]})]}),n?u.jsxs("div",{children:[u.jsxs("p",{className:"text-lg text-amber-800/80 mb-8",children:["Your journey awaits. You have explored ",b," locations. Continue where you left off or abandon your quest to start anew."]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[u.jsx("button",{onClick:y,className:"btn-scroll px-10 py-4 text-lg",children:"Continue Quest"}),u.jsx("button",{onClick:v,className:"btn-scroll-danger px-10 py-4 text-lg",children:"Abandon Current Quest"})]})]}):u.jsxs("div",{children:[u.jsx("p",{className:"text-lg text-amber-800/80 mb-8",children:"A new saga is ready to be written. The world holds its breath, waiting for your first step. Will you answer the call?"}),u.jsx("button",{onClick:p,className:"btn-scroll px-12 py-5 text-xl",children:"Start New Quest"})]})]})})}function u_(){const[e,t]=w.useState(null),[n,r]=w.useState([]),[o,a]=w.useState(!0),l=Ss();w.useEffect(()=>{d()},[]);const d=async()=>{a(!0);try{const m=await Mr.me();if(t(m),m.role==="dungeon_master"||m.role==="admin"){const p=await xm.filter({author_id:m.id},"-created_date");r(p)}}catch(m){console.error("Error loading DM data:",m)}finally{a(!1)}},h=async()=>{try{await Mr.updateMyUserData({role:"dungeon_master",dm_verified:!0}),await d()}catch(m){console.error("Error activating DM role:",m)}};return o?u.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center",children:u.jsx(K.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-16 h-16 border-4 border-amber-500/30 border-t-amber-500 rounded-full"})}):e&&e.role==="player"?u.jsx("div",{className:"min-h-screen p-4 sm:p-6",children:u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"parchment p-8 sm:p-12 text-center",children:[u.jsx("div",{className:"text-8xl mb-6",children:"📚"}),u.jsx("h1",{className:"dynamic-title text-amber-900 mb-4",style:{fontFamily:"var(--font-heading)"},children:"Become a Dungeon Master"}),u.jsx("p",{className:"text-lg text-amber-800/80 mb-8 max-w-2xl mx-auto",children:"Create your own epic adventures, share them with the community, and watch players experience your stories. As a Dungeon Master, you'll have access to powerful tools to craft branching narratives, design encounters, and build memorable quests."}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-10",children:[u.jsxs("div",{className:"bg-amber-800/10 rounded-lg p-6 border border-amber-800/20",children:[u.jsx("div",{className:"text-4xl mb-3",children:"✍️"}),u.jsx("h3",{className:"text-xl font-bold text-amber-900 mb-2",children:"Create Adventures"}),u.jsx("p",{className:"text-amber-800/70",children:"Build branching stories with our intuitive adventure builder"})]}),u.jsxs("div",{className:"bg-amber-800/10 rounded-lg p-6 border border-amber-800/20",children:[u.jsx("div",{className:"text-4xl mb-3",children:"🌍"}),u.jsx("h3",{className:"text-xl font-bold text-amber-900 mb-2",children:"Share Worldwide"}),u.jsx("p",{className:"text-amber-800/70",children:"Publish your adventures and reach players globally"})]}),u.jsxs("div",{className:"bg-amber-800/10 rounded-lg p-6 border border-amber-800/20",children:[u.jsx("div",{className:"text-4xl mb-3",children:"📊"}),u.jsx("h3",{className:"text-xl font-bold text-amber-900 mb-2",children:"Track Analytics"}),u.jsx("p",{className:"text-amber-800/70",children:"See how players interact with your creations"})]})]}),u.jsxs("button",{onClick:h,className:"btn-scroll px-12 py-5 text-xl",children:[u.jsx("span",{className:"text-2xl mr-2",children:"🎲"}),"Activate DM Role"]})]})})}):u.jsx("div",{className:"min-h-screen p-4 sm:p-6",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs(K.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[u.jsx("h1",{className:"dynamic-title text-amber-100 mb-2",style:{fontFamily:"var(--font-heading)"},children:"Dungeon Master Tools"}),u.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-transparent via-amber-400 to-transparent mb-4"}),u.jsx("p",{className:"text-amber-200/80 text-lg",style:{fontFamily:"var(--font-accent)"},children:"Create, manage, and share your epic adventures"})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 mb-8",children:[u.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"parchment p-6",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"text-4xl",children:"📖"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-3xl font-bold text-amber-900",children:n.length}),u.jsx("div",{className:"text-amber-800/70",children:"Adventures Created"})]})]})}),u.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"parchment p-6",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"text-4xl",children:"🎮"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-3xl font-bold text-amber-900",children:n.reduce((m,p)=>m+(p.play_count||0),0)}),u.jsx("div",{className:"text-amber-800/70",children:"Total Plays"})]})]})}),u.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"parchment p-6",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"text-4xl",children:"⭐"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-3xl font-bold text-amber-900",children:n.length>0?(n.reduce((m,p)=>m+(p.rating_average||0),0)/n.length).toFixed(1):"0.0"}),u.jsx("div",{className:"text-amber-800/70",children:"Average Rating"})]})]})})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 mb-8",children:[u.jsx(K.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},children:u.jsxs("button",{onClick:()=>l(Ue("AdventureBuilder")),className:"btn-scroll w-full h-24 text-xl",children:[u.jsx("span",{className:"text-3xl mr-3",children:"✨"}),"Create New Adventure"]})}),u.jsx(K.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},children:u.jsxs("button",{onClick:()=>l(Ue("AdventureBrowser")),className:"btn-scroll w-full h-24 text-xl",children:[u.jsx("span",{className:"text-3xl mr-3",children:"🔍"}),"Browse Adventures"]})})]}),u.jsxs(K.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:[u.jsx("h2",{className:"text-2xl font-bold text-amber-100 mb-6",style:{fontFamily:"var(--font-heading)"},children:"My Adventures"}),n.length===0?u.jsxs("div",{className:"parchment p-12 text-center",children:[u.jsx("div",{className:"text-6xl mb-4",children:"📝"}),u.jsx("p",{className:"text-lg text-amber-900/80 mb-6",children:"You haven't created any adventures yet. Start your journey as a Dungeon Master!"}),u.jsx("button",{onClick:()=>l(Ue("AdventureBuilder")),className:"btn-scroll px-8 py-4",children:"Create Your First Adventure"})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((m,p)=>u.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*p},className:"parchment p-6 hover:shadow-xl transition-shadow cursor-pointer",onClick:()=>l(Ue(`AdventureEditor?id=${m.id}`)),children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsx("h3",{className:"text-xl font-bold text-amber-900 flex-1",style:{fontFamily:"var(--font-heading)"},children:m.title}),u.jsx(Se,{className:m.status==="published"?"bg-green-800/20 text-green-900":m.status==="draft"?"bg-yellow-800/20 text-yellow-900":"bg-gray-800/20 text-gray-900",children:m.status})]}),u.jsx("p",{className:"text-amber-800/70 text-sm mb-4 line-clamp-2",children:m.description}),u.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:m.tags&&m.tags.slice(0,3).map((y,v)=>u.jsx(Se,{className:"bg-amber-800/20 text-amber-900 text-xs",children:y},v))}),u.jsxs("div",{className:"flex items-center justify-between text-sm text-amber-900/70",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{children:"🎮"}),u.jsxs("span",{children:[m.play_count||0," plays"]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{children:"⭐"}),u.jsx("span",{children:(m.rating_average||0).toFixed(1)})]})]}),u.jsxs("div",{className:"mt-4 pt-4 border-t border-amber-800/20 flex gap-2",children:[u.jsx(Zn,{variant:"outline",size:"sm",className:"flex-1",onClick:y=>{y.stopPropagation(),l(Ue(`AdventureEditor?id=${m.id}`))},children:"Edit"}),u.jsxs(Zn,{variant:"outline",size:"sm",className:"flex-1",onClick:y=>{y.stopPropagation(),navigator.clipboard.writeText(m.seed_code),alert("Seed code copied!")},children:["📋 ",m.seed_code]})]})]},m.id))})]})]})})}const h4=["Fantasy","Horror","Mystery","Comedy","Sci-Fi","Romance","Adventure","Political","Dungeon Crawl","Roleplay Heavy","Combat Heavy","Puzzle"];function d_(){const[e,t]=w.useState(0),[n,r]=w.useState({title:"",description:"",difficulty_rating:3,estimated_time:"1hour",tags:[],recommended_level:5,party_size:"1",content_rating:"teen",starting_scene:""}),[o,a]=w.useState(!1),l=Ss(),d=[{id:"metadata",title:"Adventure Details"},{id:"settings",title:"Game Settings"},{id:"story",title:"Starting Scene"},{id:"review",title:"Review & Create"}],h=()=>{const v="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";return Array.from({length:8},()=>v[Math.floor(Math.random()*v.length)]).join("")},m=v=>{r(b=>({...b,tags:b.tags.includes(v)?b.tags.filter(k=>k!==v):[...b.tags,v]}))},p=async()=>{a(!0);try{const v=await Mr.me(),b=h(),k=await xm.create({...n,seed_code:b,author_id:v.id,author_name:v.full_name,status:"draft",version:"1.0.0",story_structure:{root_node:{id:"start",type:"story",content:n.starting_scene,choices:[]}},starting_node_id:"start"});l(Ue(`AdventureEditor?id=${k.id}`))}catch(v){console.error("Error creating adventure:",v)}finally{a(!1)}},y=()=>{switch(e){case 0:return n.title.trim()&&n.description.trim();case 1:return n.tags.length>0;case 2:return n.starting_scene.trim();case 3:return!0;default:return!1}};return u.jsx("div",{className:"min-h-screen p-4 sm:p-6",children:u.jsxs("div",{className:"max-w-5xl mx-auto",children:[u.jsxs(K.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[u.jsx("h1",{className:"dynamic-title text-amber-100 mb-2",style:{fontFamily:"var(--font-heading)"},children:"Create New Adventure"}),u.jsxs("p",{className:"text-amber-200/80 text-lg",children:["Step ",e+1," of ",d.length,": ",d[e].title]})]}),u.jsxs("div",{className:"mb-8",children:[u.jsx("div",{className:"flex justify-between items-center mb-2",children:d.map((v,b)=>u.jsx("div",{className:`text-xs sm:text-sm font-medium ${b<=e?"text-amber-100":"text-amber-100/40"}`,children:v.title},v.id))}),u.jsx("div",{className:"w-full bg-amber-100/20 rounded-full h-2",children:u.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 h-2 rounded-full transition-all duration-500",style:{width:`${(e+1)/d.length*100}%`}})})]}),u.jsx("div",{className:"parchment p-6 sm:p-10 mb-8 min-h-[500px]",children:u.jsxs(_s,{mode:"wait",children:[e===0&&u.jsxs(K.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-lg font-bold text-amber-900 mb-2",children:"Adventure Title *"}),u.jsx(Ei,{value:n.title,onChange:v=>r({...n,title:v.target.value}),placeholder:"The Lost Temple of Doom",className:"text-lg medieval-input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-lg font-bold text-amber-900 mb-2",children:"Description/Synopsis *"}),u.jsx(ra,{value:n.description,onChange:v=>r({...n,description:v.target.value}),placeholder:"Deep in the jungle lies a forgotten temple, filled with ancient treasures and deadly traps...",className:"h-40 medieval-input"})]}),u.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:u.jsxs("p",{className:"text-amber-900/80 text-sm",children:["💡 ",u.jsx("strong",{children:"Tip:"})," Write a compelling description that will attract players. Hint at the adventure's themes and what makes it unique!"]})})]},"step0"),e===1&&u.jsxs(K.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-lg font-bold text-amber-900 mb-3",children:"Genre Tags (select at least one) *"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:h4.map(v=>u.jsxs(Se,{className:`cursor-pointer transition-all ${n.tags.includes(v)?"bg-amber-600/80 text-white border-amber-600":"bg-amber-800/20 text-amber-900 border-amber-800/40 hover:bg-amber-800/30"}`,onClick:()=>m(v),children:[n.tags.includes(v)&&"✓ ",v]},v))})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-lg font-bold text-amber-900 mb-2",children:"Difficulty Rating"}),u.jsxs(ps,{value:n.difficulty_rating.toString(),onValueChange:v=>r({...n,difficulty_rating:parseInt(v)}),children:[u.jsx(Ir,{className:"medieval-select",children:u.jsx(gs,{})}),u.jsxs(Dr,{children:[u.jsx(Me,{value:"1",children:"⭐ Very Easy"}),u.jsx(Me,{value:"2",children:"⭐⭐ Easy"}),u.jsx(Me,{value:"3",children:"⭐⭐⭐ Medium"}),u.jsx(Me,{value:"4",children:"⭐⭐⭐⭐ Hard"}),u.jsx(Me,{value:"5",children:"⭐⭐⭐⭐⭐ Very Hard"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-lg font-bold text-amber-900 mb-2",children:"Estimated Time"}),u.jsxs(ps,{value:n.estimated_time,onValueChange:v=>r({...n,estimated_time:v}),children:[u.jsx(Ir,{className:"medieval-select",children:u.jsx(gs,{})}),u.jsxs(Dr,{children:[u.jsx(Me,{value:"30min",children:"30 minutes"}),u.jsx(Me,{value:"1hour",children:"1 hour"}),u.jsx(Me,{value:"2hours",children:"2 hours"}),u.jsx(Me,{value:"3hours+",children:"3+ hours"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-lg font-bold text-amber-900 mb-2",children:"Recommended Level"}),u.jsxs(ps,{value:n.recommended_level.toString(),onValueChange:v=>r({...n,recommended_level:parseInt(v)}),children:[u.jsx(Ir,{className:"medieval-select",children:u.jsx(gs,{})}),u.jsx(Dr,{children:[...Array(20)].map((v,b)=>u.jsxs(Me,{value:(b+1).toString(),children:["Level ",b+1]},b+1))})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-lg font-bold text-amber-900 mb-2",children:"Content Rating"}),u.jsxs(ps,{value:n.content_rating,onValueChange:v=>r({...n,content_rating:v}),children:[u.jsx(Ir,{className:"medieval-select",children:u.jsx(gs,{})}),u.jsxs(Dr,{children:[u.jsx(Me,{value:"all_ages",children:"All Ages"}),u.jsx(Me,{value:"teen",children:"Teen (13+)"}),u.jsx(Me,{value:"mature",children:"Mature (17+)"})]})]})]})]})]},"step1"),e===2&&u.jsxs(K.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-lg font-bold text-amber-900 mb-2",children:"Opening Scene *"}),u.jsx(ra,{value:n.starting_scene,onChange:v=>r({...n,starting_scene:v.target.value}),placeholder:"You stand at the entrance of an ancient temple, vines covering the weathered stone entrance. The air is thick with humidity and the distant sound of waterfalls echoes through the jungle...",className:"h-64 medieval-input"}),u.jsx("p",{className:"text-sm text-amber-900/60 mt-2",children:"This is the first scene players will see. Set the mood and introduce the adventure's premise."})]}),u.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4",children:u.jsxs("p",{className:"text-amber-900/80 text-sm",children:["💡 ",u.jsx("strong",{children:"Tip:"})," After creating the adventure, you'll be able to add branching paths, choices, and encounters in the advanced editor."]})})]},"step2"),e===3&&u.jsxs(K.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"text-6xl mb-4",children:"📖"}),u.jsx("h2",{className:"text-3xl font-bold text-amber-900 mb-2",style:{fontFamily:"var(--font-heading)"},children:"Review Your Adventure"}),u.jsx("p",{className:"text-amber-800/70",children:"Make sure everything looks good before creating your adventure"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-amber-800/10 rounded-lg p-4 border border-amber-800/20",children:[u.jsx("h3",{className:"font-bold text-amber-900 mb-2",children:"Title"}),u.jsx("p",{className:"text-amber-800",children:n.title})]}),u.jsxs("div",{className:"bg-amber-800/10 rounded-lg p-4 border border-amber-800/20",children:[u.jsx("h3",{className:"font-bold text-amber-900 mb-2",children:"Description"}),u.jsx("p",{className:"text-amber-800",children:n.description})]}),u.jsxs("div",{className:"bg-amber-800/10 rounded-lg p-4 border border-amber-800/20",children:[u.jsx("h3",{className:"font-bold text-amber-900 mb-2",children:"Tags"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:n.tags.map(v=>u.jsx(Se,{className:"bg-amber-600/20 text-amber-900",children:v},v))})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-amber-800/10 rounded-lg p-4 border border-amber-800/20",children:[u.jsx("h3",{className:"font-bold text-amber-900 text-sm mb-1",children:"Difficulty"}),u.jsx("p",{className:"text-amber-800",children:"⭐".repeat(n.difficulty_rating)})]}),u.jsxs("div",{className:"bg-amber-800/10 rounded-lg p-4 border border-amber-800/20",children:[u.jsx("h3",{className:"font-bold text-amber-900 text-sm mb-1",children:"Est. Time"}),u.jsx("p",{className:"text-amber-800",children:n.estimated_time})]}),u.jsxs("div",{className:"bg-amber-800/10 rounded-lg p-4 border border-amber-800/20",children:[u.jsx("h3",{className:"font-bold text-amber-900 text-sm mb-1",children:"Rec. Level"}),u.jsxs("p",{className:"text-amber-800",children:["Level ",n.recommended_level]})]}),u.jsxs("div",{className:"bg-amber-800/10 rounded-lg p-4 border border-amber-800/20",children:[u.jsx("h3",{className:"font-bold text-amber-900 text-sm mb-1",children:"Rating"}),u.jsx("p",{className:"text-amber-800",children:n.content_rating})]})]})]})]},"step3")]})}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("button",{onClick:()=>t(Math.max(0,e-1)),disabled:e===0,className:"btn-scroll px-8 py-4",children:"← Previous"}),e<d.length-1?u.jsx("button",{onClick:()=>t(e+1),disabled:!y(),className:"btn-scroll px-8 py-4",children:"Next →"}):u.jsx("button",{onClick:p,disabled:o||!y(),className:"btn-scroll-danger px-12 py-4",children:o?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"animate-spin mr-2",children:"🔄"}),"Creating..."]}):u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"mr-2",children:"✨"}),"Create Adventure"]})})]})]})})}function h_(){const[e,t]=w.useState([]),[n,r]=w.useState([]),[o,a]=w.useState(""),[l,d]=w.useState("newest"),[h,m]=w.useState("all"),[p,y]=w.useState(null),[v,b]=w.useState(!0);Ss(),w.useEffect(()=>{k()},[]),w.useEffect(()=>{let j=[...e];switch(o&&(j=j.filter(N=>N.title.toLowerCase().includes(o.toLowerCase())||N.description.toLowerCase().includes(o.toLowerCase())||N.author_name.toLowerCase().includes(o.toLowerCase()))),h!=="all"&&(j=j.filter(N=>N.tags&&N.tags.includes(h))),l){case"newest":j.sort((N,E)=>new Date(E.created_date)-new Date(N.created_date));break;case"popular":j.sort((N,E)=>(E.play_count||0)-(N.play_count||0));break;case"rating":j.sort((N,E)=>(E.rating_average||0)-(N.rating_average||0));break}r(j)},[e,o,l,h]);const k=async()=>{b(!0);try{const j=await Mr.me();y(j);const N=await xm.filter({status:"published"},"-created_date");t(N)}catch(j){console.error("Error loading adventures:",j)}finally{b(!1)}},S=async j=>{if(p)try{const N=p.favorite_adventures||[];N.includes(j)?await Mr.updateMyUserData({favorite_adventures:N.filter(P=>P!==j)}):await Mr.updateMyUserData({favorite_adventures:[...N,j]}),await k()}catch(N){console.error("Error toggling favorite:",N)}},_=j=>{alert(`Adventure Seed: ${j.seed_code}

This will soon integrate with character selection to start playing!`)};return v?u.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center",children:u.jsx(K.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-16 h-16 border-4 border-amber-500/30 border-t-amber-500 rounded-full"})}):u.jsx("div",{className:"min-h-screen p-4 sm:p-6",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs(K.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[u.jsx("h1",{className:"dynamic-title text-amber-100 mb-2",style:{fontFamily:"var(--font-heading)"},children:"Adventure Browser"}),u.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-transparent via-amber-400 to-transparent mb-4"}),u.jsx("p",{className:"text-amber-200/80 text-lg",children:"Discover and play community-created adventures"})]}),u.jsxs("div",{className:"parchment p-6 mb-8",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsx(Ei,{placeholder:"Search adventures...",value:o,onChange:j=>a(j.target.value),className:"medieval-input"}),u.jsxs(ps,{value:l,onValueChange:d,children:[u.jsx(Ir,{className:"medieval-select",children:u.jsx(gs,{placeholder:"Sort by..."})}),u.jsxs(Dr,{children:[u.jsx(Me,{value:"newest",children:"Newest First"}),u.jsx(Me,{value:"popular",children:"Most Popular"}),u.jsx(Me,{value:"rating",children:"Highest Rated"})]})]}),u.jsxs(ps,{value:h,onValueChange:m,children:[u.jsx(Ir,{className:"medieval-select",children:u.jsx(gs,{placeholder:"Filter by genre..."})}),u.jsxs(Dr,{children:[u.jsx(Me,{value:"all",children:"All Genres"}),u.jsx(Me,{value:"Fantasy",children:"Fantasy"}),u.jsx(Me,{value:"Horror",children:"Horror"}),u.jsx(Me,{value:"Mystery",children:"Mystery"}),u.jsx(Me,{value:"Comedy",children:"Comedy"}),u.jsx(Me,{value:"Sci-Fi",children:"Sci-Fi"})]})]})]}),u.jsxs("div",{className:"mt-4 text-sm text-amber-900/70",children:["Showing ",n.length," of ",e.length," adventures"]})]}),n.length===0?u.jsxs("div",{className:"parchment p-12 text-center",children:[u.jsx("div",{className:"text-6xl mb-4",children:"🔍"}),u.jsx("p",{className:"text-lg text-amber-900/80",children:"No adventures found matching your criteria."})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((j,N)=>{var E,P;return u.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:N*.1},className:"parchment p-6 hover:shadow-xl transition-all relative",children:[j.featured&&u.jsx("div",{className:"absolute top-4 right-4",children:u.jsx(Se,{className:"bg-yellow-600/80 text-white",children:"⭐ Featured"})}),u.jsx("h3",{className:"text-xl font-bold text-amber-900 mb-2 pr-20",style:{fontFamily:"var(--font-heading)"},children:j.title}),u.jsxs("p",{className:"text-sm text-amber-800/70 mb-1",children:["by ",j.author_name]}),u.jsx("p",{className:"text-amber-800/70 text-sm mb-4 line-clamp-3",children:j.description}),u.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:j.tags&&j.tags.slice(0,3).map((R,M)=>u.jsx(Se,{className:"bg-amber-800/20 text-amber-900 text-xs",children:R},M))}),u.jsx("div",{className:"flex items-center justify-between text-sm text-amber-900/70 mb-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex items-center gap-1",children:u.jsx("span",{children:"⭐".repeat(j.difficulty_rating)})}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{children:"🎮"}),u.jsx("span",{children:j.play_count||0})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{children:"⭐"}),u.jsx("span",{children:(j.rating_average||0).toFixed(1)})]})]})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>_(j),className:"btn-scroll flex-1 py-2 text-sm",children:"Play Now"}),u.jsx("button",{onClick:()=>S(j.id),className:`btn-scroll w-12 h-10 flex items-center justify-center text-lg ${(E=p==null?void 0:p.favorite_adventures)!=null&&E.includes(j.id)?"bg-red-600/80":""}`,children:(P=p==null?void 0:p.favorite_adventures)!=null&&P.includes(j.id)?"❤️":"🤍"})]}),u.jsxs("div",{className:"mt-3 text-center text-xs text-amber-900/60",children:["Seed: ",j.seed_code]})]},j.id)})})]})})}function f_(){return u.jsx("div",{className:"min-h-screen p-4 sm:p-6",children:u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"parchment p-8 sm:p-12",children:[u.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-amber-900 mb-6",style:{fontFamily:"var(--font-header)"},children:"About DungeonRoller"}),u.jsxs("div",{className:"space-y-6 text-amber-900/90",children:[u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-3",style:{fontFamily:"var(--font-header)"},children:"Our Story"}),u.jsxs("p",{className:"text-lg leading-relaxed",children:["DungeonRoller is developed and owned by ",u.jsx("strong",{children:"Summit Software Solutions LLC"}),", a company dedicated to creating innovative digital experiences for tabletop gaming enthusiasts. We believe in bringing the magic of storytelling and adventure to life through technology."]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-3",style:{fontFamily:"var(--font-header)"},children:"Our Mission"}),u.jsx("p",{className:"text-lg leading-relaxed",children:"To provide immersive, interactive storytelling tools that bring the magic of tabletop role-playing to the digital realm. We strive to create experiences that honor the spirit of traditional tabletop gaming while leveraging modern technology to enhance accessibility and engagement."})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-3",style:{fontFamily:"var(--font-header)"},children:"What Makes Us Different"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-amber-800/10 p-4 rounded-lg border border-amber-800/20",children:[u.jsx("h3",{className:"font-bold text-xl mb-2",children:"🎲 Authentic Experience"}),u.jsx("p",{children:"True-to-tabletop mechanics with D&D 5e rules implementation"})]}),u.jsxs("div",{className:"bg-amber-800/10 p-4 rounded-lg border border-amber-800/20",children:[u.jsx("h3",{className:"font-bold text-xl mb-2",children:"🌟 Community-Driven"}),u.jsx("p",{children:"Player and DM tools designed with community feedback"})]}),u.jsxs("div",{className:"bg-amber-800/10 p-4 rounded-lg border border-amber-800/20",children:[u.jsx("h3",{className:"font-bold text-xl mb-2",children:"📖 Rich Storytelling"}),u.jsx("p",{children:"AI-enhanced narrative generation for endless adventures"})]}),u.jsxs("div",{className:"bg-amber-800/10 p-4 rounded-lg border border-amber-800/20",children:[u.jsx("h3",{className:"font-bold text-xl mb-2",children:"⚔️ Complete System"}),u.jsx("p",{children:"Character creation, combat, progression, and more"})]})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-3",style:{fontFamily:"var(--font-header)"},children:"Contact Information"}),u.jsxs("div",{className:"bg-amber-800/10 p-6 rounded-lg border border-amber-800/20",children:[u.jsx("p",{className:"text-lg font-bold mb-3",children:"Summit Software Solutions LLC"}),u.jsxs("p",{children:[u.jsx("strong",{children:"Email:"})," ",u.jsx("a",{href:"mailto:info@summitsoftwaresolutions.dev",className:"text-amber-700 hover:text-amber-900",children:"info@summitsoftwaresolutions.dev"})]})]})]}),u.jsx("section",{className:"text-center pt-8 border-t-2 border-amber-800/30",children:u.jsx("p",{className:"text-xl",style:{fontFamily:"var(--font-fantasy)"},children:'"Every legend begins with a single roll..."'})})]})]})})})}function m_(){return u.jsx("div",{className:"min-h-screen p-4 sm:p-6",children:u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"parchment p-8 sm:p-12",children:[u.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-amber-900 mb-4",style:{fontFamily:"var(--font-header)"},children:"Terms of Service"}),u.jsxs("p",{className:"text-amber-900/70 mb-8",children:[u.jsx("strong",{children:"Last Updated:"})," January 2025"]}),u.jsxs("div",{className:"space-y-8 text-amber-900/90",children:[u.jsx("section",{children:u.jsx("p",{className:"text-lg leading-relaxed mb-4",children:'These Terms of Service ("Terms") govern your use of the DungeonRoller application ("Service") operated by Summit Software Solutions LLC ("Company", "we", "us", or "our").'})}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-3",style:{fontFamily:"var(--font-header)"},children:"1. Acceptance of Terms"}),u.jsx("p",{className:"leading-relaxed",children:"By accessing and using DungeonRoller, you accept and agree to be bound by the terms and provisions of this agreement. If you do not agree to these Terms, please do not use our Service."})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-3",style:{fontFamily:"var(--font-header)"},children:"2. Intellectual Property Rights"}),u.jsx("p",{className:"leading-relaxed mb-3",children:"The Service and its original content, features, and functionality are and will remain the exclusive property of Summit Software Solutions LLC and its licensors."}),u.jsx("p",{className:"leading-relaxed",children:"The Service is protected by copyright, trademark, and other laws. Our trademarks and trade dress may not be used without our prior written consent."})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-3",style:{fontFamily:"var(--font-header)"},children:"3. User Content"}),u.jsx("p",{className:"leading-relaxed mb-3",children:'Our Service may allow you to create, upload, and share content including characters, adventures, and stories ("User Content"). You retain ownership of your User Content.'}),u.jsx("p",{className:"leading-relaxed",children:"By creating User Content, you grant us a worldwide, non-exclusive, royalty-free license to use, reproduce, modify, and display your User Content solely for the purpose of operating and improving the Service."})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-3",style:{fontFamily:"var(--font-header)"},children:"4. User Conduct"}),u.jsx("p",{className:"leading-relaxed mb-2",children:"You agree not to:"}),u.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[u.jsx("li",{children:"Use the Service for any illegal purpose"}),u.jsx("li",{children:"Harass, abuse, or harm other users"}),u.jsx("li",{children:"Upload malicious code or viruses"}),u.jsx("li",{children:"Attempt to gain unauthorized access to the Service"}),u.jsx("li",{children:"Impersonate any person or entity"}),u.jsx("li",{children:"Interfere with the Service's operation"})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-3",style:{fontFamily:"var(--font-header)"},children:"5. Account Security"}),u.jsx("p",{className:"leading-relaxed",children:"You are responsible for maintaining the confidentiality of your account credentials and for all activities that occur under your account. You must immediately notify us of any unauthorized use of your account."})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-3",style:{fontFamily:"var(--font-header)"},children:"6. Termination"}),u.jsx("p",{className:"leading-relaxed",children:"We may terminate or suspend your access to the Service immediately, without prior notice or liability, for any reason, including breach of these Terms."})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-3",style:{fontFamily:"var(--font-header)"},children:"7. Disclaimer of Warranties"}),u.jsx("p",{className:"leading-relaxed",children:'The Service is provided "AS IS" and "AS AVAILABLE" without warranties of any kind, either express or implied. We do not warrant that the Service will be uninterrupted, secure, or error-free.'})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-3",style:{fontFamily:"var(--font-header)"},children:"8. Limitation of Liability"}),u.jsx("p",{className:"leading-relaxed",children:"In no event shall Summit Software Solutions LLC be liable for any indirect, incidental, special, consequential, or punitive damages arising out of or related to your use of the Service."})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-3",style:{fontFamily:"var(--font-header)"},children:"9. Changes to Terms"}),u.jsx("p",{className:"leading-relaxed",children:"We reserve the right to modify these Terms at any time. We will notify users of any material changes via email or through the Service."})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-3",style:{fontFamily:"var(--font-header)"},children:"10. Contact Information"}),u.jsx("p",{className:"leading-relaxed",children:"For questions about these Terms, please contact us at:"}),u.jsxs("div",{className:"bg-amber-800/10 p-4 rounded-lg border border-amber-800/20 mt-3",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Email:"})," ",u.jsx("a",{href:"mailto:info@summitsoftwaresolutions.dev",className:"text-amber-700 hover:text-amber-900",children:"info@summitsoftwaresolutions.dev"})]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Company:"})," Summit Software Solutions LLC"]})]})]})]})]})})})}function p_(){return u.jsx("div",{className:"min-h-screen p-4 sm:p-6",children:u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"parchment p-8 sm:p-12",children:[u.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-amber-900 mb-4",style:{fontFamily:"var(--font-header)"},children:"Privacy Policy"}),u.jsxs("p",{className:"text-amber-900/70 mb-8",children:[u.jsx("strong",{children:"Last Updated:"})," January 2025"]}),u.jsxs("div",{className:"space-y-8 text-amber-900/90",children:[u.jsx("section",{children:u.jsx("p",{className:"text-lg leading-relaxed mb-4",children:'Summit Software Solutions LLC ("we", "us", or "our") operates the DungeonRoller application (the "Service"). This page informs you of our policies regarding the collection, use, and disclosure of personal data when you use our Service.'})}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-3",style:{fontFamily:"var(--font-header)"},children:"1. Information We Collect"}),u.jsx("p",{className:"leading-relaxed mb-3",children:"We collect several types of information to provide and improve our Service:"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-lg mb-2",children:"Personal Information"}),u.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[u.jsx("li",{children:"Email address"}),u.jsx("li",{children:"Display name or username"}),u.jsx("li",{children:"Profile information you provide"})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-lg mb-2",children:"Usage Data"}),u.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[u.jsx("li",{children:"Pages visited and features used"}),u.jsx("li",{children:"Time spent on the Service"}),u.jsx("li",{children:"Device and browser information"}),u.jsx("li",{children:"IP address and location data"})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-lg mb-2",children:"Game Data"}),u.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[u.jsx("li",{children:"Characters you create"}),u.jsx("li",{children:"Adventures and stories you generate"}),u.jsx("li",{children:"Game progress and statistics"})]})]})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-3",style:{fontFamily:"var(--font-header)"},children:"2. How We Use Your Information"}),u.jsx("p",{className:"leading-relaxed mb-2",children:"We use the collected information for various purposes:"}),u.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[u.jsx("li",{children:"To provide and maintain our Service"}),u.jsx("li",{children:"To notify you about changes to our Service"}),u.jsx("li",{children:"To provide customer support"}),u.jsx("li",{children:"To gather analysis or valuable information to improve the Service"}),u.jsx("li",{children:"To monitor usage and detect issues"}),u.jsx("li",{children:"To provide personalized experiences"})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-3",style:{fontFamily:"var(--font-header)"},children:"3. Data Security"}),u.jsx("p",{className:"leading-relaxed mb-3",children:"The security of your data is important to us. We implement appropriate technical and organizational measures to protect your personal information against unauthorized access, alteration, disclosure, or destruction."}),u.jsx("p",{className:"leading-relaxed",children:"However, no method of transmission over the Internet or electronic storage is 100% secure. While we strive to protect your personal information, we cannot guarantee absolute security."})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-3",style:{fontFamily:"var(--font-header)"},children:"4. Data Sharing and Disclosure"}),u.jsx("p",{className:"leading-relaxed mb-2",children:"We may share your information in the following situations:"}),u.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[u.jsxs("li",{children:[u.jsx("strong",{children:"With your consent:"})," We may share information when you give us permission"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"For legal reasons:"})," To comply with legal obligations or protect our rights"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Business transfers:"})," In connection with any merger, sale, or acquisition"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Service providers:"})," With third-party service providers who assist in operating our Service"]})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-3",style:{fontFamily:"var(--font-header)"},children:"5. Your Data Rights"}),u.jsx("p",{className:"leading-relaxed mb-2",children:"You have the following rights regarding your personal data:"}),u.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Access:"})," Request copies of your personal data"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Correction:"})," Request correction of inaccurate data"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Deletion:"})," Request deletion of your personal data"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Data portability:"})," Request transfer of your data to another service"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Objection:"})," Object to processing of your personal data"]})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-3",style:{fontFamily:"var(--font-header)"},children:"6. Cookies and Tracking"}),u.jsx("p",{className:"leading-relaxed",children:"We use cookies and similar tracking technologies to track activity on our Service and hold certain information. You can instruct your browser to refuse all cookies or to indicate when a cookie is being sent."})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-3",style:{fontFamily:"var(--font-header)"},children:"7. Children's Privacy"}),u.jsx("p",{className:"leading-relaxed",children:"Our Service is not intended for children under 13 years of age. We do not knowingly collect personally identifiable information from children under 13."})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-3",style:{fontFamily:"var(--font-header)"},children:"8. Changes to This Privacy Policy"}),u.jsx("p",{className:"leading-relaxed",children:'We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last Updated" date.'})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-3",style:{fontFamily:"var(--font-header)"},children:"9. Contact Us"}),u.jsx("p",{className:"leading-relaxed mb-3",children:"If you have any questions about this Privacy Policy, please contact us:"}),u.jsxs("div",{className:"bg-amber-800/10 p-4 rounded-lg border border-amber-800/20",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Email:"})," ",u.jsx("a",{href:"mailto:info@summitsoftwaresolutions.dev",className:"text-amber-700 hover:text-amber-900",children:"info@summitsoftwaresolutions.dev"})]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Company:"})," Summit Software Solutions LLC"]})]})]})]})]})})})}function g_(){const[e,t]=w.useState({name:"",email:"",category:"general",message:""}),[n,r]=w.useState(!1),[o,a]=w.useState(!1),l=async d=>{d.preventDefault(),r(!0);try{await iD({from_name:e.name,to:"info@summitsoftwaresolutions.dev",subject:`DungeonRoller Contact - ${e.category}`,body:`
From: ${e.name} (${e.email})
Category: ${e.category}

Message:
${e.message}
        `}),a(!0),t({name:"",email:"",category:"general",message:""})}catch(h){console.error("Error sending email:",h),alert("Failed to send message. Please try emailing us directly at info@summitsoftwaresolutions.dev")}finally{r(!1)}};return u.jsx("div",{className:"min-h-screen p-4 sm:p-6",children:u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"parchment p-8 sm:p-12",children:[u.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-amber-900 mb-6",style:{fontFamily:"var(--font-header)"},children:"Contact Us"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-amber-900 mb-4",style:{fontFamily:"var(--font-header)"},children:"Summit Software Solutions LLC"}),u.jsxs("div",{className:"space-y-4 text-amber-900/90",children:[u.jsxs("div",{className:"bg-amber-800/10 p-6 rounded-lg border border-amber-800/20",children:[u.jsx("p",{className:"font-bold mb-2 text-lg",children:"📧 Contact Us"}),u.jsx("p",{className:"mb-3 text-amber-800/80",children:"For all inquiries including general questions, technical support, legal matters, and privacy concerns:"}),u.jsx("a",{href:"mailto:info@summitsoftwaresolutions.dev",className:"text-xl text-amber-700 hover:text-amber-900 font-semibold",children:"info@summitsoftwaresolutions.dev"})]}),u.jsx("div",{className:"bg-gradient-to-br from-amber-800/5 to-amber-900/5 p-4 rounded-lg border border-amber-800/10",children:u.jsxs("p",{className:"text-sm text-amber-800/70",children:[u.jsx("strong",{children:"Response Time:"})," We typically respond within 24-48 hours during business days."]})})]})]}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-amber-900 mb-4",style:{fontFamily:"var(--font-header)"},children:"Send us a Message"}),o?u.jsxs("div",{className:"bg-green-100 border border-green-300 rounded-lg p-6 text-center",children:[u.jsx("div",{className:"text-4xl mb-3",children:"✅"}),u.jsx("h3",{className:"text-xl font-bold text-green-900 mb-2",children:"Message Sent!"}),u.jsx("p",{className:"text-green-800",children:"We'll get back to you as soon as possible."}),u.jsx("button",{onClick:()=>a(!1),className:"mt-4 text-green-700 hover:text-green-900 font-semibold",children:"Send Another Message"})]}):u.jsxs("form",{onSubmit:l,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-amber-900 font-semibold mb-2",children:"Your Name *"}),u.jsx(Ei,{required:!0,value:e.name,onChange:d=>t({...e,name:d.target.value}),placeholder:"John Doe",className:"medieval-input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-amber-900 font-semibold mb-2",children:"Your Email *"}),u.jsx(Ei,{required:!0,type:"email",value:e.email,onChange:d=>t({...e,email:d.target.value}),placeholder:"john@example.com",className:"medieval-input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-amber-900 font-semibold mb-2",children:"Category"}),u.jsxs(ps,{value:e.category,onValueChange:d=>t({...e,category:d}),children:[u.jsx(Ir,{className:"medieval-select",children:u.jsx(gs,{})}),u.jsxs(Dr,{children:[u.jsx(Me,{value:"general",children:"General Question"}),u.jsx(Me,{value:"support",children:"Technical Support"}),u.jsx(Me,{value:"bug",children:"Bug Report"}),u.jsx(Me,{value:"feature",children:"Feature Request"}),u.jsx(Me,{value:"feedback",children:"Feedback"}),u.jsx(Me,{value:"legal",children:"Legal Inquiry"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-amber-900 font-semibold mb-2",children:"Your Message *"}),u.jsx(ra,{required:!0,value:e.message,onChange:d=>t({...e,message:d.target.value}),placeholder:"Tell us how we can help...",className:"medieval-textarea h-32"})]}),u.jsx("button",{type:"submit",disabled:n,className:"btn-scroll w-full h-14 text-lg",children:n?"Sending...":"Send Message"})]})]})]}),u.jsx("div",{className:"text-center pt-8 border-t-2 border-amber-800/30",children:u.jsx("p",{className:"text-lg text-amber-900/80",style:{fontFamily:"var(--font-fantasy)"},children:`"We're here to help you on your adventure!"`})})]})})})}const gx={Home:Qh,Character:iS,Adventure:bS,AdventureGenerator:a_,QuestSelection:l_,QuestStart:c_,DMTools:u_,AdventureBuilder:d_,AdventureBrowser:h_,About:f_,Terms:m_,Privacy:p_,Contact:g_};function f4(e){e.endsWith("/")&&(e=e.slice(0,-1));let t=e.split("/").pop();return t.includes("?")&&(t=t.split("?")[0]),Object.keys(gx).find(r=>r.toLowerCase()===t.toLowerCase())||Object.keys(gx)[0]}function m4(){const e=nn(),t=f4(e.pathname);return u.jsx(lA,{currentPageName:t,children:u.jsxs(xk,{children:[u.jsx(kt,{path:"/",element:u.jsx(Qh,{})}),u.jsx(kt,{path:"/Home",element:u.jsx(Qh,{})}),u.jsx(kt,{path:"/Character",element:u.jsx(iS,{})}),u.jsx(kt,{path:"/Adventure",element:u.jsx(bS,{})}),u.jsx(kt,{path:"/AdventureGenerator",element:u.jsx(a_,{})}),u.jsx(kt,{path:"/QuestSelection",element:u.jsx(l_,{})}),u.jsx(kt,{path:"/QuestStart",element:u.jsx(c_,{})}),u.jsx(kt,{path:"/DMTools",element:u.jsx(u_,{})}),u.jsx(kt,{path:"/AdventureBuilder",element:u.jsx(d_,{})}),u.jsx(kt,{path:"/AdventureBrowser",element:u.jsx(h_,{})}),u.jsx(kt,{path:"/About",element:u.jsx(f_,{})}),u.jsx(kt,{path:"/Terms",element:u.jsx(m_,{})}),u.jsx(kt,{path:"/Privacy",element:u.jsx(p_,{})}),u.jsx(kt,{path:"/Contact",element:u.jsx(g_,{})})]})})}function p4(){return u.jsx(Bk,{children:u.jsx(m4,{})})}const g4=20,y4=1e6,Yn={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let kh=0;function v4(){return kh=(kh+1)%Number.MAX_VALUE,kh.toString()}const Eh=new Map,yx=e=>{if(Eh.has(e))return;const t=setTimeout(()=>{Eh.delete(e),qo({type:Yn.REMOVE_TOAST,toastId:e})},y4);Eh.set(e,t)},x4=(e,t)=>{switch(t.type){case Yn.ADD_TOAST:return{...e,toasts:[t.toast,...e.toasts].slice(0,g4)};case Yn.UPDATE_TOAST:return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case Yn.DISMISS_TOAST:{const{toastId:n}=t;return n?yx(n):e.toasts.forEach(r=>{yx(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case Yn.REMOVE_TOAST:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},ic=[];let oc={toasts:[]};function qo(e){oc=x4(oc,e),ic.forEach(t=>{t(oc)})}function w4({...e}){const t=v4(),n=o=>qo({type:Yn.UPDATE_TOAST,toast:{...o,id:t}}),r=()=>qo({type:Yn.DISMISS_TOAST,toastId:t});return qo({type:Yn.ADD_TOAST,toast:{...e,id:t,open:!0,onOpenChange:o=>{o||r()}}}),{id:t,dismiss:r,update:n}}function b4(){const[e,t]=w.useState(oc);return w.useEffect(()=>(ic.push(t),()=>{const n=ic.indexOf(t);n>-1&&ic.splice(n,1)}),[e]),{...e,toast:w4,dismiss:n=>qo({type:Yn.DISMISS_TOAST,toastId:n})}}const y_=w.forwardRef(({...e},t)=>u.jsx("div",{ref:t,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...e}));y_.displayName="ToastProvider";const v_=w.forwardRef(({...e},t)=>u.jsx("div",{ref:t,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...e}));v_.displayName="ToastViewport";const S4=Dc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),x_=w.forwardRef(({className:e,variant:t,...n},r)=>u.jsx("div",{ref:r,className:tt(S4({variant:t}),e),...n}));x_.displayName="Toast";const _4=w.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:tt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));_4.displayName="ToastAction";const w_=w.forwardRef(({className:e,...t},n)=>u.jsx("button",{ref:n,className:tt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:u.jsx(VI,{className:"h-4 w-4"})}));w_.displayName="ToastClose";const b_=w.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:tt("text-sm font-semibold",e),...t}));b_.displayName="ToastTitle";const S_=w.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:tt("text-sm opacity-90",e),...t}));S_.displayName="ToastDescription";function j4(){const{toasts:e}=b4();return u.jsxs(y_,{children:[e.map(function({id:t,title:n,description:r,action:o,...a}){return u.jsxs(x_,{...a,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(b_,{children:n}),r&&u.jsx(S_,{children:r})]}),o,u.jsx(w_,{})]},t)}),u.jsx(v_,{})]})}function C4(){return u.jsxs(u.Fragment,{children:[u.jsx(p4,{}),u.jsx(j4,{})]})}TC.createRoot(document.getElementById("root")).render(u.jsx(C4,{}));
